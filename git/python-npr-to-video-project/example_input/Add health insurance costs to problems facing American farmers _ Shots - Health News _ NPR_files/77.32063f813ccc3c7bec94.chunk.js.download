(window.webpackJsonp=window.webpackJsonp||[]).push([[77,4,9],[,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATE_LOADED="STATE_LOADED",t.STATE_DETECTION_COMPLETED="STATE_DETECTION_COMPLETED",t.AUDIO_MODULE_MOUNTED="AUDIO_MODULE_MOUNTED",t.ACCESS_TOKEN_RECEIVED="ACCESS_TOKEN_RECEIVED",t.ANONYMOUS_ACCESS_TOKEN_REQUESTED="ANONYMOUS_ACCESS_TOKEN_REQUESTED",t.ANONYMOUS_ACCESS_TOKEN_RECEIVED="ANONYMOUS_ACCESS_TOKEN_RECEIVED",t.ANONYMOUS_ACCESS_TOKEN_REQUEST_FAILED="ANONYMOUS_ACCESS_TOKEN_REQUEST_FAILED",t.USER_LOGOUT_REQUESTED="USER_LOGOUT_REQUESTED",t.USER_LOGOUT_COMPLETED="USER_LOGOUT_COMPLETED",t.LOGOUT_REVOKE_ACCESS_TOKEN_REQUESTED="LOGOUT_REVOKE_ACCESS_TOKEN_REQUESTED",t.LOGOUT_REVOKE_ACCESS_TOKEN_SUCCEEDED="LOGOUT_REVOKE_ACCESS_TOKEN_SUCCEEDED",t.LOGOUT_REVOKE_ACCESS_TOKEN_FAILED="LOGOUT_REVOKE_ACCESS_TOKEN_FAILED",t.LOGOUT_DELETE_JWT_REQUESTED="LOGOUT_DELETE_JWT_REQUESTED",t.LOGOUT_DELETE_JWT_SUCCEEDED="LOGOUT_DELETE_JWT_SUCCEEDED",t.LOGOUT_CLEAR_LOGIN_COOKIES_REQUESTED="LOGOUT_CLEAR_LOGIN_COOKIES_REQUESTED",t.LOGOUT_CLEAR_LOGIN_COOKIES_SUCCEEDED="LOGOUT_CLEAR_LOGIN_COOKIES_SUCCEEDED",t.LOGOUT_RESET_FLOW_STATE_REQUESTED="LOGOUT_RESET_FLOW_STATE_REQUESTED",t.LOGOUT_RESET_FLOW_STATE_SUCCEEDED="LOGOUT_RESET_FLOW_STATE_SUCCEEDED",t.USER_VIEW_LOAD_REQUESTED="USER_VIEW_LOAD_REQUESTED",t.USER_VIEW_LOAD_COMPLETED="USER_VIEW_LOAD_COMPLETED",t.USER_VIEW_LOAD_FAILED="USER_VIEW_LOAD_FAILED",t.GET_USER_EMAIL_HASH_REQUESTED="GET_USER_EMAIL_HASH_REQUESTED",t.GET_USER_EMAIL_HASH_SUCCEEDED="GET_USER_EMAIL_HASH_SUCCEEDED",t.GET_USER_EMAIL_HASH_FAILED="GET_USER_EMAIL_HASH_FAILED",t.GET_USER_EMAIL_HASH_FROM_REFFERAL_REQUESTED="GET_USER_EMAIL_HASH_FROM_REFFERAL_REQUESTED",t.GET_USER_EMAIL_HASH_FROM_REFFERAL_SUCCEEDED="GET_USER_EMAIL_HASH_FROM_REFFERAL_SUCCEEDED",t.GET_USER_EMAIL_HASH_FROM_REFFERAL_FAILED="GET_USER_EMAIL_HASH_FROM_REFFERAL_FAILED",t.USER_PLUS_DATA_LOADED="USER_PLUS_DATA_LOADED",t.LOCALIZATION_RESPONSE_RECEIVED="LOCALIZATION_RESPONSE_RECEIVED",t.GET_LOCAL_STATIONS_REQUESTED="GET_LOCAL_STATIONS_REQUESTED",t.GET_LOCAL_STATIONS_SKIPPED="GET_LOCAL_STATIONS_SKIPPED",t.GET_LOCAL_STATIONS_SUCCEEDED="GET_LOCAL_STATIONS_SUCCEEDED",t.GET_LOCAL_STATIONS_FAILED="GET_LOCAL_STATIONS_FAILED",t.PRE_EXISTING_LOCAL_STATIONS_DETECTED="PRE_EXISTING_LOCAL_STATIONS_DETECTED",t.STATION_CHANGE_REQUESTED="STATION_CHANGE_REQUESTED",t.STATION_CHANGE_COMPLETED="STATION_CHANGE_COMPLETED",t.STATION_AUTOLOCALIZED="STATION_AUTOLOCALIZED",t.HAS_DETERMINED_USER_IS_ALREADY_LOCALIZED="HAS_DETERMINED_USER_IS_ALREADY_LOCALIZED",t.HAS_LOCALIZATION_DATA_READY="HAS_LOCALIZATION_DATA_READY",t.SET_STATE="SET_STATE",t.SET_SOURCE="SET_SOURCE",t.SET_OTHER_AMOUNT="SET_OTHER_AMOUNT",t.RESET_OTHER_AMOUNT="RESET_OTHER_AMOUNT",t.HAS_CHECKED_SPRINGBOARD_COOKIE="HAS_CHECKED_SPRINGBOARD_COOKIE",t.CLICK_DONATE="CLICK_DONATE",t.AMOUNT_SELECTED="AMOUNT_SELECTED",t.PLUS_PROMO_BUTTON_CLICKED="PLUS_PROMO_BUTTON_CLICKED",t.DOWNLOAD_APP_PROMO_CLICKED="DOWNLOAD_APP_PROMO_CLICKED",t.SIGN_IN_PROMO_CLICKED="SIGN_IN_PROMO_CLICKED",t.CREATE_ACCOUNT_PROMO_CLICKED="CREATE_ACCOUNT_PROMO_CLICKED",t.PARTICIPATING_STATION_DATA_LOADED="PARTICIPATING_STATION_DATA_LOADED",t.DEFAULT_ORG_RESOLVED="DEFAULT_ORG_RESOLVED",t.STATION_DATA_LOADED="STATION_DATA_LOADED",t.TOGGLE_EXPANDED="TOGGLE_EXPANDED",t.AUDIO_COMPLETE="AUDIO_COMPLETE",t.AUDIO_DURATION_CHANGE="AUDIO_DURATION_CHANGE",t.AUDIO_BUFFERING_STARTED="AUDIO_BUFFERING_STARTED",t.AUDIO_BUFFERING_FINISHED="AUDIO_BUFFERING_FINISHED",t.AUDIO_PLAYING_STATUS_DIRECT="AUDIO_PLAYING_STATUS_DIRECT",t.PLAY_PAUSE_BUTTON_PRESSED="PLAY_PAUSE_BUTTON_PRESSED",t.PLAY_PAUSE_REQUESTED="PLAY_PAUSE_REQUESTED",t.NEW_PLAY_REQUESTED="NEW_PLAY_REQUESTED",t.NEW_AUDIO_SEGMENT_PLAY_REQUESTED="NEW_AUDIO_SEGMENT_PLAY_REQUESTED",t.NEW_AUDIO_SEGMENT_PLAY_REQUEST_FAILED="NEW_AUDIO_SEGMENT_PLAY_REQUEST_FAILED",t.AUDIO_RECEIVED="AUDIO_RECEIVED",t.AUDIO_PLAYED="AUDIO_PLAYED",t.TOGGLE_PLAY="TOGGLE_PLAY",t.AUDIO_SEGMENT_URLS_REQUESTED="AUDIO_SEGMENT_URLS_REQUESTED",t.AUDIO_SEGMENT_URLS_RECEIVED="AUDIO_SEGMENT_URLS_RECEIVED",t.SET_AUDIO_PLAYER_VOLUME="SET_AUDIO_PLAYER_VOLUME",t.ADD_STREAM_TO_STAGE_REQUESTED="ADD_STREAM_TO_STAGE_REQUESTED",t.AUDIO_EXPIRED="AUDIO_EXPIRED",t.AUDIO_ERROR="AUDIO_ERROR",t.REWIND="REWIND",t.FAST_FORWARD="FAST_FORWARD",t.SKIP="SKIP",t.SCRUB_BEGIN="SCRUB_BEGIN",t.SCRUB_END="SCRUB_END",t.SEEK="SEEK",t.GENERAL_PLAYER_ERROR="GENERAL_PLAYER_ERROR",t.AUTHENTICATION_PLAYER_ERROR="AUTHENTICATION_PLAYER_ERROR",t.LINK_CLICKED="LINK_CLICKED",t.CLEAR_HISTORY_REQUESTED="CLEAR_HISTORY_REQUESTED",t.PREVIOUS_AUDIO_PLAY_RECEIVED="PREVIOUS_AUDIO_PLAY_RECEIVED",t.INCREMENT_AUDIO_HISTORY_HEAD="INCREMENT_AUDIO_HISTORY_HEAD",t.HISTORY_ITEMS_UNLOADED="HISTORY_ITEMS_UNLOADED",t.METADATA_LOADED="METADATA_LOADED",t.METADATAS_LOADED="METADATAS_LOADED",t.METADATA_UNLOADED="METADATA_UNLOADED",t.METADATAS_UNLOADED="METADATAS_UNLOADED",t.METADATA_INVALIDATED="METADATA_INVALIDATED",t.PROMO_CARD_AUDIO_METADATA_LOADED="PROMO_CARD_AUDIO_METADATA_LOADED",t.NOW_ON_STREAMS_REGISTRATION_REQUESTED="NOW_ON_STREAMS_REGISTRATION_REQUESTED",t.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED="NOW_ON_STREAMS_UNREGISTRATION_REQUESTED",t.INITIAL_WIDTH_DETECTED="INITIAL_WIDTH_DETECTED",t.WIDTH_DETECTED="WIDTH_DETECTED",t.TOUCH_DETECTED="TOUCH_DETECTED",t.ECOSYSTEM_DETECTED="ECOSYSTEM_DETECTED",t.RIGHTRAIL_DETECTED="RIGHTRAIL_DETECTED",t.PAGE_VISIBILITY_DETECTED="PAGE_VISIBILITY_DETECTED",t.CONTAINER_UNWRAPPED="CONTAINER_UNWRAPPED",t.NOW_PLAYING_LOADED="NOW_PLAYING_LOADED",t.COUNTRY_REQUESTED="COUNTRY_REQUESTED",t.COUNTRY_DETECTED="COUNTRY_DETECTED",t.TIMER="TIMER",t.PROGRAM_PAGE_INIT_SUCCEEDED="PROGRAM_PAGE_INIT_SUCCEEDED",t.STORY_PAGE_DETECTED="STORY_PAGE_DETECTED",t.END_OF_STORY_RECOMMENDATION_REQUESTED="END_OF_STORY_RECOMMENDATION_REQUESTED",t.END_OF_STORY_RECOMMENDATION_COMPLETED="END_OF_STORY_RECOMMENDATION_COMPLETED",t.END_OF_STORY_RECOMMENDATION_FAILED="END_OF_STORY_RECOMMENDATION_FAILED",t.END_OF_STORY_RECOMMENDATIONS_RESET="END_OF_STORY_RECOMMENDATIONS_RESET",t.CENTER_STAGE_AD_STATUS_DETERMINED="CENTER_STAGE_AD_STATUS_DETERMINED",t.PANE_CHANGE_DIRECT="PANE_CHANGE_DIRECT",t.PANE_CHANGE_WITH_EXPAND="PANE_CHANGE_WITH_EXPAND",t.SUBPANE_CHANGE_DIRECT="SUBPANE_CHANGE_DIRECT",t.SUBPANE_CHANGE_WITH_EXPAND="SUBPANE_CHANGE_WITH_EXPAND",t.ON_DEMAND_PANE_SELECTED="ON_DEMAND_PANE_SELECTED",t.STREAMING_PANE_SELECTED_WITH_PLAY="STREAMING_PANE_SELECTED_WITH_PLAY",t.COLLAPSE_PANE="COLLAPSE_PANE",t.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP="NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP",t.AGG_REQUESTED="AGG_REQUESTED",t.AGG_LOADED="AGG_LOADED",t.NEWSCAST_REQUESTED="NEWSCAST_REQUESTED",t.QUEUE_BUTTON_PRESSED="QUEUE_BUTTON_PRESSED",t.INITIALIZE_FEATURED_AUDIO_REQUESTED="INITIALIZE_FEATURED_AUDIO_REQUESTED",t.INITIALIZE_FEATURED_AUDIO_SUCCEEDED="INITIALIZE_FEATURED_AUDIO_SUCCEEDED",t.SPONSORSHIP_REQUESTED="SPONSORSHIP_REQUESTED",t.SPONSORSHIP_STARTED="SPONSORSHIP_STARTED",t.SPONSORSHIP_LOADED="SPONSORSHIP_LOADED",t.SPONSORSHIP_SLOT_AVAILABLE="SPONSORSHIP_SLOT_AVAILABLE",t.MOBILE_SPONSORSHIP_SLOT_AVAILABLE="MOBILE_SPONSORSHIP_SLOT_AVAILABLE",t.SOUNDSCAPES_LOADED="SOUNDSCAPES_LOADED",t.SPONSORSHIP_DIVS_RESET="SPONSORSHIP_DIVS_RESET",t.SPONSORSHIP_INTERRUPTED="SPONSORSHIP_INTERRUPTED",t.SOUNDSCAPES_BANNER_CLICKED="SOUNDSCAPES_BANNER_CLICKED",t.SPONSORSHIP_CHANNEL_ADD_TO_PLAYLIST="SPONSORSHIP_CHANNEL_ADD_TO_PLAYLIST",t.SPONSORSHIP_CLICKED_THROUGH="SPONSORSHIP_CLICKED_THROUGH",t.SPONSORSHIP_STATE_REVERTED="SPONSORSHIP_STATE_REVERTED",t.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_REQUESTED="GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_REQUESTED",t.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SUCCEEDED="GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SUCCEEDED",t.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_FAILED="GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_FAILED",t.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SKIPPED="GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SKIPPED",t.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_REQUESTED="GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_REQUESTED",t.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_SUCCEEDED="GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_SUCCEEDED",t.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_FAILED="GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_FAILED",t.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_SKIPPED="GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_SKIPPED",t.VIDEO_PREROLL_ENDED="VIDEO_PREROLL_ENDED",t.STATION_SEARCH_REQUESTED="STATION_SEARCH_REQUESTED",t.STATION_SEARCH_RESULTS_LOADED="STATION_SEARCH_LOADED",t.STATION_SEARCH_FAILED="STATION_SEARCH_FAILED",t.USER_SELECTS_STATION="USER_SELECTS_STATION",t.STATION_NETWORK_LOOKUP_REQUESTED="STATION_NETWORK_LOOKUP_REQUESTED",t.STATION_NETWORK_RESULTS_LOADED="STATION_NETWORK_RESULTS_LOADED",t.STATION_NETWORK_LOOKUP_FAILED="STATION_NETWORK_LOOKUP_FAILED",t.NEWSLETTER_ACQUISITION_REQUESTED="NEWSLETTER_ACQUISITION_REQUESTED",t.NEWSLETTER_ACQUISITION_COMPLETED="NEWSLETTER_ACQUISITION_COMPLETED",t.NEWSLETTER_ACQUISITION_FAILED="NEWSLETTER_ACQUISITION_FAILED",t.STATION_DROPDOWN_TOGGLED="STATION_DROPDOWN_TOGGLED",t.CLOSE_SUBNAVS="CLOSE_SUBNAVS",t.PAGE_DETECTED="PAGE_DETECTED",t.SESSION_LOADED="SESSION_LOADED",t.SPIKING_STORIES_REQUESTED="SPIKING_STORIES_REQUESTED",t.SPIKING_STORIES_SUCCEEDED="SPIKING_STORIES_SUCCEEDED",t.SPIKING_STORIES_FAILED="SPIKING_STORIES_FAILED",t.SPIKING_STORY_DETECTED="SPIKING_STORY_DETECTED",t.SPIKING_STORY_NOT_DETECTED="SPIKING_STORY_NOT_DETECTED",t.INITIAL_STATE_CORRECTION="INITIAL_STATE_CORRECTION",t.PROGRAM_SCHEDULE_REQUESTED="PROGRAM_SCHEDULE_REQUESTED",t.PROGRAM_SCHEDULE_LOADED="PROGRAM_SCHEDULE_LOADED",t.HP_LOCAL_STORIES_REQUESTED="HP_LOCAL_STORIES_REQUESTED",t.HP_LOCAL_STORIES_SUCCEEDED="HP_LOCAL_STORIES_SUCCEEDED",t.HP_LOCAL_STORIES_FAILED="HP_LOCAL_STORIES_FAILED",t.EMPTY_ACTION_TYPE="EMPTY_ACTION_TYPE",t.FORCE_PLAY_AUDIO_FOR_PREVIEW="FORCE_PLAY_AUDIO_FOR_PREVIEW",t.RESET_OVERRIDE_POST_URL="RESET_OVERRIDE_POST_URL",t.MANUALLY_ADVANCE_TOP_OF_FLOW_FROM_ERROR="MANUALLY_ADVANCE_TOP_OF_FLOW_FROM_ERROR",t.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_SKIP="ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_SKIP",t.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_COMPLETE="ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_COMPLETE",t.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_AUDIO_ERROR="ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_AUDIO_ERROR",t.ADVANCE_TOP_OF_FLOW="ADVANCE_TOP_OF_FLOW",t.ADVANCE_TOP_OF_FLOW_AND_PLAY="ADVANCE_TOP_OF_FLOW_AND_PLAY",t.PLAY_TOP_OF_FLOW="PLAY_TOP_OF_FLOW",t.ON_RAMP_FLOW_RECOMMENDATIONS_RECEIVED="ON_RAMP_FLOW_RECOMMENDATIONS_RECEIVED",t.RESET_FLOW_STATE="RESET_FLOW_STATE",t.RESET_FLOW_STATE_FOR_NEW_TOKEN="RESET_FLOW_STATE_FOR_NEW_TOKEN",t.INITIALIZE_FLOW_STATE="INITIALIZE_FLOW_STATE",t.FLOW_RECOMMENDATIONS_RECEIVED="FLOW_RECOMMENDATIONS_RECEIVED",t.ADD_STAGED_RATING_AND_SEND="ADD_STAGED_RATING_AND_SEND",t.TRIGGER_RATINGS_HEARTBEAT="TRIGGER_RATINGS_HEARTBEAT",t.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_REQUESTED="GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_REQUESTED",t.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_SUCCEEDED="GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_SUCCEEDED",t.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_FAILED="GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_FAILED",t.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_REQUESTED="GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_REQUESTED",t.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_SUCCEEDED="GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_SUCCEEDED",t.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_FAILED="GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_FAILED",t.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_REQUESTED="GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_REQUESTED",t.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_SUCCEEDED="GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_SUCCEEDED",t.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_FAILED="GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_FAILED",t.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_REQUESTED="GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_REQUESTED",t.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_SUCCEEDED="GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_SUCCEEDED",t.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_FAILED="GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_FAILED",t.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_REQUESTED="GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_REQUESTED",t.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED="GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED",t.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_FAILED="GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_FAILED",t.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_REQUESTED="GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_REQUESTED",t.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_SUCCEEDED="GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_SUCCEEDED",t.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_FAILED="GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_FAILED",t.SEND_RATINGS_REQUESTED="SEND_RATINGS_REQUESTED",t.SEND_RATINGS_SUCCEEDED="SEND_RATINGS_SUCCEEDED",t.SEND_RATINGS_FAILED="SEND_RATINGS_FAILED",t.UPDATE_PLAYLIST_UIDS_REQUESTED="UPDATE_PLAYLIST_UIDS_REQUESTED",t.UPDATE_PLAYLIST_UIDS_SUCCEEDED="UPDATE_PLAYLIST_UIDS_SUCCEEDED",t.UPDATE_PLAYLIST_UIDS_FAILED="UPDATE_PLAYLIST_UIDS_FAILED",t.GET_PLAYLIST_UIDS_REQUESTED="GET_PLAYLIST_UIDS_REQUESTED",t.GET_PLAYLIST_UIDS_SUCCEEDED="GET_PLAYLIST_UIDS_SUCCEEDED",t.GET_PLAYLIST_UIDS_FAILED="GET_PLAYLIST_UIDS_FAILED",t.INITIALIZE_PLAYER_WITH_REMOTE_SERVICE="INITIALIZE_PLAYER_WITH_REMOTE_SERVICE",t.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_REQUESTED="GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_REQUESTED",t.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED="GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED",t.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_FAILED="GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_FAILED",t.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_REQUESTED="LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_REQUESTED",t.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_SUCCEEDED="LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_SUCCEEDED",t.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_FAILED="LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_FAILED",t.ADD_FLOW_RECOMMENDATIONS_TO_PLAYLIST_VISUAL_RECOMMENDATIONS="ADD_FLOW_RECOMMENDATIONS_TO_PLAYLIST_VISUAL_RECOMMENDATIONS",t.ADD_CHANNEL_TO_PLAYLIST_REQUESTED="ADD_CHANNEL_TO_PLAYLIST_REQUESTED",t.ADD_CHANNEL_TO_PLAYLIST_SUCCEEDED="ADD_CHANNEL_TO_PLAYLIST_SUCCEEDED",t.ADD_CHANNEL_TO_PLAYLIST_FAILED="ADD_CHANNEL_TO_PLAYLIST_FAILED",t.PLAY_AUDIO_FROM_PLAYLIST="PLAY_AUDIO_FROM_PLAYLIST",t.DELETE_PLAYLIST_ITEMS_REQUESTED="DELETE_PLAYLIST_ITEMS_REQUESTED",t.DELETE_PLAYLIST_ITEMS_SUCCEEDED="DELETE_PLAYLIST_ITEMS_SUCCEEDED",t.DELETE_PLAYLIST_ITEMS_FAILED="DELETE_PLAYLIST_ITEMS_FAILED",t.ADD_PLAYLIST_ITEMS_REQUESTED="ADD_PLAYLIST_ITEMS_REQUESTED",t.ADD_PLAYLIST_ITEMS_SUCCEEDED="ADD_PLAYLIST_ITEMS_SUCCEEDED",t.ADD_PLAYLIST_ITEMS_FAILED="ADD_PLAYLIST_ITEMS_FAILED",t.ADD_PLAYLIST_ITEMS_TO_TOP_REQUESTED="ADD_PLAYLIST_ITEMS_TO_TOP_REQUESTED",t.ADD_PLAYLIST_ITEMS_TO_TOP_AND_PLAY_REQUESTED="ADD_PLAYLIST_ITEMS_TO_TOP_AND_PLAY_REQUESTED",t.RESET_PLAYLIST_VISUAL_STATE="RESET_PLAYLIST_VISUAL_STATE",t.REFRESH_PLAYLIST_FLOW_RECOMMENDATIONS="REFRESH_PLAYLIST_FLOW_RECOMMENDATIONS",t.LISTENING_HISTORY_REQUESTED="LISTENING_HISTORY_REQUESTED",t.LISTENING_HISTORY_SUCCEEDED="LISTENING_HISTORY_SUCCEEDED",t.LISTENING_HISTORY_FAILED="LISTENING_HISTORY_FAILED",t.ENABLE_CONTINUOUS_LISTENING="ENABLE_CONTINUOUS_LISTENING",t.DISABLE_CONTINUOUS_LISTENING="DISABLE_CONTINUOUS_LISTENING",t.AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING="AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING",t.MOBILE_NATIVE_USER_LOAD_REQUESTED="MOBILE_NATIVE_USER_LOAD_REQUESTED",t.MOBILE_NATIVE_USER_LOAD_SUCCEEDED="MOBILE_NATIVE_USER_LOAD_SUCCEEDED",t.MOBILE_NATIVE_USER_LOAD_FAILED="MOBILE_NATIVE_USER_LOAD_FAILED",t.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED="MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED",t.MOBILE_NATIVE_DETECTED="MOBILE_NATIVE_DETECTED",t.MOBILE_NATIVE_USER_MODEL_AND_TOKEN_RECEIVED="MOBILE_NATIVE_USER_MODEL_AND_TOKEN_RECEIVED",t.MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED="MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED",t.MOBILE_NATIVE_DID_START_LOADING="MOBILE_NATIVE_DID_START_LOADING",t.MOBILE_NATIVE_DID_START_PLAYING="MOBILE_NATIVE_DID_START_PLAYING",t.MOBILE_NATIVE_DID_STOP_PLAYING="MOBILE_NATIVE_DID_STOP_PLAYING",t.MOBILE_NATIVE_QUEUE_BUTTON_PRESSED="MOBILE_NATIVE_QUEUE_BUTTON_PRESSED",t.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST="MOBILE_NATIVE_DID_ADD_TO_PLAYLIST",t.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST="MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST",t.MOBILE_NATIVE_DID_START_LOADING_PLAYLIST="MOBILE_NATIVE_DID_START_LOADING_PLAYLIST",t.CHECK_GLOBAL_ALERTS="CHECK_GLOBAL_ALERTS",t.SHOW_GLOBAL_STICKYBAR="SHOW_GLOBAL_STICKYBAR",t.SHOW_GLOBAL_MODAL="SHOW_GLOBAL_MODAL",t.HIDE_GLOBAL_ALERTS="HIDE_GLOBAL_ALERTS",t.GLOBAL_ALERT_VARIATION_DETERMINED="GLOBAL_ALERT_VARIATION_DETERMINED",t.RESET_NUM_TIMES_MODAL_TRIGGERED="RESET_NUM_TIMES_MODAL_TRIGGERED",t.RESET_NUM_TIMES_STICKYBAR_TRIGGERED="RESET_NUM_TIMES_STICKYBAR_TRIGGERED",t.SHOW_NPR_PLUS_MODAL="SHOW_NPR_PLUS_MODAL",t.HIDE_NPR_PLUS_MODAL="HIDE_NPR_PLUS_MODAL",t.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED="ON_PAGE_CALLOUT_DETERMINATION_REQUESTED",t.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED="ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED",t.END_OF_STORY_CALLOUT_SEEN="END_OF_STORY_CALLOUT_SEEN",t.END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED="END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED",t.END_OF_STORY_DONATION_CALLOUT_METRIC_RESOLVED="END_OF_STORY_DONATION_CALLOUT_METRIC_RESOLVED",t.HP_HIDE_STATION_CARD_MESSAGE="HP_HIDE_STATION_CARD_MESSAGE",t.MUSIC_STREAMS_REQUESTED="MUSIC_STREAMS_REQUESTED",t.MUSIC_STREAMS_REQUEST_SUCCEEDED="MUSIC_STREAMS_REQUEST_SUCCEEDED",t.MUSIC_STREAMS_STATUS_RESET="MUSIC_STREAMS_STATUS_RESET",t.MUSIC_STREAMS_REQUEST_FAILED="MUSIC_STREAMS_REQUEST_FAILED",t.DATA_CONSENT_UPDATED="DATA_CONSENT_UPDATED",t.INITIAL_PLUS_CONTENT_PROPERTIES_FOR_RENDERED_PAGE_INGESTED="INITIAL_PLUS_CONTENT_PROPERTIES_FOR_RENDERED_PAGE_INGESTED",t.ADDITIONAL_PODCAST_EPISODES_MADE_AVAILABLE_ON_PAGE="ADDITIONAL_PODCAST_EPISODES_MADE_AVAILABLE_ON_PAGE",t.ADD_WIDGET_TO_RIGHT_RAIL="ADD_WIDGET_TO_RIGHT_RAIL",t.PIANO_INIT_SUCCEEDED="PIANO_INIT_SUCCEEDED",t.JWT_REQUESTED="JWT_REQUESTED",t.JWT_REQUEST_SUCCEEDED="JWT_REQUEST_SUCCEEDED",t.JWT_REQUEST_FAILED="JWT_REQUEST_FAILED",t.SEND_JWT_TO_PIANO="SEND_JWT_TO_PIANO",t.TP_EXPERIENCE_INIT_REQUESTED="TP_EXPERIENCE_INIT_REQUESTED",t.TP_EXPERIENCE_INIT_SUCCEEDED="TP_EXPERIENCE_INIT_SUCCEEDED",t.TP_EXPERIENCE_EXECUTE_REQUESTED="TP_EXPERIENCE_EXECUTE_REQUESTED",t.TP_EXPERIENCE_EXECUTE_SUCCEEDED="TP_EXPERIENCE_EXECUTE_SUCCEEDED",t.LIVE_BLOG_POSTS_REQUESTED="LIVE_BLOG_POSTS_REQUESTED",t.LIVE_BLOG_POSTS_SUCCEEDED="LIVE_BLOG_POSTS_SUCCEEDED",t.LIVE_BLOG_POSTS_FAILED="LIVE_BLOG_POSTS_FAILED",t.THEME_DETECTED="THEME_DETECTED",t.BINGE_MODE_PARAM_DETECTED="BINGE_MODE_PARAM_DETECTED",t.LAYOUT_DETECTED="LAYOUT_DETECTED"},function(e,t,n){"use strict";n.p=NPR.serverVars.webpackPublicPath,n(213),n(521),n(210),n(522),n(523),n(525),n(531),n(170),n(503),n(532),n(534),n(172),n(535),n(211),n(501),n(515),n(95),n(537),n(538),n(572),n(577),n(153),n(579),n(590),n(592),n(610),n(611),n(212),n(613),n(614)},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(8),o=(r=a)&&r.__esModule?r:{default:r};t.default={info:function(e,t){(0,o.default)(this).trigger("npr:log:info",{message:e,data:t})},warning:function(e,t,n){(0,o.default)(this).trigger("npr:log:warning",{message:e,data:t,exception:n})},error:function(e,t){(0,o.default)(this).trigger("npr:log:error",{exception:e,data:t})}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLiveBlogRequestStatus=t.isCurrentlyOnLiveBlog=t.getLiveBlogForId=t.getIsAudioLoadedForAggWidget=t.getStoriesForAggWidget=void 0,t.getConstructedQueue=function(e){return[]},t.isAudioRecommendation=function(e,t){return!1},t.getPlayerHistory=function(e){return _.default.getPlayerHistory(e.history)},t.getCurrentPlayerHistoryHeadPosition=function(e){return _.default.getCurrentPlayerHistoryHeadPosition(e.history)},t.getCurrentPane=function(e){return i.default.getCurrentPane(e.panes)},t.getCurrentSubpane=function(e){return i.default.getCurrentSubpane(e.panes)},t.getAlertVariant=function(e){return b.default.getAlertVariant(e)},t.getNumTimesModalTriggered=function(e,t){return b.default.getNumTimesModalTriggered(e)},t.getNumTimesStickybarTriggered=function(e,t){return b.default.getNumTimesStickybarTriggered(e,t)},t.getAlertIsDismissed=function(e){return b.default.getAlertIsDismissed(e)},t.getGlobalAlertAlreadyVisibleThisPage=function(e){return b.default.getGlobalAlertAlreadyVisibleThisPage(e)},t.getGlobalAlertLastDisplayed=function(e){return b.default.getGlobalAlertLastDisplayed(e)},t.getVariantIDToShowOnThisPage=function(e){return b.default.getVariantIDToShowOnThisPage(e)},t.getVariantTypeToShowOnThisPage=function(e){return b.default.getVariantTypeToShowOnThisPage(e)},t.getCenterStageVariant=function(e){return P.default.getCenterStageVariant(e)},t.getEndOfStoryVariant=function(e){return P.default.getEndOfStoryVariant(e)},t.getIsGlobalAlertsComplete=function(e){return P.default.getIsGlobalAlertsComplete(e)},t.getIsDFPComplete=function(e){return P.default.getIsDFPComplete(e)},t.getWasOnPageCalloutDeterminationRequested=function(e){return P.default.getWasOnPageCalloutDeterminationRequested(e)},t.getCardMessageIsHidden=function(e){return R.default.getCardMessageIsHidden(e)},t.getCurrentPage=function(e){return u.default.getCurrentPage(e)},t.getBingeModeId=function(e){return u.default.getBingeModeId(e)},t.getCurrentRightRailWidgets=function(e){return c.default.getCurrentRightRailWidgets(e.contentWidgets)},t.getStoriesByAggIdForWidgets=function(e){return c.default.getStoriesByAggIdForWidgets(e.contentWidgets)},t.getIsCurrentPageSpiking=function(e){return l.default.getIsCurrentPageSpiking(e)},t.getLocalMusicStreams=function(e){return D.default.getLocalMusicStreams(e)},t.getRockMusicStreams=function(e){return D.default.getRockMusicStreams(e)},t.getFolkMusicStreams=function(e){return D.default.getFolkMusicStreams(e)},t.getClassicalMusicStreams=function(e){return D.default.getClassicalMusicStreams(e)},t.getRbMusicStreams=function(e){return D.default.getRbMusicStreams(e)},t.getHiphopMusicStreams=function(e){return D.default.getHiphopMusicStreams(e)},t.getRbHiphopMusicStreams=function(e){return D.default.getRbHiphopMusicStreams(e)},t.getJazzMusicStreams=function(e){return D.default.getJazzMusicStreams(e)},t.getMixedMusicStreams=function(e){return D.default.getMixedMusicStreams(e)},t.getMusicStreamsStatus=function(e){return D.default.getMusicStreamsStatus(e)},t.getLastPaymentDate=function(e){return N.default.getLastPaymentDate(e)},t.getActiveRating=function(e){return E.default.getActiveRating(e.listeningService)},t.getOverridePostUrl=function(e){return E.default.getOverridePostUrl(e.listeningService)},t.getCurrentPostUrl=function(e){return E.default.getCurrentPostUrl(e.listeningService)},t.getLastPostTimestamp=function(e){return E.default.getLastPostTimestamp(e.listeningService)},t.getActiveFlowRecommendations=function(e){return E.default.getActiveFlowRecommendations(e.listeningService)},t.getPlaylistVisualRecommendations=function(e){return E.default.getPlaylistVisualRecommendations(e.listeningService)},t.getHistoryVisualRecommendations=function(e){return E.default.getHistoryVisualRecommendations(e.listeningService)},t.isCurrentFlowTypePlaylist=function(e){return E.default.isCurrentFlowTypePlaylist(e.listeningService)},t.isCurrentFlowTypeDefaultFlow=function(e){return E.default.isCurrentFlowTypeDefaultFlow(e.listeningService)},t.isCurrentFlowTypeChannelFlow=function(e){return E.default.isCurrentFlowTypeChannelFlow(e.listeningService)},t.isCurrentFlowTypeBinge=function(e){return E.default.isCurrentFlowTypeBinge(e.listeningService)},t.getStagedBatchedRatings=function(e){return E.default.getStagedBatchedRatings(e.listeningService)},t.getCurrentFlowTypeKey=function(e){return E.default.getCurrentFlowTypeKey(e.listeningService)},t.getCurrentChannel=function(e){return E.default.getCurrentChannel(e.listeningService)},t.getStagedNextFlowTypeKeys=function(e){return E.default.getStagedNextFlowTypeKeys(e.listeningService)},t.getNextUrlMap=function(e){return E.default.getNextUrlMap(e.listeningService)},t.getCurrentPlaylistEtag=function(e){return E.default.getCurrentPlaylistEtag(e.listeningService)},t.getCurrentPlaylistId=function(e){return E.default.getCurrentPlaylistId(e.listeningService)},t.getCurrentPlaylistUids=function(e){return E.default.getCurrentPlaylistUids(e.listeningService)},t.getNextUrlForFlowTypeKey=function(e,t){return E.default.getNextUrlForFlowTypeKey(e.listeningService,t)},t.getDateTimeForFlowTypeKey=function(e,t){return E.default.getDateTimeForFlowTypeKey(e.listeningService,t)},t.getPlayMode=function(e){return E.default.getPlayMode(e.listeningService)},t.isAutoplayEnabled=function(e){return E.default.isAutoplayEnabled(e.listeningService)},t.isWorkingOnPlaylistUpdate=function(e){return E.default.isWorkingOnPlaylistUpdate(e.listeningService)},t.shouldAllowSingleRecommendationFollowUp=function(e){return E.default.shouldAllowSingleRecommendationFollowUp(e.listeningService)},t.getUidsInPlaylist=function(e){return C.default.getUidsInPlaylist(e.userInteractions)},t.getAvailableLocalNewscastId=function(e,t){return d.default.getAvailableLocalNewscastId(e,t)},t.getOrgById=function(e,t){return s.default.getOrgById(e,t)},t.getUserOrgId=function(e){return g.default.getUserOrgId(e)},t.getUserEntitlements=function(e){return g.default.getUserEntitlements(e.user)},t.isUserEntitledToPodcastChannelById=function(e,t){return g.default.isUserEntitledToPodcastChannelById(e.user,t)},t.doesUserHaveAnyEntitlements=function(e){return g.default.doesUserHaveAnyEntitlements(e.user)},t.getIsAwaitingData=function(e){return a.default.getIsAwaitingData(e)},t.isPlusPageStatusDetermined=function(e){return k.default.isPlusPageStatusDetermined(e.plusContentBehavior)},t.hasPremiumPodcastChannelContent=function(e){return k.default.hasPremiumPodcastChannelContent(e.plusContentBehavior)},t.getPodcastEpisodeRawType=function(e){return k.default.getPodcastEpisodeRawType(e.plusContentBehavior)},t.getPodcastEpisodeDerivedPlusType=function(e){return k.default.getPodcastEpisodeDerivedPlusType(e.plusContentBehavior)},t.getPodcastChannelParentId=function(e){return k.default.getPodcastChannelParentId(e.plusContentBehavior)},t.getPodcastEpisodeContentCharacteristicsList=function(e){return k.default.getPodcastEpisodeContentCharacteristicsList(e.plusContentBehavior)},t.getPodcastEpisodeContentCharacteristicsForEpisodeId=function(e,t){return k.default.getPodcastEpisodeContentCharacteristicsForEpisodeId(e.plusContentBehavior,t)},t.getPodcastEpisodeContentCharacteristicsForAudioId=function(e,t){return k.default.getPodcastEpisodeContentCharacteristicsForAudioId(e.plusContentBehavior,t)};var r=n(382),a=U(n(355)),o=U(n(633)),i=U(n(634)),s=U(n(635)),u=U(n(636)),l=U(n(637)),c=U(n(638)),d=U(n(639)),p=U(n(640)),f=U(n(641)),_=U(n(642)),E=U(n(644)),m=U(n(645)),g=U(n(646)),y=U(n(647)),h=U(n(648)),v=U(n(649)),S=U(n(650)),O=U(n(652)),T=U(n(653)),A=U(n(654)),I=U(n(655)),b=U(n(656)),P=U(n(657)),R=U(n(658)),D=U(n(659)),N=U(n(660)),w=U(n(661)),C=U(n(662)),L=U(n(358)),M=U(n(663)),k=U(n(664));function U(e){return e&&e.__esModule?e:{default:e}}t.getStoriesForAggWidget=function(e,t){return c.default.getStoriesForAggWidget(e.contentWidgets,t)},t.getIsAudioLoadedForAggWidget=function(e,t){return c.default.getIsAudioLoadedForAggWidget(e.contentWidgets,t)};t.getLiveBlogForId=function(e,t){return M.default.getLiveBlogForId(e,t)},t.isCurrentlyOnLiveBlog=function(e){return M.default.isCurrentlyOnLiveBlog(e)},t.getLiveBlogRequestStatus=function(e){return M.default.getLiveBlogRequestStatus(e)};var x=(0,r.combineReducers)({aggs:o.default,donations:N.default.reducer,player:a.default.reducer,panes:i.default.reducer,org:s.default.reducer,user:g.default.reducer,site:u.default.reducer,spikingStories:l.default.reducer,contentWidgets:c.default.reducer,metadata:d.default.reducer,nowOnStreams:p.default,time:f.default,listeningService:E.default.reducer,history:_.default.reducer,sponsorship:m.default,navigation:y.default,stationSearch:h.default,storyRecommendations:v.default,storyHistory:S.default.reducer,session:O.default,network:T.default,localStations:A.default,localStories:I.default,globalAlerts:b.default.reducer,userInteractions:C.default.reducer,onPageCallouts:P.default.reducer,cardMessage:R.default.reducer,streams:D.default.reducer,plusLocalization:w.default,plusContentBehavior:k.default.reducer,programData:L.default.reducer,liveBlog:M.default.reducer});t.default=x},,,,,function(e,t,n){"use strict";var r,a,o=s(n(12)),i=s(n(353));function s(e){return e&&e.__esModule?e:{default:e}}r=[n(8)],void 0===(a=function(e){return{create:function(){var t={_initComplete:!1,_appliesToCurrentPage:!1,name:null,init:void 0,onReady:void 0,onUnload:void 0,debug:!1},n=function(){o.default.info("onReady: "+t.name);try{t.onReady()}catch(e){o.default.error(e)}},r=function(){var n=e("body").data("pjax-modules");return!!n&&-1!==n.split(" ").indexOf(t.name)},a=function n(){if(!t._initComplete)if(t._appliesToCurrentPage=r(),t._appliesToCurrentPage){o.default.info("init: "+t.name);try{t.init()}catch(e){o.default.error(e)}t._initComplete=!0}else e(document).one("npr:pageLoad",n)},s=function(){t._appliesToCurrentPage=r(),t._appliesToCurrentPage&&i.default.getPromise().then(n)},u=function(){if(t._appliesToCurrentPage){o.default.info("onUnload: "+t.name);try{t.onUnload()}catch(e){o.default.error(e)}}};return t.register=function(){o.default.info("register: "+t.name),"function"==typeof t.init&&("resolved"===i.default.getPromise().state()?a():e(document).one("npr:pageLoad",a)),"function"==typeof t.onReady&&(e(document).on("npr:pageLoad",s),"resolved"===i.default.getPromise().state()&&s()),"function"==typeof t.onUnload&&e(document).on("npr:pageUnload",u)},t}}}.apply(t,r))||(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(5)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(251)),o=i(n(44));function i(e){return e&&e.__esModule?e:{default:e}}t.default={getSessionInfo:function(){var e="undefined"!=typeof NPR&&(0,r.default)(NPR,"serverVars.isPreviewMode",!1);return{source:o.default.getUrlParameter("utm_source",""),medium:o.default.getUrlParameter("utm_medium",""),content:o.default.getUrlParameter("utm_content",""),campaign:o.default.getUrlParameter("utm_campaign",""),term:o.default.getUrlParameter("utm_term",""),userId:Number.parseInt(o.default.getUrlParameter("utm_id","0"),10)||0,orgId:Number.parseInt(o.default.getUrlParameter("utm_org_id","0"),10)||0,unique:o.default.getUrlParameter("uniquet",""),renderPlatform:o.default.getUrlParameter("renderPlatform",""),preventAutoLocalization:o.default.getUrlParameter("preventAutoLocalization",""),isPreviewMode:e}},isMobileNativeApp:function(e){return[a.NPR_ONE_IOS,a.NPR_ONE_ANDROID,a.NPR_NEWS_IOS].includes(e)}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SEGMENT="segment",t.STREAM="stream",t.SPONSORSHIP="sponsorship",t.SEGMENT_PROGRAM="program",t.SEGMENT_NEWSCAST="newscast",t.SEGMENT_OTHER="other",t.STREAM_STATION="station",t.STREAM_OTHER="other",t.SPONSORSHIP_PLAYER="sponsorship player",t.SPONSORSHIP_SOUNDSCAPE="sponsorship soundscape",t.ON_DEMAND="ondemand",t.STANDARD="standard",t.SOUNDSCAPES="soundscapes",t.CUSTOM_CHANNEL="player custom channel",t.TYPE_MP3=10},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.togglePlay=function(e,t){return{type:r.TOGGLE_PLAY,payload:e,meta:t}},t.audioPlayed=function(e,t){return{type:r.AUDIO_PLAYED,payload:e,meta:t}},t.audioExpired=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.AUDIO_EXPIRED,payload:e,meta:t}},t.audioError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.AUDIO_ERROR,payload:e,meta:t}},t.newAudioSegmentPlayRequestFailed=function(){return{type:r.NEW_AUDIO_SEGMENT_PLAY_REQUEST_FAILED}},t.audioReceived=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:r.AUDIO_RECEIVED,payload:{metadata:e,startPosition:n,shouldImmediatelyPlay:a},meta:t}},t.newAudioSegmentPlayRequested=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:r.NEW_AUDIO_SEGMENT_PLAY_REQUESTED,payload:{metadata:e,startPosition:n,shouldImmediatelyPlay:a},meta:t}},t.newPlayRequested=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:r.NEW_PLAY_REQUESTED,payload:{metadata:e,startPosition:n,shouldImmediatelyPlay:a},meta:t}},t.playPauseRequested=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.PLAY_PAUSE_REQUESTED,payload:e,meta:t}},t.playPauseButtonPressed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.PLAY_PAUSE_BUTTON_PRESSED,payload:e,meta:t}},t.toggleExpanded=function(){return{type:r.TOGGLE_EXPANDED}},t.audioPlayingStatusDirect=function(e,t){return{type:r.AUDIO_PLAYING_STATUS_DIRECT,payload:{isAudioPlaying:e,metadata:t}}},t.audioBufferingStarted=function(e){return{type:r.AUDIO_BUFFERING_STARTED,payload:{metadata:e}}},t.audioBufferingFinished=function(e){return{type:r.AUDIO_BUFFERING_FINISHED,payload:{metadata:e}}},t.rewind=function(e){return{type:r.REWIND,payload:e}},t.fastForward=function(e){return{type:r.FAST_FORWARD,payload:e}},t.audioComplete=function(e,t){return{type:r.AUDIO_COMPLETE,payload:e,meta:t}},t.scrubBegin=function(e){return{type:r.SCRUB_BEGIN,payload:e}},t.scrubEnd=function(e){return{type:r.SCRUB_END,payload:e}},t.seek=function(e,t){return{type:r.SEEK,payload:{position:e,metadata:t}}},t.skip=function(){return{type:r.SKIP}},t.initialWidthDetected=function(e,t){return{type:r.INITIAL_WIDTH_DETECTED,payload:{width:e,breakpoint:t}}},t.widthDetected=function(e,t){return{type:r.WIDTH_DETECTED,payload:{width:e,breakpoint:t}}},t.pageVisibilityDetected=function(e){return{type:r.PAGE_VISIBILITY_DETECTED,payload:e}},t.touchDetected=function(){return{type:r.TOUCH_DETECTED}},t.countryRequested=function(){return{type:r.COUNTRY_REQUESTED}},t.countryDetected=function(e){return{type:r.COUNTRY_DETECTED,payload:e}},t.rightRailDetected=function(e){return{type:r.RIGHTRAIL_DETECTED,payload:e}},t.audioModuleMounted=function(){return{type:r.AUDIO_MODULE_MOUNTED}},t.addStreamToStageRequested=function(e){return{type:r.ADD_STREAM_TO_STAGE_REQUESTED,payload:e}},t.setAudioPlayerVolume=function(e){return{type:r.SET_AUDIO_PLAYER_VOLUME,payload:e}},t.mobileNativePlayPausePressed=function(e){return{type:r.MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED,payload:e}},t.mobileNativeDidStartLoading=function(e){return{type:r.MOBILE_NATIVE_DID_START_LOADING,payload:e}},t.mobileNativeDidStartPlaying=function(e){return{type:r.MOBILE_NATIVE_DID_START_PLAYING,payload:e}},t.mobileNativeDidStopPlaying=function(e){return{type:r.MOBILE_NATIVE_DID_STOP_PLAYING,payload:e}},t.forcePlayAudioForPreview=function(e){return{type:r.FORCE_PLAY_AUDIO_FOR_PREVIEW,payload:{metadata:e}}},t.authenticationPlayerError=function(){return{type:r.AUTHENTICATION_PLAYER_ERROR}},t.generalPlayerError=function(){return{type:r.GENERAL_PLAYER_ERROR}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NOT_STARTED="NOT_STARTED",t.PENDING="PENDING",t.FAILED="FAILED",t.RESOLVED="RESOLVED",t.SKIPPED="SKIPPED"},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),i=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onClick",value:function(e){"#"===this.props.href&&e.preventDefault(),function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e)}},{key:"render",value:function(){var e=this._getMetricsObjectGA4(),t=this._getAccessibilityAttributes();return o.default.createElement("a",r({className:this.props.className,href:this.props.href,onClick:this.onClick,onBlur:this.props.onBlur,onMouseDown:this.props.onMouseDown,onKeyPress:this.props.onKeyPress,"data-metrics-ga4":e,target:this.props.target?this.props.target:void 0},t),this.props.children)}}]),t}(s(n(240)).default);t.default=u,u.defaultProps={href:"#",target:""},u.propTypes={href:i.default.string,target:i.default.string}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SMALL="SMALL",t.MEDIUM="MEDIUM",t.LARGE="LARGE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsPreviewMode=t.getSessionUnique=t.getSessionSource=t.getSessionUserId=t.getShouldPreventAutoLocalization=t.getRenderPlatform=void 0;var r=n(207),a=function(e){return e.session};t.getRenderPlatform=(0,r.createSelector)([a],(function(e){return e.renderPlatform})),t.getShouldPreventAutoLocalization=(0,r.createSelector)([a],(function(e){return e.preventAutoLocalization})),t.getSessionUserId=(0,r.createSelector)([a],(function(e){return e.userId})),t.getSessionSource=(0,r.createSelector)([a],(function(e){return e.source})),t.getSessionUnique=(0,r.createSelector)([a],(function(e){return e.unique})),t.getIsPreviewMode=(0,r.createSelector)([a],(function(e){return e.isPreviewMode}))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GTM_FIRST_VIEW="gtmFirstView",t.GTM_LATER_VIEW="gtmLaterView",t.AUDIO_PINGS="audio_pings",t.AUDIO_START="audio_start",t.AUDIO_PAUSE="audio_pause",t.AUDIO_RESUME="audio_resume",t.AUDIO_COMPLETE="audio_complete",t.AUDIO_PROGRESS="audio_progress",t.AUDIO_REWIND="audio_rewind",t.AUDIO_FAST_FORWARD="audio_fast_forward",t.AUDIO_SKIP="audio_skip",t.AUDIO_PREVIOUS="audio_previous",t.AUDIO_SCRUB="audio_scrub",t.AUDIO_AUTOPLAY_TOGGLE="audio_autoplay_toggle",t.AUDIO_QUEUE="audio_queue",t.AUDIO_DOWNLOAD="audio_download",t.AUDIO_EMBED="audio_embed",t.AUDIO_CLICK_TRANSCRIPT="audio_click_transcript",t.AUDIO_OPEN_MORE_OPTIONS="audio_open_more_options",t.AUDIO_ADJUST_VOLUME="audio_adjust_volume",t.AUDIO_ERROR="audio_error",t.AUDIO_AUTOPLAY_TRIGGERED="audio_autoplay_triggered",t.SPONSORSHIP_AUDIO_START="sponsorship_audio_start",t.SPONSORSHIP_AUDIO_COMPLETE="sponsorship_audio_complete",t.SPONSORSHIP_SOUNDSCAPE_AUDIO_BANNER="sponsorship_soundscape_click_banner",t.SPONSORSHIP_AUDIO_ADD_TO_QUEUE="sponsorship_audio_add_to_queue",t.SPONSORSHIP_AUDIO_PINGS="sponsorship_audio_pings",t.PLAYER_EXPAND="player_expand",t.PLAYER_COLLAPSE="player_collapse",t.PLAYER_CLICK_AUDIO_TITLE="player_click_audio_title",t.PLAYER_CLICK_FIND_ANOTHER_STATION="player_click_find_another_station",t.NEWSLETTER_SUBSCRIBE="newsletter_subscribe",t.NEWSLETTER_LEAD_CLICK="newsletter_lead_click",t.NEWSLETTER_UNSUBSCRIBE="newsletter_unsubscribe",t.NEWSLETTER_ERROR="newsletter_error",t.NEWSLETTER_SUBSCRIPTION_OPTIONS="newsletter_subscription_options",t.NPR_PLUS_CLICK="npr_plus_click",t.SELECT_PROMOTION="select_promotion",t.VIEW_PROMOTION="view_promotion",t.CLOSE_PROMOTION="close_promotion",t.DONATION_SELECT_STATION="donation_select_station",t.DONATION_CHANGE_STATION="donation_change_station",t.DONATION_FORM_CLICK="donation_form_click",t.BEGIN_CHECKOUT="begin_checkout",t.ADD_TO_CART="add_to_cart",t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.PURCHASE="purchase",t.DONATION_ERROR="donation_error",t.SET_NPR_DONATION_OPTION="set_npr_donation_option",t.CLICK_DONATE="click_donate",t.AMOUNT_SELECTED="amount_selected",t.CREATE_ACCOUNT_PROMO_CLICKED="create_account",t.VIEW_FORM="view_form",t.GLOBAL_NAVIGATION_CLICK="global_navigation_click",t.HOMEPAGE_CURATION_CLICK="homepage_curation_click",t.STORY_RECIRCULATION_CLICK="story_recirculation_click",t.OUTBOUND_CLICK="outbound_click",t.TOPIC_HOMEPAGE_RECIRCULATION_CLICK="topic_homepage_recirculation_click",t.DOWNLOAD_APP_PROMO_CLICKED="click_get_app",t.PROFILE_CLICK_MANAGE_NEWSLETTERS="manage_newsletters_click",t.PROFILE_CLICK_MANAGE_DONATIONS="manage_donations_click",t.PROFILE_CLICK_MANAGE_NPRPLUS="manage_nprplus_click",t.PROFILE_CLICK_ENROLL_NPRPLUS="enroll_nprplus_click",t.LOCAL_BOX_CLICK="local_box_click",t.SIGN_IN_LINK_CLICK="sign_in_link_click",t.SHARE="share",t.TESTING_CLICK="testing_click",t.PODCAST_FOLLOW_CLICK="podcast_follow_click",t.VIDEO_START="video_start",t.VIDEO_COMPLETE="video_complete",t.VIDEO_PROGRESS="video_progress",t.VIDEO_PAUSE="video_pause",t.VIDEO_RESUME="video_resume",t.VIDEO_SEEK="video_seek",t.VIDEO_BUFFER="video_buffer",t.VIDEO_SELECT_COMING_UP="video_select_coming_up",t.VIDEO_FULLSCREEN="video_fullscreen",t.VIDEO_EXIT_FULLSCREEN="video_exit_fullscreen",t.VIDEO_ADJUST_VOLUME="video_adjust_volume",t.VIDEO_CHANGE_QUALITY="video_change_quality",t.VIDEO_VERTICAL_CAROUSEL_PREVIEW="video_vertical_carousel_preview",t.STATION_SAVE_AS_FAVORITE="station_save_as_favorite",t.AFFILIATE_CLICK="affiliate_click",t.VIEW_SEARCH_RESULTS="view_search_results",t.ONETRUST_GROUPS_UPDATED="OneTrustGroupsUpdated",t.EXPERIENCE_IMPRESSION="experience_impression"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWebHost=t.PLUS_DONATION_PAGE_HOST=t.ORG_V4_HOST=t.STRIPE_SERVICE_HOST=t.WEBSITE_CONTEXT=t.IDENTITY_HOST=t.PROXY_API_HOST=t.LEGACY_WEB_HOST=t.PROXY_CDN_HOST=t.WEB_HOST_SECURE=t.WEB_HOST=t.STATION_API_HOST=t.STATIC_ASSETS_HOST=t.API_HOST=void 0;var r,a=n(5),o=(r=a)&&r.__esModule?r:{default:r};t.API_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.apiHost"),t.STATIC_ASSETS_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.staticAssetsHost"),t.STATION_API_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.stationApiHost"),t.WEB_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost"),t.WEB_HOST_SECURE="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHostSecure"),t.PROXY_CDN_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost"),t.LEGACY_WEB_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.legacyWebHost"),t.PROXY_API_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost"),t.IDENTITY_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.identityHost"),t.WEBSITE_CONTEXT="profile",t.STRIPE_SERVICE_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.stripeServiceHost"),t.ORG_V4_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.organizationV4Host"),t.PLUS_DONATION_PAGE_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.plusDonationPageHost"),t.getWebHost=function(){return"undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost")}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(632);var o=(0,((r=a)&&r.__esModule?r:{default:r}).default)();t.default=function(){return o}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,o){var i=n.method||"GET";setTimeout((function(){return o("TIMEOUT: "+i+" "+t+" "+e+"ms")}),e),r(t,n).then((function(e){return a(e)})).catch((function(e){return o(e)}))}))};var r="object"===("undefined"==typeof window?"undefined":n(window))&&e?e:null}).call(this,n(385))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metadataLoaded=function(e){return{type:r.METADATA_LOADED,payload:e}},t.metadatasLoaded=function(e){return{type:r.METADATAS_LOADED,payload:e}},t.metadataUnloaded=function(e){return{type:r.METADATA_UNLOADED,payload:{uid:e}}},t.metadatasUnloaded=function(e){return{type:r.METADATAS_UNLOADED,payload:e}},t.promoCardAudioMetadataLoaded=function(e){return{type:r.PROMO_CARD_AUDIO_METADATA_LOADED,payload:e}},t.nowPlayingLoaded=function(e,t){return{type:r.NOW_PLAYING_LOADED,payload:{uid:e,nowPlayingText:t}}},t.containerUnwrapped=function(e,t){return{type:r.CONTAINER_UNWRAPPED,payload:{uid:e,contentUrl:t}}},t.audioDurationChange=function(e,t){return{type:r.AUDIO_DURATION_CHANGE,payload:{uid:e,duration:t}}},t.metadataInvalidated=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reason:""};return{type:r.METADATA_INVALIDATED,payload:e,meta:t}},t.nowOnStreamsRegistrationRequested=function(e){return{type:r.NOW_ON_STREAMS_REGISTRATION_REQUESTED,payload:e}},t.nowOnStreamsUnregistrationRequested=function(e){return{type:r.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED,payload:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(5)),a=i(n(367)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);if(t)return t[1]}return""}function u(e,t){var n=/([^.]*\.[^.]*)$/,r=n.exec(e),a=n.exec(t);if(!r||!a)return!1;var o=/^([^.]*)/.exec(t);if(!o)return!1;var i=o[1],s=r[1],u=a[1];return e===t||s===u&&(u===t||"www"===i)}t.default={getUrlParameter:function(e,t){e=(e=(0,a.default)(e)).replace(/[\[\]]/g,"\\$&");var n=window.location.href,r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);if(!r)return t||null;if(!r[2])return t||"";try{return decodeURIComponent(r[2].replace(/\+/g," "))}catch(e){return t||""}},addUrlParameter:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=-1===e.indexOf("?")?"?":"&",a=n?t+"="+encodeURIComponent(n):t;return e+r+a},extractDomain:s,extractDomainAndPath:function(e){if(e){var t=e.match(/^https?\:\/\/([^?#]+)(?:[\/?#]|$)/i);if(t)return t[1]}return""},shouldDomainBeMirrored:u,isNavigationBetweenSecureAndInsecure:function(e,t){return e!==t&&(e===o.WEB_HOST_SECURE&&t===o.WEB_HOST||e===o.WEB_HOST&&t===o.WEB_HOST_SECURE)},mirrorProtocolAndSubDomain:function(e,t){if(!u(e.hostname,t.hostname))return t.href;var n=function(e,t){var n=/^(https?:\/\/)/;return n.exec(t)?t.replace(n,e+"//"):e+"//"+t}(e.protocol,t.href);return n=function(e,t){var n=/^([^.]*)/,r=/([^.]*\.[^.]*)$/,a=s(e),o=s(t),i=n.exec(a),u=n.exec(o);if(!i||!u)return t;var l=i[1],c=u[1],d=r.exec(a);if(d&&d[1]===a)return t;var p=r.exec(o);return p&&p[1]===o&&(l=a,c=o),t.replace(c,l)}(e.href,n)},isHttps:function(e){return e.startsWith("https://")},getUrlPieces:function(e,t){var n="",r=(e=(e=e.replace("https://","")).replace("http://","")).indexOf("/");if(-1==r)n=e;else{var a=e.split("/"),o=a[0];if(0==a[1].length)return o;-1!=(r=(e=e.slice(r)).lastIndexOf("."))?(r=e.lastIndexOf("/"),e=e.slice(0,r)):(r=e.lastIndexOf("/"))==e.length-1&&(e=e.slice(0,r)),n=t?o+e:e}return n},getQueryParams:function(){var e=(0,r.default)(document,"location.search"),t={};if(e)for(var n=e.split("+").join(" "),a=/[?&]?([^=]+)=([^&]*)/g,o=a.exec(n);o;)t[decodeURIComponent(o[1])]=decodeURIComponent(o[2]),o=a.exec(n);return t}}},,,,function(e,t,n){"use strict";(function(e){var r,a;r=[n(20)],void 0===(a=function(e){var t=e.create();t.name="recaptcha-v3";var n=window.NPR.ServerConstants.recaptchaV3SiteKey;return t.init=function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.defer=!0,e.src="https://www.recaptcha.net/recaptcha/api.js?render="+n;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},t.register(),{loadCaptcha:function(){void 0!==window.grecaptcha&&window.grecaptcha.reset()},isCaptchaEnabled:function(){return void 0!==window.grecaptcha&&(e=window.location.href,!((t=new RegExp("[?&]disableCaptcha(=([^&#]*)|&|#|$)").exec(e))&&t[2]&&"1"===decodeURIComponent(t[2]))||_isProdUrl());var e,t},triggerRecaptchaManually:function(){if(void 0!==window.grecaptcha)return window.grecaptcha.execute(n,{action:"submit"}).then((function(e){return Promise.resolve(e)})).catch((function(){return Promise.resolve(null)}))}}}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},,,,function(e,t,n){"use strict";(function(e){var r,a;r=[n(20),n(352),n(8)],void 0===(a=function(e,t,n){var r=e.create();r.name="player/more-options",r.onReady=function(){n("#wrapper").on("click",".bucketwrap.resaudio .audio-module-tools-toggle",(function(e){n(this).parent(".audio-module-tools").toggleClass("is-active"),n(this).parent(".audio-module-tools").find(".audio-module-more-tools").removeClass("has-secondary-overlay"),n(this).parent(".audio-module-tools").find(".audio-embed-overlay").removeClass("is-active"),n(this).parent(".audio-module-tools").find(".ecommercepop").removeClass("is-active");var t=n(this).parents(".bucketwrap.internallink");t.length&&t.toggleClass("has-active-audio-tools")})),function(){t.touch||n(".audio-embed-overlay .embed-url").on("click",(function(e){n(this).select()}));var e=n("#wrapper");e.on("click",".bucketwrap.resaudio .audio-tool-embed > button",(function(e){e.preventDefault();var t=n(this).parents(".bucketwrap.resaudio");t.find(".audio-module-more-tools").toggleClass("has-secondary-overlay"),t.find(".audio-embed-overlay").toggleClass("is-active")})),e.on("click",".bucketwrap.resaudio .audio-embed-overlay .btn-close",(function(e){n(this).parent(".audio-embed-overlay").removeClass("is-active"),n(this).parents(".audio-module-more-tools").removeClass("has-secondary-overlay")}))}()},r.onUnload=function(){var e=n("#wrapper");n(".audio-embed-overlay .embed-url").off("click"),e.off("click",".bucketwrap.resaudio .audio-tool-embed")},r.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";(function(e){var r,a;r=[n(20),n(8),n(1280)],void 0===(a=function(e,t){var n=e.create();function r(){t(this).addClass("active"),t(".subnav-tools-wrap").slideDown()}function a(){t(this).removeClass("active"),document.dispatchEvent(new CustomEvent("npr:aggToolsClosed")),t(".subnav-tools-wrap").slideUp()}n.name="agg/tools",n.onReady=function(){t(".contentheader .toggle").clicktoggle(r,a)},n.onUnload=function(){t(".contentheader .toggle").off("click")},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GLOBAL_NAVIGATION="global navigation",t.STATION_DRAWER="station drawer",t.STATION_FINDER_PAGE="station finder",t.USER_PROFILE_PAGE="profile",t.STATION_SEARCH_RESULTS="station search results",t.STATION_CONTENT_BOX="station support box",t.HOMEPAGE_STATION_CARD="station card",t.DONATION_FORM="donation form",t.DONATION_EMBED="donation embed",t.LOCALIZATION_EMBED="localization embed",t.VERTICAL_VIDEO_CAROUSEL="vertical video carousel"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NPR=1,t.WBEZ=309,t.WBEZ_STATION=308,t.WAMU=305,t.WAMU_OC=1162,t.WETA=372},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDerivedMetadata=void 0;var r=n(207),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(119));t.getDerivedMetadata=(0,r.createSelector)([function(e){return e.metadata},function(e){return e.player},function(e){return e.listeningService},function(e){return e.userInteractions}],(function(e,t,n,r){var o=Object.create(null);for(var i in e)e.hasOwnProperty(i)&&(o[i]=a.getMetadataWithDerivedProps(e[i],t,n,r));return o}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addWidgetToRightRail=function(e){return{type:r.ADD_WIDGET_TO_RIGHT_RAIL,payload:{widget:e}}},t.getStoriesByAggForContentWidgetsRequested=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:r.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_REQUESTED,payload:{aggId:e,limit:t,shouldLoadAudioMetadata:n}}},t.getStoriesByAggForContentWidgetsSucceeded=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:r.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SUCCEEDED,payload:{aggId:e,aggStories:t,shouldLoadAudioMetadata:n}}},t.getStoriesByAggForContentWidgetsSkipped=function(){return{type:r.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SKIPPED}},t.getStoriesByAggForContentWidgetsFailed=function(){return{type:r.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_FAILED}},t.getAudioByIdsForContentWidgetsRequested=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:r.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_REQUESTED,payload:{aggId:e,audioIds:t}}},t.getAudioByIdsForContentWidgetsSucceeded=function(e){return{type:r.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_SUCCEEDED,payload:{aggId:e}}},t.getAudioByIdsForContentWidgetsSkipped=function(){return{type:r.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_SKIPPED}},t.getAudioByIdsForContentWidgetsFailed=function(e){return{type:r.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_FAILED,payload:{aggId:e}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userViewLoadRequested=function(){return{type:r.USER_VIEW_LOAD_REQUESTED}},t.userViewLoadCompleted=function(e){return{type:r.USER_VIEW_LOAD_COMPLETED,payload:e}},t.userViewLoadFailed=function(){return{type:r.USER_VIEW_LOAD_FAILED}},t.getUserEmailHashRequested=function(){return{type:r.GET_USER_EMAIL_HASH_REQUESTED}},t.getUserEmailHashSucceeded=function(e){return{type:r.GET_USER_EMAIL_HASH_SUCCEEDED,payload:e}},t.getUserEmailHashFailed=function(){return{type:r.GET_USER_EMAIL_HASH_FAILED}},t.getUserEmailHashFromRefferalRequested=function(e,t){return{type:r.GET_USER_EMAIL_HASH_FROM_REFFERAL_REQUESTED,payload:{userId:e,unique:t}}},t.getUserEmailHashFromRefferalSucceeded=function(e){return{type:r.GET_USER_EMAIL_HASH_FROM_REFFERAL_SUCCEEDED,payload:e}},t.getUserEmailHashFromRefferaFailed=function(){return{type:r.GET_USER_EMAIL_HASH_FROM_REFFERAL_FAILED}},t.accessTokenReceived=function(e,t){return{type:r.ACCESS_TOKEN_RECEIVED,payload:{token:e,updateDate:t}}},t.anonymousAccessTokenRequested=function(e,t){return{type:r.ANONYMOUS_ACCESS_TOKEN_REQUESTED}},t.anonymousAccessTokenReceived=function(e,t,n,a,o,i,s){return{type:r.ANONYMOUS_ACCESS_TOKEN_RECEIVED,payload:{token:e,refreshToken:t,tokenType:n,expiresIn:a,updateDate:o,userId:i,stationMessage:s}}},t.anonymousAccessTokenRequestFailed=function(){return{type:r.ANONYMOUS_ACCESS_TOKEN_REQUEST_FAILED}},t.mobileNativeAccessTokenReceived=function(e,t,n){return{type:r.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED,payload:{token:e,updateDate:t,grantType:n}}},t.mobileNativeUserModelAndTokenReceived=function(e,t,n){return{type:r.MOBILE_NATIVE_USER_MODEL_AND_TOKEN_RECEIVED,payload:{token:e,user:t,updateDate:n}}},t.mobileNativeUserLoadRequested=function(e,t){return{type:r.MOBILE_NATIVE_USER_LOAD_REQUESTED,payload:{token:e,updateDate:t}}},t.mobileNativeUserLoadSucceeded=function(e){return{type:r.MOBILE_NATIVE_USER_LOAD_SUCCEEDED,payload:e}},t.mobileNativeUserLoadFailed=function(){return{type:r.MOBILE_NATIVE_USER_LOAD_FAILED}},t.userLogoutRequested=function(){return{type:r.USER_LOGOUT_REQUESTED}},t.userLogoutCompleted=function(){return{type:r.USER_LOGOUT_COMPLETED}},t.stationChangeRequested=function(e){return{type:r.STATION_CHANGE_REQUESTED,payload:{id:e}}},t.stationChangeCompleted=function(e){return{type:r.STATION_CHANGE_COMPLETED,payload:{id:e}}},t.stationAutolocalized=function(e){return{type:r.STATION_AUTOLOCALIZED,payload:{id:e}}},t.defaultOrgResolved=function(){return{type:r.DEFAULT_ORG_RESOLVED}},t.hasDeterminedUserIsAlreadyLocalized=function(){return{type:r.HAS_DETERMINED_USER_IS_ALREADY_LOCALIZED}},t.newsletterAcquisitionRequested=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{type:r.NEWSLETTER_ACQUISITION_REQUESTED,payload:{email:e,newsletterId:t,pianoIframeId:n,metricsLocation:a}}},t.newsletterSubscriptionOptionsClicked=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:r.NEWSLETTER_SUBSCRIPTION_OPTIONS_CLICKED,payload:{newsletterId:e,pianoIframeId:t,metricsLocation:n}}},t.newsletterAcquisitionCompleted=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:r.NEWSLETTER_ACQUISITION_COMPLETED,payload:{email:e,newsletterId:t,metricsLocation:n}}},t.newsletterAcquisitionFailed=function(e,t,n){return{type:r.NEWSLETTER_ACQUISITION_FAILED,payload:{email:e,newsletterId:t,metricsLocation:n}}},t.logoutRevokeAccessTokenRequested=function(){return{type:r.LOGOUT_REVOKE_ACCESS_TOKEN_REQUESTED}},t.logoutRevokeAccessTokenSucceeded=function(){return{type:r.LOGOUT_REVOKE_ACCESS_TOKEN_SUCCEEDED}},t.logoutRevokeAccessTokenFailed=function(){return{type:r.LOGOUT_REVOKE_ACCESS_TOKEN_FAILED}},t.logoutClearLoginCookiesRequested=function(){return{type:r.LOGOUT_CLEAR_LOGIN_COOKIES_REQUESTED}},t.logoutClearLoginCookiesSucceeded=function(){return{type:r.LOGOUT_CLEAR_LOGIN_COOKIES_SUCCEEDED}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGeolocationData=t.userIsInHEMCountry=t.userIsInGdpr=t.SOCIAL_MEDIA=t.TARGETING_AND_SPONSOR=t.FUNCTIONAL=t.PERFORMANCE_AND_ANALYTICS=t.STRICTLY_NECESSARY=void 0;t.userIsInGdpr=(r=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().then((function(e){return!e.country||""===e.country||p.includes(e.country)})).catch((function(e){throw new Error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)}),t.userIsInHEMCountry=(a=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return t=e.sent,e.abrupt("return",t.country&&f.includes(t.country)&&!p.includes(t.country));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)});var r,a,o,i=t.fetchGeolocationData=(o=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.default)(1e3,d).then((function(e){return e.json()})).catch((function(e){throw new Error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)});t.hasConsentedTo=function(e){if(window&&void 0!==window.OnetrustActiveGroups)return window.OnetrustActiveGroups.split(",").includes(e);return!0},t.strictHasConsentedTo=function(e){if(window)return void 0!==window.OnetrustActiveGroups&&window.OnetrustActiveGroups.split(",").includes(e);return!0},t.isCountryCodeGdpr=function(e){return p.includes(e)||""===e};var s,u=n(42),l=(s=u)&&s.__esModule?s:{default:s};function c(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var d=void 0;"undefined"!=typeof window&&(d=window.NPR.ServerConstants.geolocationHost+"/geolocation");t.STRICTLY_NECESSARY="C0001",t.PERFORMANCE_AND_ANALYTICS="C0002",t.FUNCTIONAL="C0003",t.TARGETING_AND_SPONSOR="C0004",t.SOCIAL_MEDIA="C0005";var p=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"],f=["US"]},,,,,,,,,function(e,t,n){"use strict";(function(e){var r,a;r=[n(20),n(8)],void 0===(a=function(e,t){var n=e.create();function r(e){e.preventDefault(),t(this).parents(".credit-caption").find(".caption").slideToggle(),t(this).toggleClass("engaged")}function a(e){e.preventDefault(),t(this).parents(".credit-caption").find(".toggle-caption").trigger("click")}n.name="images/captions",n.onReady=function(){t(".toggle-caption").on("click",r),t(".hide-caption").on("click",a)},n.onUnload=function(){t(".toggle-caption").off("click",r),t(".hide-caption").off("click",a)},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WIDGET_STORIES_WITH_IMAGE="WIDGET_STORIES_WITH_IMAGE",t.WIDGET_STORIES_NO_IMAGE="WIDGET_STORIES_NO_IMAGE",t.WIDGET_STORIES_SLIDER_GALLERY_1="WIDGET_STORIES_SLIDER_GALLERY_1",t.WIDGET_STORIES_SLIDER_GALLERY_3="WIDGET_STORIES_SLIDER_GALLERY_3",t.WIDGET_STORIES_NO_SLIDER_GALLERY="WIDGET_STORIES_NO_SLIDER_GALLERY",t.WIDGET_AUDIO_BRANDED_PODCAST_TITLE="WIDGET_AUDIO_BRANDED_PODCAST_TITLE",t.WIDGET_AUDIO_BRANDED_EPISODE_HEADLINE="WIDGET_AUDIO_BRANDED_EPISODE_HEADLINE",t.WIDGET_AUDIO_NON_BRANDED_PODCAST_TITLE="WIDGET_AUDIO_NON_BRANDED_PODCAST_TITLE",t.WIDGET_AUDIO_NON_BRANDED_EPISODE_HEADLINE="WIDGET_AUDIO_NON_BRANDED_EPISODE_HEADLINE",t.OUR_HELPER_COLLECTION_ID="g-s1-57854",t.OUR_AUDIO_HELPER_COLLECTION_ID="g-s1-70427",t.CONTENT_WIDGETS_LIMIT=5},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGG_STORIES_PROXY=void 0;var r,a,o=(r=regeneratorRuntime.mark((function e(t){var n,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={method:"GET"},!t||!o){e.next=11;break}return r=""+c+t+"?limit="+o,e.next=5,(0,l.default)(d,r,n);case 5:if((a=e.sent).ok){e.next=8;break}throw new Error("invalid response for getAggStories");case 8:return e.next=10,a.json();case 10:return e.abrupt("return",e.sent);case 11:throw new Error("invalid aggId for getAggStories");case 12:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return a.apply(this,arguments)});t.addBodyClass=_,t.addHeightProperty=E,t.addSponsorshipListener=m,t.slideForward=function(e){if(e){var t=document.querySelector("."+e),n=t.querySelectorAll(".story").length;t&&n&&g(t,f=(f+1)%n)}},t.getAudioIdsFromAggStories=y,t.slideBackward=function(e){if(e){var t=document.querySelector("."+e),n=document.querySelectorAll("."+e+" .story").length;t&&n&&g(t,f=(f-1)%n)}},t.resetSlider=h,t.getVariationId=v,t.getExperimentId=S;var i,s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39)),u=n(42),l=(i=u)&&i.__esModule?i:{default:i};var c=t.AGG_STORIES_PROXY=s.PROXY_API_HOST+"/proxy/widgets/collection/",d=1e4,p=10,f=0;function _(){document.body.classList.add("has-right-rail-content-widgets")}function E(){var e=document.getElementById("right-rail-content-widgets__container");if(e){var t=e.offsetHeight;document.documentElement.style.setProperty("--right-rail-content-widgets-height",t+"px")}document.querySelector(".slider-gallery__button--backward")&&document.querySelector(".slider-gallery__button--backward").setAttribute("disabled",!0)}function m(){window.addEventListener("scroll",(function(){var e=$(window).scrollTop(),t=$("#ad-standard-wrap"),n=document.documentElement.style.getPropertyValue("--global-cta-body-padding")?document.documentElement.style.getPropertyValue("--global-cta-body-padding"):0,r=document.documentElement.style.getPropertyValue("--right-rail-content-widgets-height")?document.documentElement.style.getPropertyValue("--right-rail-content-widgets-height"):0;e>=parseInt(n,10)+parseInt(r,10)-15?t.addClass("sticky-ad"):t.removeClass("sticky-ad")}))}function g(e,t){var n=e.querySelector(".slider")?e.querySelector(".slider"):"";if(n){var r=n.querySelectorAll(".story"),a=document.querySelector(".slider-gallery__button--backward"),o=document.querySelector(".slider-gallery__button--forward");e&&e.querySelectorAll(".stories-slider-gallery-3-widget__body").length>0?n.style.transform="translateX(-"+50*t+"%)":n.style.transform="translateX(-"+100*t+"%)",a&&(a&&t>0?a.removeAttribute("disabled"):a.setAttribute("disabled",!0)),o&&(t==r.length-1?o.setAttribute("disabled",!0):o.removeAttribute("disabled")),o&&e.querySelectorAll(".stories-slider-gallery-3-widget__body").length>0&&(t>0?o.setAttribute("disabled",!0):o.removeAttribute("disabled"))}}function y(e){var t=[],n=Object.keys(e);for(var r in n)if(e[r].id&&e[r].primaryAudioId){var a=e[r].id+":"+e[r].primaryAudioId;t.push(a)}return t}function h(){f=0;var e=document.querySelector(".slider-gallery__button--backward"),t=document.querySelector(".slider-gallery__button--forward");e&&t&&(e.setAttribute("disabled",!0),t.removeAttribute("disabled"))}function v(){var e=window&&window.optimizely?window.optimizely.get("state").getExperimentStates():null;return e&&e[Object.keys(e)[0]].variation.id?e[Object.keys(e)[0]].variation.id:""}function S(){var e=window&&window.optimizely?window.optimizely.get("state").getExperimentStates():null;return e&&e[Object.keys(e)[0]].id?e[Object.keys(e)[0]].id:""}t.default={getAggStories:o,addBodyClass:_,addHeightProperty:E,addSponsorshipListener:m,getAudioIdsFromAggStories:y,resetSlider:h,getVariationId:v,getExperimentId:S}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NONE="none",t.MODAL="modal",t.END_OF_STORY="endofstory",t.STICKYBAR="stickybar",t.CENTER_STAGE="centerstage"},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSegmentPlayButtonIconClass=function(e,t,n,r){if(t)return"icn-pause";if(n)return"icn-loading";if(e||r)return"icn-loading";return"icn-play"},t.getPlayButtonAriaLabel=function(e,t,n){if(e||n)return"Loading";if(t)return"Pause";return"Play"},t.getStreamPlayButtonIconClass=function(e,t){if(e)return"icn-loading";if(t)return"icn-stop";return"icn-play"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paneChangeWithExpand=function(e){return{type:r.PANE_CHANGE_WITH_EXPAND,payload:e}},t.paneChangeDirect=function(e){return{type:r.PANE_CHANGE_DIRECT,payload:e}},t.subpaneChangeDirect=function(e){return{type:r.SUBPANE_CHANGE_DIRECT,payload:{pane:e}}},t.subpaneChangeWithExpand=function(e,t){return{type:r.SUBPANE_CHANGE_WITH_EXPAND,payload:{pane:e,shouldAutoplayOnNavComplete:t}}},t.streamingPaneSelectedWithPlay=function(){return{type:r.STREAMING_PANE_SELECTED_WITH_PLAY}},t.onDemandPaneSelected=function(){return{type:r.ON_DEMAND_PANE_SELECTED}},t.newscastPaneSelectedWithPlaySmallBp=function(e){return{type:r.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP,payload:e}},t.collapsePane=function(){return{type:r.COLLAPSE_PANE}},t.linkClicked=function(e){return{type:r.LINK_CLICKED,meta:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDENTITY_USERS_PROXY=t.USER_STATION_PROXY=void 0;var r,a,o,i,s,u=(r=A(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={method:"GET"},!t||!n){e.next=4;break}return a=w+"/"+t+"/"+n,e.abrupt("return",(0,_.default)(k,a,r).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject("server error occurred")})).catch((function(e){return Promise.reject(e)})));case 4:return e.abrupt("return",Promise.reject("invalid userId"));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)}),l=(a=A(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.abrupt("return",U(b,t,n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)}),c=(o=A(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({publisherId:"5116",hashedRecords:[{type:"email",record:t}],gdpr:0,ttl:"100"})},e.next=3,(0,_.default)(k,M,n);case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.json();case 7:if("string"!=typeof(a=e.sent)){e.next=10;break}throw new Error("Amazon user email hash not passed succesfully.");case 10:return e.abrupt("return",a);case 11:throw new Error("Amazon user email hash not passed succesfully.");case 12:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)}),d=(i=A(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=G(),r=j(),!t){e.next=15;break}if(n){e.next=14;break}return e.prev=4,e.next=7,c(t);case 7:x(e.sent),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),h.default.info("could not send user email hash to amazon. "+e.t0);case 14:if(!r)try{F(t)}catch(e){h.default.info("could not send user email hash to openwrap. "+e)}case 15:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(e){return i.apply(this,arguments)}),p=(s=A(regeneratorRuntime.mark((function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return(t=new FormData).append("accessToken",r),n={method:"POST",body:t},e.abrupt("return",(0,_.default)(k,L,n));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)}),f=T(n(39)),_=O(n(42)),E=O(n(5)),m=T(n(56)),g=O(n(201)),y=O(n(720)),h=O(n(12)),v=T(n(203)),S=O(n(209));function O(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var I=f.IDENTITY_HOST+"/v2/user?context="+f.WEBSITE_CONTEXT,b=f.IDENTITY_HOST+"/v2/user?hash=1",P=f.IDENTITY_HOST+"/v2/stations?context="+f.WEBSITE_CONTEXT,R=f.IDENTITY_HOST+"/v2/subscriptions",D=f.IDENTITY_HOST+"/v2/web/subscriptions",N=t.USER_STATION_PROXY=f.PROXY_API_HOST+"/proxy/identity/v2/users/station",w=t.IDENTITY_USERS_PROXY=f.PROXY_API_HOST+"/proxy/identity/v2/users",C=f.PROXY_API_HOST+"/proxy/authorization/createAnonymousUser",L=f.PROXY_API_HOST+"/account/oauth2/revoke",M="https://tk.amazon-adsystem.com/envelope",k=1e4;function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n,{headers:Object.assign({},n.headers,{Authorization:"Bearer "+t})});return(0,_.default)(k,e,r).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(new Error("Response status: "+e.status+" "+e.statusText))})).catch((function(e){return Promise.reject(e)}))}function x(e){g.default.set("AMZN-Token",e.AIPToken,{domain:NPR.ServerConstants.cookieDomain,path:"/",expires:e.expiryDate})}function F(e){window.PWT.loginEvent=!0,"undefined"!=typeof owpbjs&&owpbjs&&owpbjs.setUserIdentities({pubProvidedEmailHash:{SHA256:e}}),g.default.set("_fpCookie",e,{domain:NPR.ServerConstants.cookieDomain,path:"/",expires:2592e3})}function G(){return B("AMZN-Token")}function j(){return B("_fpCookie")}function B(e){return g.default.get(e)}function H(e){g.default.get(e)&&g.default.remove(e,{domain:NPR.ServerConstants.cookieDomain,path:"/"})}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,E.default)(e,"oauth.token",null),r=(0,E.default)(e,"oauth.grantType",null)===v.GRANT_TYPE_AUTHENTICATED,a=B("npr-session");return Boolean(n&&r&&(!!t||a&&"deleted"!=a))}t.default={dispatchOauthRefreshFailure:function(e){return function(t){return function(){t(e.userLogoutRequested())}}},dispatchOauthRefreshSuccess:function(e){return function(t){return function(n){return function(r){t(e.accessTokenReceived(r,n))}}}},getAndClearTemporaryAccessTokenFromCookieCredentials:function(){var e=B("nprorg-access_token");return e?(H("nprorg-access_token"),e):null},revokeAuthenticatedAccessToken:p,isValidUserStation:function(e){return Boolean(e&&e!==m.NPR)},isUserLoggedIn:W,setStationsForUser:function(e,t){var n={method:"PUT",body:JSON.stringify(t)};return U(P,e,n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},setSubscriptionForUser:function(e,t){var n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify([t])};return U(R,e,n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},webSubscribeUser:function(e,t,n,r){var a=new FormData;e&&a.append("email",e),t&&a.append("userId",t),n&&a.append("newsletterId",n),r&&a.append("orgId",r);var o={method:"POST",body:a};return(0,_.default)(k,D,o).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject("server error occurred")})).catch((function(e){return Promise.reject(e)}))},getUserFromIdentity:function(e){return U(I,e,{method:"GET"}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getUserFromIdentityById:u,getUserEmailHashFromIdentity:l,sendUserEmailHashToAmazon:c,getStoredOpenwrapHEMData:j,getStoredAmazonHEMData:G,clearHemData:function(e,t){e&&H("AMZN-Token"),t&&H("_fpCookie")},setStoredHEMData:d,fetchJsonFromCarbonOauth:U,requestUrlIsAuthorizationCall:function(e){return new RegExp(f.PROXY_API_HOST+"/account/oauth2").test(e)},delay:function(e){return function(t,n){return new Promise((function(r,a){setTimeout((function(){t.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)).then((function(e){return r(e)})).catch((function(e){return a(e)}))}),e)}))}},isEmail:function(e){return y.default.isEmail(e)},killNprAuthCookies:function(){H("npr-session"),H("nprorg-access_token"),H("nprorg-refresh_token")},getCookie:B,clearCookie:H,registerEmailAddressOrUpdateExistingAccount:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e||Promise.reject(new Error("Invalid argument error. Email is required."));var r={method:"POST"},a=encodeURIComponent(e),o="email="+a+"&orgId="+t.id;n&&(o+="&podcastId="+n);var i=w+"?"+o;return(0,_.default)(k,i,r).then((function(e){return e.json()})).then((function(){return Promise.resolve()})).catch((function(e){return Promise.reject(e)}))},findUserStationByEmail:function(e){var t="email="+encodeURIComponent(e);return(0,_.default)(k,N+"?"+t,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return"string"==typeof e?Promise.reject("User not found."):Promise.resolve(e.attributes.orgId)}))},createAnonymousAccessTokenData:function(e){return new Promise((function(t,n){var r={method:"POST",body:""};if(e){var a=new FormData;a.append("stationOrgId",e),r.body=a}(0,_.default)(2e4,C,r).then((function(e){if(e.ok||e.status&&(!e.status||401==e.status)){if(!e.status||401!=e.status)return e.json();n(new S.default("response not authorized when creating anonymous token"))}else n(new Error("response not OK when creating anonymous token"))})).then((function(e){(0,E.default)(e,"tokenData.access_token",null)||n(new S.default("no valid access token was returned")),t(e)})).catch((function(e){n(new S.default("unable to create anonymous user token",{cause:e}))}))}))},getExistingAccessTokenFromSessionState:function(e){return(0,E.default)(e,"oauth.token",null)},doesUserHaveAnImproperLoginState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!W(e,t)){var n=(0,E.default)(e,"oauth.token",null),r=(0,E.default)(e,"oauth.grantType",null)===v.GRANT_TYPE_AUTHENTICATED,a=B("npr-session"),o=G(),i=j();return Boolean(n&&r&&!(a&&"deleted"!=a)||!(n&&r)&&a&&"deleted"!=a||o||i)}return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetFlowState=function(){return{type:r.RESET_FLOW_STATE}},t.resetFlowStateForNewToken=function(){return{type:r.RESET_FLOW_STATE_FOR_NEW_TOKEN}},t.initializeFlowState=function(){return{type:r.INITIALIZE_FLOW_STATE}},t.manuallyAdvanceTopOfFlowFromError=function(){return{type:r.MANUALLY_ADVANCE_TOP_OF_FLOW_FROM_ERROR}},t.advanceAndPlayTopOfFlowFromAudioError=function(e){return{type:r.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_AUDIO_ERROR,payload:e}},t.advanceAndPlayTopOfFlowFromSkip=function(e){return{type:r.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_SKIP,payload:e}},t.advanceAndPlayTopOfFlowFromComplete=function(){return{type:r.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_COMPLETE}},t.advanceTopOfFlow=function(){return{type:r.ADVANCE_TOP_OF_FLOW}},t.advanceTopOfFlowAndPlay=function(){return{type:r.ADVANCE_TOP_OF_FLOW_AND_PLAY}},t.playTopOfFlow=function(){return{type:r.PLAY_TOP_OF_FLOW}},t.triggerRatingsHeartbeat=function(e){return{type:r.TRIGGER_RATINGS_HEARTBEAT,payload:e}},t.flowRecommendationsReceived=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:r.FLOW_RECOMMENDATIONS_RECEIVED,payload:{recommendations:e,playlistId:t,uids:n,etag:a}}},t.onRampFlowRecommendationsReceived=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:r.ON_RAMP_FLOW_RECOMMENDATIONS_RECEIVED,payload:{recommendations:e,playlistId:t,uids:n,etag:a}}},t.addStagedRatingAndSend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:r.ADD_STAGED_RATING_AND_SEND,payload:{rating:e,position:t}}},t.resetOverridePostUrl=function(){return{type:r.RESET_OVERRIDE_POST_URL}},t.getListeningRecommendationsDefaultOnRampRequested=function(){return{type:r.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_REQUESTED}},t.getListeningRecommendationsDefaultOnRampSucceeded=function(e){return{type:r.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_SUCCEEDED,payload:e}},t.getListeningRecommendationsDefaultOnRampFailed=function(){return{type:r.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_FAILED}},t.getListeningRecommendationsByMediaIdOnRampRequested=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:r.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_REQUESTED,payload:{uid:e,startPosition:t,origin:n}}},t.getListeningRecommendationsByMediaIdOnRampSucceeded=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:r.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_SUCCEEDED,payload:{recommendations:e,startPosition:t}}},t.getListeningRecommendationsByMediaIdOnRampFailed=function(){return{type:r.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_FAILED}},t.getPromoCardAudioAndSubsequentlyPlayRequested=function(e){return{type:r.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_REQUESTED,payload:e}},t.getPromoCardAudioAndSubsequentlyPlaySucceeded=function(e){return{type:r.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_SUCCEEDED,payload:e}},t.getPromoCardAudioAndSubsequentlyPlayFailed=function(){return{type:r.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_FAILED}},t.getListeningRecommendationsByMediaIdWithBingeOnRampRequested=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{type:r.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_REQUESTED,payload:{uid:e,bingeAggId:t,startPosition:n}}},t.getListeningRecommendationsByMediaIdWithBingeOnRampSucceeded=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:r.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_SUCCEEDED,payload:{recommendations:e,startPosition:t}}},t.getListeningRecommendationsByMediaIdWithBingeOnRampFailed=function(){return{type:r.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_FAILED}},t.sendRatingsRequested=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:r.SEND_RATINGS_REQUESTED,payload:{shouldReturnRecommendations:e}}},t.sendRatingsSucceeded=function(e,t,n,a){return{type:r.SEND_RATINGS_SUCCEEDED,payload:{recommendations:e,playlistId:t,uids:n,etag:a}}},t.sendRatingsFailed=function(){return{type:r.SEND_RATINGS_FAILED}},t.listeningHistoryRequested=function(){return{type:r.LISTENING_HISTORY_REQUESTED}},t.listeningHistorySucceeded=function(e){return{type:r.LISTENING_HISTORY_SUCCEEDED,payload:e}},t.listeningHistoryFailed=function(){return{type:r.LISTENING_HISTORY_FAILED}},t.getNewscastRecommendationsOnRampRequested=function(){return{type:r.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_REQUESTED}},t.getNewscastRecommendationsOnRampSucceeded=function(e){return{type:r.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED,payload:e}},t.getNewscastRecommendationsOnRampFailed=function(){return{type:r.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_FAILED}},t.getListeningRecommendationsFromChannelOnRampRequested=function(e){return{type:r.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_REQUESTED,payload:{channel:e}}},t.getListeningRecommendationsFromChannelOnRampSucceeded=function(e,t){return{type:r.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_SUCCEEDED,payload:{channel:e,recommendations:t}}},t.getListeningRecommendationsFromChannelOnRampFailed=function(){return{type:r.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_FAILED}},t.updatePlaylistUidsRequested=function(e,t,n){return{type:r.UPDATE_PLAYLIST_UIDS_REQUESTED,payload:{playlistId:e,uids:t,etag:n}}},t.updatePlaylistUidsSucceeded=function(e,t,n){return{type:r.UPDATE_PLAYLIST_UIDS_SUCCEEDED,payload:{playlistId:e,uids:t,etag:n}}},t.updatePlaylistUidsFailed=function(e){return{type:r.UPDATE_PLAYLIST_UIDS_FAILED,payload:e}},t.getPlaylistRecommendationsOnRampRequested=function(e){return{type:r.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_REQUESTED,payload:e}},t.getPlaylistRecommendationsOnRampSucceeded=function(e,t,n,a){return{type:r.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED,payload:{playlistId:e,recommendations:t,uids:n,etag:a}}},t.getPlaylistRecommendationsOnRampFailed=function(){return{type:r.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_FAILED}},t.getPlaylistUidsRequested=function(e){return{type:r.GET_PLAYLIST_UIDS_REQUESTED,payload:e}},t.getPlaylistUidsSucceeded=function(e,t,n){return{type:r.GET_PLAYLIST_UIDS_SUCCEEDED,payload:{playlistId:e,uids:t,etag:n}}},t.getPlaylistUidsFailed=function(e){return{type:r.GET_PLAYLIST_UIDS_FAILED,payload:e}},t.initializePlayerWithRemoteService=function(){return{type:r.INITIALIZE_PLAYER_WITH_REMOTE_SERVICE}},t.loadVisualPlaylistRecommendationsRequested=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:r.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_REQUESTED,payload:{playlistId:e,offset:t,shouldAutoplayOnLoadComplete:n}}},t.loadVisualPlaylistRecommendationsSucceeded=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{type:r.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_SUCCEEDED,payload:{playlistId:e,recommendations:t,uids:n,etag:a,shouldAutoplayOnLoadComplete:o}}},t.loadVisualPlaylistRecommendationsFailed=function(e){return{type:r.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_FAILED,payload:e}},t.addFlowRecommendationsToPlaylistVisualRecommendations=function(e){return{type:r.ADD_FLOW_RECOMMENDATIONS_TO_PLAYLIST_VISUAL_RECOMMENDATIONS,payload:e}},t.playAudioFromPlaylist=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:r.PLAY_AUDIO_FROM_PLAYLIST,payload:{uid:e,startPosition:t}}},t.resetPlaylistVisualState=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:r.RESET_PLAYLIST_VISUAL_STATE,payload:{shouldAutoplayOnResetComplete:e}}},t.refreshPlaylistFlowRecommendations=function(){return{type:r.REFRESH_PLAYLIST_FLOW_RECOMMENDATIONS}},t.deletePlaylistItemsRequested=function(e,t,n){return{type:r.DELETE_PLAYLIST_ITEMS_REQUESTED,payload:{playlistId:e,uidsToDelete:t,etag:n}}},t.deletePlaylistItemsSucceeded=function(e,t,n,a){return{type:r.DELETE_PLAYLIST_ITEMS_SUCCEEDED,payload:{playlistId:e,uids:t,deletedUids:n,etag:a}}},t.deletePlaylistItemsFailed=function(e){return{type:r.DELETE_PLAYLIST_ITEMS_FAILED,payload:e}},t.addChannelToPlaylistRequested=function(e,t,n){return{type:r.ADD_CHANNEL_TO_PLAYLIST_REQUESTED,payload:{playlistId:e,channelId:t,etag:n}}},t.addChannelToPlaylistSucceeded=function(e,t,n,a){return{type:r.ADD_CHANNEL_TO_PLAYLIST_SUCCEEDED,payload:{playlistId:e,channelId:t,uids:n,etag:a}}},t.addChannelToPlaylistFailed=function(e){return{type:r.ADD_CHANNEL_TO_PLAYLIST_FAILED,payload:e}},t.addPlaylistItemsRequested=function(e,t,n){return{type:r.ADD_PLAYLIST_ITEMS_REQUESTED,payload:{playlistId:e,uidsToAdd:t,etag:n}}},t.addPlaylistItemsSucceeded=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{type:r.ADD_PLAYLIST_ITEMS_SUCCEEDED,payload:{playlistId:e,addedUids:t,uids:n,etag:a,shouldImmediatelyPlayFromTop:o}}},t.addPlaylistItemsFailed=function(e){return{type:r.ADD_PLAYLIST_ITEMS_FAILED,payload:e}},t.addPlaylistItemsToTopRequested=function(e,t,n){return{type:r.ADD_PLAYLIST_ITEMS_TO_TOP_REQUESTED,payload:{playlistId:e,uidsToAdd:t,etag:n}}},t.addPlaylistItemsToTopAndPlayRequested=function(e,t,n){return{type:r.ADD_PLAYLIST_ITEMS_TO_TOP_AND_PLAY_REQUESTED,payload:{playlistId:e,uidsToAdd:t,etag:n}}},t.queueButtonPressed=function(e,t,n,a,o){return{type:r.QUEUE_BUTTON_PRESSED,payload:{uid:e,currentPlaylistEtag:n,currentPlaylistId:a,metadata:o},meta:t}},t.logoutResetFlowStateRequested=function(){return{type:r.LOGOUT_RESET_FLOW_STATE_REQUESTED}},t.logoutResetFlowStateSucceeded=function(){return{type:r.LOGOUT_RESET_FLOW_STATE_SUCCEEDED}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},,function(e,t,n){"use strict";var r=i(n(8)),a=i(n(5)),o=i(n(353));function i(e){return e&&e.__esModule?e:{default:e}}var s=i(n(20)).default.create();s.name="auto-refresh";var u=void 0;function l(){return(0,a.default)(window,"NPR.serverVars.refresh",void 0)}function c(){var e=window.location.href;if(e.indexOf("refresh=true")<=0){var t=[];if(e.indexOf("?")>-1)t=e.substr(e.indexOf("?")+1).split("&");if(t.length>0){for(var n=!1,r=[],a=0;a<t.length;a+=1)t[a].indexOf("refresh")>-1&&(t[a]="refresh=true",n=!0),t[a].indexOf("=")>-1&&r.push(t[a]);n||r.push("refresh=true");var i=window.location.href.split("?")[0],s=r.join("&");o.default.navigateTo(i+"?"+s)}else o.default.navigateTo(e+"?refresh=true")}else o.default.navigateTo(window.location)}function d(){window.clearTimeout(u),u=window.setTimeout(c,1e3*l())}function p(){(0,r.default)(document).trigger("resetRefreshTimeout","window.focus")}function f(){(0,r.default)(document).trigger("resetRefreshTimeout","document.click")}s.onReady=function(){if(l()&&(u=window.setTimeout(c,1e3*l()),(0,r.default)(document).on("resetRefreshTimeout",d),(0,r.default)(window).on("focus",p),(0,r.default)(document).on("click",f),"function"==typeof window.jwplayer)){var e=window.jwplayer();e&&"function"==typeof e.onTime&&e.onTime((function(){Math.round(e.getPosition())%30==0&&(0,r.default)(document).trigger("resetRefreshTimeout","video timeupdate: "+e.getPosition())}))}},s.onUnload=function(){window.clearTimeout(u),(0,r.default)(document).off("resetRefreshTimeout",d),(0,r.default)(window).off("focus",p),(0,r.default)(document).off("click",f)},s.register()},,,,,,,function(e,t,n){"use strict";(function(e){var r,a;r=[n(20),n(8)],void 0===(a=function(e,t){var n=e.create();n.name="images/enlargement";var r=void 0;function a(e){e.preventDefault();var n=t(this),a=0!==n.parents(".bucketwrap.image").length?n.parents(".bucketwrap.image"):n.parents(".bucketwrap"),i=t("div.enlarge_measure img",a),s=t("div.enlarge_measure source",a);r=document.activeElement,void 0===i.attr("src")?(i.bind("load",(function(){void 0===i.attr("src")&&(i.attr("src",i.data("original")),s.each((function(){t(this).attr("srcset",t(this).data("original"))}))),o(n)})),i.attr("src",i.data("original")),s.each((function(){t(this).attr("srcset",t(this).data("original"))}))):o(n)}function o(e){var n,r=t("body"),a=0!==e.parents(".bucketwrap.image").length?e.parents(".bucketwrap.image"):e.parents(".bucketwrap"),o=a.children(".enlarge_html"),u=a.children(".enlarge_measure");0===t("#mediaEnlargeOverlay").length&&(r.append('<div id="mediaEnlargeOverlay"><div id="mediaEnlargeFrame" role="dialog" aria-label="Image enlargement"><button class="close">Close Enlargement</button></div></div>'),t("#mediaEnlargeFrame").prepend(u.html()+o.html())),t("html").addClass("mediaEnlarged"),i(),t(window).on("resize",i),t("#mediaEnlargeOverlay, #mediaEnlargeFrame img, #mediaEnlargeFrame .close").on("click",s),(n=t("#mediaEnlargeFrame a, #mediaEnlargeFrame button"))[n.length-1].focus(),t(document).on("keydown.mediaEnlargement",(function(e){switch(e.keyCode){case 27:s(e);break;case 9:1===n.length?e.preventDefault():e.shiftKey?document.activeElement===n[0]&&(e.preventDefault(),n[n.length-1].focus()):document.activeElement===n[n.length-1]&&(e.preventDefault(),n[0].focus())}}))}function i(){var e=t("#mediaEnlargeFrame"),n=t(window).width(),r=t(window).height(),a=.95*n,o=.95*r;o<350&&(o=350);var i=(n-a)/2,s=(r-o)/2+t(window).scrollTop();n>=1350&&(i=(1350-(a=1282.5))/2),e.css({width:a,height:o,top:s,left:i});var u=t(".image_data",e).outerHeight()+parseInt(t(".image_data",e).css("bottom")),l=e.height()-u;t(".img_wrap",e).css({height:l,lineHeight:l+"px"})}function s(e){e&&e.preventDefault(),t("html").removeClass("mediaEnlarged"),t("#mediaEnlargeOverlay").remove(),u(),r&&r.focus()}function u(){t(document).off("keydown.mediaEnlargement")}n.onReady=function(){t(".enlarge-options").append('<button class="enlargebtn">Enlarge this image</button>'),t(".enlarge-options > .enlargelink").remove(),t(".enlargebtn").on("click",a)},n.onUnload=function(){s(),u(),t(".enlargebtn").off("click",a),t("div.enlarge_measure img").off("load"),t("#mediaEnlargeOverlay, #mediaEnlargeFrame img, #mediaEnlargeFrame .close").off("click",s),t(window).off("resize",i)},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";(function(e){var r,a,o,i=n(143),s=(o=i)&&o.__esModule?o:{default:o};r=[n(20),n(8),n(352)],void 0===(a=function(e,t,n){var r=e.create();r.name="images/hover-credits";var a=!1;function o(e){return!e.hasClass("item-image-podcast")&&(0===e.parents(".mhp-section.interviews").length&&0===e.parents(".featured-1-up").length)}function i(){var e=t(this);o(e)&&e.find(".credit-caption").fadeIn("fast")}function u(){var e=t(this);o(e)&&e.find(".credit-caption").fadeOut("fast")}function l(){var e=t(this),n=t(".toggle-caption",e);e.on({mouseenter:function(){n.hasClass("engaged")||t(this).find(".credit").fadeIn("fast")},mouseleave:function(){n.hasClass("engaged")||t(this).find(".credit").fadeOut("fast")}})}function c(){t(document).off("mouseenter",".item-image, .photowrap, .hp-item-basic .bucketwrap.homeThumb, .post-type-minimal .thumb-image, .tmplMusicHomepage .thumb-image .bucketwrap.image",i),t(document).off("mouseleave",".item-image, .photowrap, .hp-item-basic .bucketwrap.homeThumb, .post-type-minimal .thumb-image, .tmplMusicHomepage .thumb-image .bucketwrap.image",u),t(".credit-caption, .credit").removeAttr("style"),t(".featured-1-up .item-image").off("mouseenter mouseleave")}function d(){var e=t("body");!(e.hasClass("music")||e.hasClass("podcast")||e.hasClass("tmplHomePage"))||e.hasClass("tmplPodcastHome")||n.touch||(s.default.isScreenLargerOrEqual(s.default.BREAKPOINT.LARGE)&&!1===a?(t(document).on("mouseenter",".item-image, .photowrap, .hp-item-basic .bucketwrap.homeThumb, .post-type-minimal .thumb-image, .tmplMusicHomepage .thumb-image .bucketwrap.image",i),t(document).on("mouseleave",".item-image, .photowrap, .hp-item-basic .bucketwrap.homeThumb, .post-type-minimal .thumb-image, .tmplMusicHomepage .thumb-image .bucketwrap.image",u),t(".featured-1-up .item-image").each(l),a=!0):s.default.isScreenSmaller(s.default.BREAKPOINT.LARGE)&&!0===a&&(c(),a=!1))}r.onReady=function(){d(),t(window).on("resize",d)},r.onUnload=function(){t(window).off("resize",d),a&&c()},r.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";(function(e){var r,a,o,i=n(143),s=(o=i)&&o.__esModule?o:{default:o};r=[n(20),n(8),n(1280)],void 0===(a=function(e,t){var n=e.create();function r(e){if(e.preventDefault(),s.default.isScreenSmallerOrEqual(s.default.BREAKPOINT.SMALL)||t("body").hasClass("agg")){var n=t(this);n.parent().next("div").slideDown(),n.addClass("active")}}function a(e){if(e.preventDefault(),s.default.isScreenSmallerOrEqual(s.default.BREAKPOINT.SMALL)||t("body").hasClass("agg")){var n=t(this);n.parent().next("div").slideUp(),n.removeClass("active")}}n.name="contentfooter",n.onReady=function(){t(".module > h3 a","#contentfooter").clicktoggle(r,a)},n.onUnload=function(){t(".module > h3 a","#contentfooter").off("click",r).off("click",a)},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSmallBreakpoint=t.isMobileDevice=void 0;var r=n(207),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(34));var o=function(e){return e.player};t.isMobileDevice=(0,r.createSelector)([o],(function(e){return e.env.hasTouchSupport&&e.env.breakpoint===a.SMALL})),t.isSmallBreakpoint=(0,r.createSelector)([o],(function(e){return e.env.breakpoint===a.SMALL}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNewscastUidForOrg=t.getOrgIdFromNewscastUid=t.isNewscastUid=t.NEWSCAST_PREFIX=void 0,t.isValidStationOrg=function(e){return e&&e!==r.NPR};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(56));var a=t.NEWSCAST_PREFIX="newscast-",o=t.isNewscastUid=function(e){var t=e.split("-");return 0===e.indexOf(a)&&2===t.length&&parseInt(t[1],10)==t[1]};t.getOrgIdFromNewscastUid=function(e){return o(e)?parseInt(e.split("-")[1],10):-1},t.getNewscastUidForOrg=function(e){return a+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStoryIdFromUid=i,t.getMediaIdFromUid=function(e){var t=e.split(":");if(2!==t.length)return"";return t[1]},t.isNewscastAudio=function(e){var t=(0,a.default)(e,"uid","");if(!t)return!1;if(t.startsWith("newscast-"))return!0;if(t.split(":")[0]&&!isNaN(Number(i(e.uid,!1)))&&Number(i(e.uid,!1))<=200100)return!0;return!1};var r=o(n(155)),a=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(/newscast/.test(e))return e;var n=e.split(":");return 2!==n.length&&t?e:n[0]}function s(e,t){return e.href.length>t.href.length?e:t}function u(e){var t=(0,a.default)(e,"links.image",[]).filter((function(e){return"wide"===e.rel}))[0];if(t&&t.href)return t.href}function l(e){var t;return(t=(0,a.default)(e,"links.image",[]).find((function(e){return"logo_square"===e.rel||"station_square_logo"===e.rel})))?t.href:null}t.default={getOrganizationName:function(e){var t=e.attributes.organization;return t&&"NPR"!==t.name?t.name:""},getAudioUrl:function(e){var t=(0,r.default)(e.links.audio,{"content-type":"audio/mp3"});return t||(t=(0,r.default)(e.links.audio,{"content-type":"audio/aac"})),t?t.href:""},getStoryUrl:function(e){return e.links&&e.links.web?e.links.web.filter((function(e){return"text/html"===e["content-type"]&&!e.rel})).reduce(s,{href:""}).href:""},getSlug:function(e){return e.attributes.slug||""},getProgram:function(e){return e.attributes.program||""},getDate:function(e){return e.attributes.date||""},getExpires:function(e){var t=e.attributes.expires;return t?{expires:Date.parse(t)}:{}},getAvailability:function(e,t){var n={available:!!e};return t.attributes.unavailableText&&(n.unavailableText=t.attributes.unavailableText),n},getRating:function(e){return(0,a.default)(e,"attributes.rating",null)},getListeningRelation:function(e){return(0,a.default)(e,"attributes.listeningRelation",null)},getNextRecommendationsPostUrl:function(e){var t=(0,r.default)(e.links.recommendations,{"content-type":"application/json"});return t?t.href:""},getActionUrl:function(e){var t=(0,r.default)(e.links.action,{"content-type":"text/html"});return t?t.href:""},getAudioType:function(e){return(0,a.default)(e,"attributes.type",null)},getWideImage:u,getSquareImage:l,getWideImageCaption:function(e){var t=u(e);if(t)return t.caption},getSquareImageCaption:function(e){var t=l(e);if(t)return t.caption},getGenericFallbackImage:function(){return"https://media.npr.org/include/images/facebook-default-wide-s600-c100.jpg"},getProvider:function(e){return(0,a.default)(e,"attributes.provider",null)},getTranscriptUrl:function(e){if(!e.links||!e.links.web)return"";var t=e.links.web.filter((function(e){return"text/html"===e["content-type"]&&"transcript"===e.rel}));return t[0]?t[0].href:void 0},getChannel:function(e){return(0,a.default)(e,"attributes.channel",null)},getIsReplayable:function(e){var t=(0,a.default)(e,"attributes.isReplayable",null);return!0===t||"true"===t},getButtonText:function(e){var t=(0,r.default)(e.links.action,{"content-type":"text/html"});return t&&t.linkText?t.linkText:(0,a.default)(e,"attributes.button",null)},isPlusAudio:function(e){var t=(0,a.default)(e,"attributes.rating.flags",null);if(t){var n=t.split(",");return n&&n.includes("pr")}return!1}}},,,,,function(e,t,n){"use strict";(function(e){var r,a,o,i=n(143),s=(o=i)&&o.__esModule?o:{default:o};r=[n(8),n(20)],void 0===(a=function(e,t){var n=t.create();function r(t,n){var r=e("main"),a=n.offset(),o=r.find("#ecommercePopupContainer");0===o.length?o=e('<div id="ecommercePopupContainer"></div>').appendTo("main"):o.empty(),o.append(t.clone().addClass("is-active"));var i=a.left-(o.outerWidth()-n.outerWidth());a.left<=o.outerWidth()&&(i="30px");var u=void 0;u=s.default.isScreenSmallerOrEqual(s.default.BREAKPOINT.SMALL)?{top:a.top,left:"auto",right:"50%","margin-right":-o.outerWidth()/2}:{top:a.top,left:i,right:"auto","margin-right":0},o.css(u)}function a(t){t.preventDefault();var n=e(this);r(n.parents(".bookedition").find(".ecommercepop"),n)}function o(t){t.preventDefault();var n=e(this);r(n.parents(".ecommerce").children(".ecommercepop"),n)}function i(t){e(this).parents(".ecommercepop").removeClass("is-active")}n.name="ecommerce",n.onReady=function(){e(".bookedition a.purchase").on("click",a),e(".ecommerce__button").on("click",o),e(document).on("click",".ecommercepop .btn-close",i)},n.onUnload=function(){e(".bookedition a.purchase").off("click",a),e(".ecommerce__button").off("click",o),e(".ecommercepop .btn-close").off("click",i),e(document).off("click",".ecommercepop .btn-close",i)},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_QUEUED_STATUS=void 0,t.getAudioUrlToPlay=u,t.getMetadataWithDerivedProps=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],a=c(e,t),i=d(e,t),s=p(e,t),u=l(e),g=f(e,n,r),y=_(e,n,r),h=E(e),v=m(e);return Object.assign({},e,{title:h,isAudioReady:u,isPlaylistAudio:!!e.audioUrl&&(0,o.isPlaylistUrl)(e.audioUrl),isCurrentAudio:a,isPendingAudio:i,isQueued:g,userQueuedStatus:y,isAwaitingData:(s&&i||!s&&a)&&t.isAwaitingData,isPlayRequested:(s&&i||!s&&a)&&t.isPlayRequested,isLoading:(s&&i||!s&&a)&&t.isLoading,isPlaying:(s&&i||!s&&a)&&t.isPlaying,isAudioPlaying:t.isAudioPlaying,isStreamAudioType:v})},t.getNewMetadataOfType=function(e,t){return{uid:e,type:t}},t.getMetadataTypeForUid=function(e,t){return(0,a.default)(e,t+".type")||""},t.getMetadataSubtypeForUid=function(e,t){return(0,a.default)(e,t+".subtype")||""},t.getAudioMetadataForUid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.default)(t,e,null)};var r=i(n(123)),a=i(n(5)),o=n(198);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.USER_QUEUED_STATUS={ADDED:"ADDED",NOT_ADDED:"NOT_ADDED",LOADING:"LOADING"};function u(e){if(e&&e.audioUrl)return(0,o.isPlaylistUrl)(e.audioUrl)?e.contentUrl:e.audioUrl}function l(e){return void 0!==u(e)}function c(e,t){return e.uid===t.currentUid}function d(e,t){return e.uid===t.pendingUid}function p(e,t){return!!t.pendingUid}function f(e,t,n){return!!t&&(0,r.default)(t.currentPlaylistUids,e.uid)||!!n&&(0,r.default)(n.uidsInPlaylist,e.uid)}function _(e,t,n){return n&&(0,r.default)(n.uidsInUserQueueLoadingStatus,e.uid)?s.LOADING:t&&(0,r.default)(t.currentPlaylistUids,e.uid)||n&&(0,r.default)(n.uidsInPlaylist,e.uid)?s.ADDED:s.NOT_ADDED}function E(e){return e.song&&e.song===e.title?e.artist+', "'+e.song+'"':e.title}function m(e){return e&&e.isStreamAudioType}},function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=t.STANDARD="standard",i=t.MAINSTAGE="mainstage",s=t.CENTERSTAGE="centerstage",u=t.BACKSTAGE="backstage",l=(t.PLAYER_PRIMARY="player",t.PLAYER_LEAVEBEHIND="leavebehind",t.PLAYER_MOBILE_PRIMARY="playermobileprimary",t.SPICE_RACK="spicerack"),c=(t.SECONDARY="secondary",t.THIRD="third",t.OVERFLOW_1="overflow-1"),d=t.OVERFLOW_2="overflow-2",p=t.OVERFLOW_3="overflow-3",f=t.OVERFLOW_4="overflow-4",_=t.OVERFLOW_5="overflow-5",E=t.OVERFLOW_6="overflow-6",m=t.OVERFLOW_7="overflow-7",g=t.PODCASTS_SHOWS_DIRECTORY_ONE="podcasts-shows-directory-one",y=t.PODCASTS_SHOWS_DIRECTORY_TWO="podcasts-shows-directory-two",h=t.END_OF_STORY="end-of-story";t.CANONICAL_LOCATION_NAMES_MAP=(a(r={},o,"right_rail"),a(r,i,"music_homepage_centerstage"),a(r,u,"story_centerstage"),a(r,s,"homepage_centerstage"),a(r,l,"spice_rack"),a(r,g,"podcasts_and_shows_directory_one"),a(r,y,"podcasts_and_shows_directory_two"),a(r,h,"end-of-story"),a(r,c,"overflow"),a(r,d,"overflow"),a(r,p,"overflow"),a(r,f,"overflow"),a(r,_,"overflow"),a(r,E,"overflow"),a(r,m,"overflow"),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=g(n(719)),o=g(n(215)),i=g(n(155)),s=g(n(214)),u=g(n(388)),l=g(n(5)),c=g(n(42)),d=g(n(44)),p=g(n(12)),f=m(n(39)),_=m(n(56)),E=m(n(24));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(670);var y=f.STATION_API_HOST+"/v3/stations/recommendations",h=f.WEB_HOST+"/local-stories",v=f.PROXY_API_HOST+"/proxy/stationasset/v3/musicHomepageStreams/",S=f.ORG_V4_HOST;function O(e){var t="/proxy/stationfinder/v3/stations/"+e;return(0,c.default)(1e4,t).then((function(e){return Promise.resolve(e.json())}))}function T(e){return O(e).then((function(t){return n=t,(0,l.default)(n,"attributes.orgId")?Promise.resolve(parseInt((0,l.default)(t,"attributes.orgId"),10)):Promise.reject('Invalid results from Stations API search for call letters "'+e+'"');var n})).catch((function(e){return Promise.reject(e)}))}function A(e,t){var n=(0,o.default)((0,l.default)(e.links,"streams"),(function(e){return parseInt(e.typeId,10)===E.TYPE_MP3&&e.guid})),r=(0,o.default)(n,(function(e){return!!d.default.isHttps(e.href)||(p.default.warning("Rejecting insecure station stream",e.href),!1)})).map((function(e){return{orgId:t,title:e.title,primary:e.isPrimaryStream,audioUrl:e.href,uid:e.guid,type:E.STREAM,subtype:E.STREAM_STATION}}));return(0,u.default)(r,(function(e){return e.primary?0:1}))}function I(e){if(!e)return null;var t=[d.default.getUrlParameter("utm_source"),d.default.getUrlParameter("utm_campaign")].join("-").replace(/^-/g,"").replace(/-$/g,""),n=e;return[{key:"utm_source",value:"npr.org"},{key:"utm_medium",value:"referral"},{key:"utm_content",value:t}].map((function(e){e.value&&(n=d.default.addUrlParameter(n,e.key,e.value))})),n}function b(e){var t=(0,l.default)(e,"status");return t&&"10"===t}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"tier1"===n?e.id!=t&&!b(e):e.id!=t&&!0===e.usesInheritance}function R(e,t){var n=(0,l.default)(e.attributes,"network.tier1");return n?function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=[];P(t,n,r)&&o.push(parseInt(t.id,10));var i="tier1"===r?"tier2":"tier2"===r?"tier3":null;if(i){var u=(0,l.default)(t,i);if(u){var c=(0,a.default)((0,s.default)(u,(function(t){return e(t,n,i)})),!0);return o.concat(c)}}return o}(n,t,"tier1"):[]}function D(e){var t=parseInt(e.attributes.orgId,10),n=(0,l.default)(e.links,"donation"),r=n?(0,i.default)(n,(function(e){return"4"===e.typeId})):null,a=r?r.href:null,s=(0,i.default)(e.links.brand,(function(e){return"homepage"===e.rel})),c=s?s.href:null,f=(0,i.default)(e.links.brand,(function(e){return"logo"===e.rel})),_=f?f.href:"",m=parseInt(e.attributes.network.inheritingFrom,10),g=(0,l.default)(e.attributes.eligibility,"bundle"),y=e.attributes.streamsV2?function(e,t){var n=e.attributes.streamsV2.map((function(e){return{orgId:t,title:e.title,uid:e.guid,primary:e.primary,audioUrl:(n=e.urls,r=n.filter((function(e){return parseInt(e.typeId,10)===E.TYPE_MP3&&e.href&&e.guid})),r.length?r[0].href:""),type:E.STREAM,subtype:E.STREAM_STATION};var n,r})),r=(0,o.default)(n,(function(e){return!!d.default.isHttps(e.audioUrl)||(p.default.warning("Rejecting insecure station stream",e.audioUrl),!1)}));return(0,u.default)(r,(function(e){return e.primary?0:1}))}(e,t):A(e,t);return{id:t,serviceId:e.attributes.serviceId?e.attributes.serviceId:"",name:e.attributes.brand.name,logoUrl:_,orgUrl:I(c),donateUrl:I(a),callLetters:e.attributes.brand.call,band:e.attributes.brand.band,frequency:e.attributes.brand.frequency,marketCity:e.attributes.brand.marketCity,parentOrgId:m,marketState:e.attributes.brand.marketState,tagline:e.attributes.brand.tagline,streams:y,otherStationsInNetwork:R(e,t),lastUpdated:(new Date).toISOString(),nprOne:e.attributes.eligibility.nprOne,localizationEligibility:e.attributes.eligibility.localization,bundle:g}}function N(e){var t={};return t.stationData=e.items.map((function(e){return D(e)})),t.locationData=e.attributes,t}function w(e){var t="/proxy/stationfinder/v3/stations/"+e;return(0,c.default)(1e4,t).then((function(e){return e.json()})).then((function(e){if("object"===(void 0===e?"undefined":r(e)))return e;throw new Error("Invalid "+e)}))}function C(e){var t=[];return e.items.forEach((function(n,r){var a=parseInt(e.items[r].attributes.orgId,10);t[r]=(0,c.default)(1e4,S+"/v4/stations/"+a).then((function(e){return e.json()})).then((function(e){return e.services[0].id?e.services[0].id:""})).catch((function(e){return""}))})),Promise.allSettled(t).then((function(t){return t.forEach((function(t,n){"fulfilled"===t.status&&(e.items[n].attributes.serviceId=t.value)})),e}))}function L(e){var t="";return t=e&&0!==e.length?"/proxy/stationfinder/v3/stations?q="+e:"/proxy/stationfinder/v3/stations",(0,c.default)(1e4,t).then((function(e){return e.json()}))}var M=function(){return parseInt(d.default.getUrlParameter("streamStationId"),10)},k=function(){return d.default.getUrlParameter("station")};t.default={getProgramScheduleHTML:function(e,t){var n=f.STATION_API_HOST+"/v3/stations/"+e+"/programs/"+t+"/schedule";return(0,c.default)(1e4,n).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(new Error("invalid program data."))}))},getStreams:A,makeTrackableUrl:I,mapStationData:D,getStationDataByOrgId:w,getNonLocalStationData:function(e){return w(e).then((function(e){return Promise.resolve(D(e))})).catch((function(e){return Promise.reject(e)}))},getLocalStationData:function(){var e=y,t={lat:d.default.getUrlParameter("lat"),lon:d.default.getUrlParameter("lon")},n=t.lat,r=t.lon;return n&&r&&(e=y+"?lat="+n+"&lon="+r),(0,c.default)(1e4,e).then((function(e){return e.json()})).then((function(e){return C(e)})).then((function(e){return Promise.resolve(N(e))})).catch((function(e){return Promise.reject(e)}))},getStationSearchResultsData:L,getStationSearchResults:function(e){return L(e).then((function(e){return e&&e.items&&0!==e.items.length?C(e):[]})).then((function(e){return e&&e.items&&0!==e.items.length?Promise.resolve(e.items.map(D)):[]}))},getForcedLocalizationStationId:function(){var e=M(),t=k();return e&&e!==_.NPR?w(e).then((function(){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)})):t?w(t).then((function(){return T(t)})).catch((function(e){return Promise.reject(e)})):Promise.reject()},getStreamStationId:M,getStreamStationCall:k,getCallFrequencyBand:function(e){return(((0,l.default)(e,"callLetters")||"")+" "+((0,l.default)(e,"frequency")||"")+" "+((0,l.default)(e,"band")||"")).replace(/ +/," ").trim()},isOtherStationInThisNetwork:function(e,t){return((0,l.default)(e,"otherStationsInNetwork")||[]).some((function(e){return e===t}))},stationProxyTimeout:1e4,getHPLocalStoriesForStation:function(e){var t=h+"?serviceId="+e+"&storyCount=8";return(0,c.default)(15e3,t).then((function(e){return e.json()}))},getStation:O,looksLikeCallLetters:function(e){return!!e.match(/^((w|k)[a-z]{2,3})((-| )(fm|am))?$/i)},looksLikeZipCode:function(e){return!!e.match(/^(?!0{3})[0-9]{3,5}$/gm)},mapStationDataList:N,getMusicHomepageStreams:function(){return(0,c.default)(2e4,v).then((function(e){return e.json()}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.currentDay=(new Date).toISOString();t.isWithinThisGlobalAlertPeriod=function(e){return r>e.startDate&&r<e.endDate},t.isBlockListed=function(e){if(e.includes("/sections/publiceditor")||"/ethics"===e||e.includes("/sponsor-content/")||e.includes("/trump-impeachment-inquiry")||"Trump Impeachment Inquiry"===$(".contentheader--one .branding .branding__title").text()||0!==$("#subNavigation #res691393455").length)return!0}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r,a,o,i=n(170);(o=i)&&o.__esModule;r=[n(8),n(20),n(1315),n(1292)],void 0===(a=function(e,t,n){var r=void 0,a=void 0,o=void 0,i=void 0,s=void 0,u=t.create();function l(e){var t=new n(i),r=NPR.serverVars.initialStories+NPR.serverVars.infiniteNumResults*e+1;return t.query((function(e){return e.start=r,e.count=NPR.serverVars.infiniteNumResults,e})),t}function c(){var t=e("body");return!(!(t.hasClass("tmplPodcastChannel")||t.hasClass("agg")||t.hasClass("bio"))||t.hasClass("archive")||t.hasClass("tmplPodcastAgg"))}u.name="infinitescroll",u.onReady=function(){var t=e("#infinitescroll");if(0!==t.length){if(a=t.data("item-selector"),c()){o="/get/"+NPR.serverVars.storyId+"/render/partial/next",i="/get/"+NPR.serverVars.storyId+"/remainingCount";var u=l(0).toString();e.ajax({url:u,cache:!0}).done((function(t){0!==parseInt(t,10)&&(e(".options").addClass("has-more-results"),e(".agg-archive-search-tools").addClass("has-archive"))}))}else o=e("a:first","#scrolllink").attr("href");r=0,t.infinitescroll({navSelector:"div#scrolllink",nextSelector:"div#scrolllink a:first",itemSelector:a,bufferPx:100,pixelsFromNavToBottom:50,loading:{finished:void 0,finishedMsg:"No more stories available.",img:"//media.npr.org/chrome/loader.gif",msg:null,msgText:"Loading more stories...",selector:null,speed:"fast",start:void 0},path:function(t){var i=function(t){var r=new n(o);if(e("body").hasClass("program")){var i=e(a),s=i.last().data("episode-date"),u=i.last().data("episode-id");r.query((function(e){return e.date=s,e.eid=u,e}))}else{var l=NPR.serverVars.initialStories+NPR.serverVars.infiniteNumResults*t+1;r.query((function(e){return e.start=l,e.count=NPR.serverVars.infiniteNumResults,e}))}return r}(r);return r=t-1,i.toString()}},(function(){if(e("main").trigger("npr:doImageLazyLoad"),e(document).trigger("newAudioModules"),e(document).trigger("newPodcastEpisodes"),c()){window.scrollTo(0,s);var t=l(e("#infinitescroll").data("infinitescroll").options.state.currPage-1).toString();e.ajax({url:t,cache:!0}).done((function(t){0===parseInt(t,10)&&e(".options").removeClass("has-more-results")}))}})),c()&&(t.infinitescroll("pause"),e(".options__load-more").on("click",(function(){s=window.scrollY,t.infinitescroll("retrieve")})))}},u.onUnload=function(){var t=e("#infinitescroll");0!==t.length&&t.infinitescroll("destroy")},u.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";(function(e){var r,a,o,i=n(143),s=(o=i)&&o.__esModule?o:{default:o};r=[n(8),n(20),n(501)],void 0===(a=function(e,t,n){var r=t.create();r.name="social/sharepop";function a(t){var n=e(this);n.toggleClass("active");var r=n.parents(".bucketwrap.internallink");r.length&&r.toggleClass("has-active-subscribe-tools"),n.parents(".podcast-tools").find(".sharepop-four").slideToggle(),t.preventDefault()}function o(t){s.default.isScreenSmallerOrEqual(s.default.BREAKPOINT.SMALL)?(n.deinitSocialShare(),e("article .social .share").hasClass("expanded")||e("ul.aux.social .share").hasClass("expanded")?(e(".shareModal li.share a.sharemaintab").off("click",o),e(".social.shareModal").remove()):(e("body").prepend('<ul class="social shareModal"></ul>'),e(".share").clone().prependTo(".social.shareModal"),e(".shareModal li.share a.sharemaintab").on("click",o)),n.initSocialShare()):e(".social .share").toggleClass("expanded"),t.preventDefault()}return r.onReady=function(){var t=e("body");e("[data-sharepop]").sharePop(),(t.hasClass("tmplEventMusicStory")||t.hasClass("tmplEventMusicAggEmbed")||t.hasClass("tmplEventMusicStoryEmbed"))&&e("li.share a").on("click",o),e(".podcast-tools .subscribe > button").on("click",a)},r.onUnload=function(){e(window).off("SharePopThree.OPEN"),e("#sharepop-wrap").remove(),e("li.share a").off("click",o),e(".podcast-tools .subscribe > button").off("click",a)},e.fn.sharePop=function(t){var n=e.extend({openBehavior:"grow-left-and-down",mobileSize:768,click:function(){}},t);return this.each((function(){var t=e(this),r=function(t){var n=".sharepop";return void 0!==t.data("selector")&&(n=t.data("selector")),e(n)}(t),a=(r.height(),r.width()),o=void 0,i=void 0,s=function(){r.css({position:"absolute",left:(e(window).width()-a)/2,top:(e(window).height()-a)/2,"z-index":1e4}),i="slideDown",o=u("slideUp")},u=function(t){return function(n){n.preventDefault(),e("#sharepop-wrap").removeClass("active"),r[t](),e(window).off("resize",o)}};t.on("click",(function(l){l.preventDefault();var c=e("#sharepop-wrap");0===c.length&&(c=e('<div id="sharepop-wrap"></div>'),e("body").append(c)),c.addClass("active"),c.append(r),function(){var l=void 0,c=t.offset(),d=c.left,p=c.top;switch(n.openBehavior){case"grow-left-and-down":l=[d+t.outerWidth()-a,p],i="slideDown",o=u("slideUp");break;case"grow-right-and-down":l=[d,p],i="slideDown",o=u("slideUp");break;case"grow-up":l=[d,p+t.outerHeight()],i="slideUp",o=u("slideDown")}e(window).width()<n.mobileSize?s():r.css({display:"none",position:"absolute",top:l[1],left:l[0],"z-index":1e4})}(),r.children(".sharemaintab").click(o),e(window).on("resize",o),r[i](),n.click(),e(window).trigger("SharePopThree.OPEN",[t])})),e(window).on("SharePopThree.OPEN",(function(e,n){n!==t&&void 0!==o&&o(e)}))}))},r.register(),e}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),i=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this._getMetricsObjectGA4(),t=this.props.onClick,n=this.props,a=n.isDisabled,i=n.className,s=this._getAccessibilityAttributes();return o.default.createElement("button",r({className:i,onClick:t,disabled:a,"data-metrics-ga4":e},s),this.props.children||this.props.label)}}]),t}(s(n(240)).default);t.default=u,u.defaultProps={className:"",onClick:function(){},isDisabled:!1,label:"",children:"",tabIndex:""},u.propTypes={className:i.default.string,onClick:i.default.func,isDisabled:i.default.bool,label:i.default.string,tabIndex:i.default.string,children:i.default.oneOfType([i.default.element,i.default.arrayOf(i.default.element),i.default.string,i.default.node])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=u(n(8)),o=u(n(20)),i=u(n(44)),s=u(n(352));function u(e){return e&&e.__esModule?e:{default:e}}var l=o.default.create();function c(){return navigator.userAgent.match(new RegExp("IEMobile","i"))}l.name="util/env",l.init=function(){((e=(0,a.default)("html")).hasClass("touch")||c())&&(c()&&e.removeClass("no-touch").addClass("touch"),s.default.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px)")&&e.addClass("NPRtablet"),s.default.mq("only screen and (max-device-width: 767px)")&&e.addClass("NPRphone"));var e=(0,a.default)("html");"tablet"===i.default.getUrlParameter("device")&&e.addClass("NPRtablet"),"phone"===i.default.getUrlParameter("device")&&e.addClass("NPRphone")},l.register(),t.default={isMobileIE:c,isOnTablet:function(){return(0,a.default)("html").hasClass("NPRtablet")},isOnPhone:function(){return(0,a.default)("html").hasClass("NPRphone")},hasTouch:function(){return s.default.touch},isScreenSmallerOrEqual:function(e){return"object"===(void 0===e?"undefined":r(e))?s.default.mq("only screen and (max-width: "+e.MAX+"px)"):"number"==typeof e&&s.default.mq("only screen and (max-width: "+e+"px)")},isScreenSmaller:function(e){return"object"===(void 0===e?"undefined":r(e))?s.default.mq("only screen and (max-width: "+(e.MIN-1)+"px)"):"number"==typeof e&&s.default.mq("only screen and (max-width: "+(e-1)+"px)")},isScreenLargerOrEqual:function(e){return"object"===(void 0===e?"undefined":r(e))?s.default.mq("only screen and (min-width: "+e.MIN+"px)"):"number"==typeof e&&s.default.mq("only screen and (min-width: "+e+"px)")},isScreenWithin:function(e){return"object"===(void 0===e?"undefined":r(e))&&s.default.mq("only screen and (min-width: "+e.MIN+"px) and (max-width: "+e.MAX+"px)")},BREAKPOINT:{SMALL:{NAME:"small",MIN:0,MAX:767},MEDIUM:{NAME:"medium",MIN:768,MAX:1024},LARGE:{NAME:"large",MIN:1025,MAX:1299},LARGEST:{NAME:"largest",MIN:1350,MAX:1e4}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundHandlers=function(e,t){return(0,r.default)(e,t),(0,a.default)(e,t)};var r=o(n(91)),a=o(n(264));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function r(e){var t=null;("string"==typeof e&&(e=new Date(e)),e instanceof Date&&!isNaN(e))&&(t=e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0"));return t}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;if(e){if(!t){var r=new Date((new Date).getFullYear(),0,1);t=r.toLocaleString("default",{month:"long"})}n=new Date("1 "+t+" "+e),isNaN(n)&&(n=null)}return n}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;if(e){if(!t){var r=new Date((new Date).getFullYear(),11,31);t=r.toLocaleString("default",{month:"long"})}var a=new Date("1 "+t+" "+e);isNaN(a)||(n=new Date(a.getFullYear(),a.getMonth()+1,0))}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.secondsAsHMMSS=function(e){var t=parseInt(e,10);if(0===t)return"0:00";if(!t||t<0)return"";var n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),a=t-3600*n-60*r;r<10&&n>0&&(r="0"+r);a<10&&(a="0"+a);if(0===n)return r+":"+a;return n+":"+r+":"+a},t.secondsAsFormattedText=function(e){var t=e,n=Math.floor(t/3600);t%=3600;var r=Math.floor(t/60),a=Math.floor(t%60);if(n<1)return r>=1?r+"-Minute Listen":a+"-Second Listen";if(0===r)return n+"-Hour Listen";return n+"-Hour, "+r+"-Minute Listen"},t.secondsAsShorthandTime=function(e){var t=parseInt(e,10);if(!t||t<0)return"";var n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),a=t-3600*n-60*r,o="";n&&(o+=n+" hr",n>1&&(o+="s"));r&&(o&&(o+=" "),o+=r+" min");a&&!n&&(o&&(o+=" "),o+=a+" sec");return o},t.secondsAsHtmlDuration=function(e){var t=parseInt(e,10);if(!t||t<0)return"";var n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),a=t-3600*n-60*r,o=[];n&&o.push(n+"H");r&&o.push(r+"M");a&&o.push(a+"S");if(o.length)return"P"+o.join(",");return""},t.getCurrentYYYYMMDD=function(){var e=new Date;return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toISOString().slice(0,10).replace(/-/g,"")},t.convertTimeStringTo24Hours=function(e){var t=e.match(/([0-9]+):([0-9]+)\s[ap]m/i),n="";n=e.match(/pm$/i)?"12"===t[1]?"12":parseInt(t[1])+12:"12"===t[1]?"00":t[1];var r=t[2];return n+":"+r},t.formatAMPM=function(e){var t=e.getHours(),n=e.getMinutes(),r=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+r},t.isWeekend=function(){var e=new Date;if(6===e.getUTCDay()&&e.getUTCHours()>5||0===e.getUTCDay()||1===e.getUTCDay()&&e.getUTCHours()<11)return!0;return!1},t.getTimezone=function(){return(new Date).toString().match(/\(([^)]+)\)/)[1]},t.toRfc3339=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+(n=e.getTimezoneOffset(),0===n?"Z":(r=n>0?"-":"+",n=Math.abs(n),r+t(Math.floor(n/60))+":"+t(n%60)));var n,r},t.toYYYYMMDD=r,t.getFromDate=a,t.getToDate=o,t.getDateRange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,i=a(e,t),s=o(e,t),u=r(i),l=r(s);u&&l&&(n=u+"..."+l);return n},t.getCurrentYear=function(){return(new Date).getFullYear()},t.getCurrentMonthIndex=function(){return(new Date).getMonth()},t.getMonthName=function(e,t){return new Date(e,t).toLocaleString("default",{month:"long"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.constructAdSlotName=function(e,t){if(!e)return"";return"ad-"+e+"-"+(t||"")},t.getUidFromAdSlotName=function(e,t){return t.replace("ad-"+e+"-","")},t.getLocationFromAdSlotName=B,t.isHomepage=H,t.isStoryPage=function(){return(0,i.default)("body").hasClass("story-layout")},t.onInitialHeaderBiddingCompleted=function(e,t){L=e.detail&&e.detail.length?e.detail:[],k&&!M&&(l.default.info("DFP: activating ads from bid complete event "+J()),W())},t.displayAndActivateSlots=W,t.setupAdSlots=function(e){var t;(t=U).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e));var n=!0;googletag.cmd.push((function(){if(U.forEach((function(e){if([d.CENTERSTAGE,d.BACKSTAGE].includes(e.location)&&(n=!1),!e.deferred){var t=e.getAdSlotName();Object.prototype.hasOwnProperty.call(P,t)?(Object.assign(e,{slot:P[t]}),l.default.info("DFP: Slot "+t+" re-used from cache"),e.slot.clearTargeting()):e.createAdSlot();var r=e.slot.getSlotElementId(),a=Object.assign({},e.targets,j(e.canonicalLocation));Object.getOwnPropertyNames(a).forEach((function(t){e.slot.setTargeting(t,a[t])})),D[e.location]={slotElementId:r,site:e.site}}})),k=!0,m.isEnabled())if(L.length)l.default.info("DFP: activating ads (bid data available). "+J()),W();else{l.default.info("DFP: waiting for header bidding data "+J());var e=setTimeout((function(){W()}),2e3);w.push(e)}else l.default.info("DFP: Header Bidding is disabled"),W();!function(){if(0===U.length)return void l.default.info("DFP: No ads configured");var e=U.map((function(e){return e.location}));l.default.info("DFP: Active ad locations "+JSON.stringify(e))}(),n&&(0,i.default)(window).trigger(A)}))},t.onDfpPjaxModuleUnload=function(){googletag.cmd.push((function(){var e=[];U.forEach((function(t){var n=t.getAdSlotName();e.push(t.slot),t.deferred?(l.default.info("DFP: destroying slot "+t.location),googletag.destroySlots([t.slot])):P[n]=t.slot})),U=[],l.default.info("DFP: caching slots: \n"+Object.keys(P).join(",\n")),googletag.pubads().clear(e)})),w.forEach((function(e){clearTimeout(e)})),C.forEach((function(e){clearInterval(e)})),Object.keys(N).forEach((function(e){N[e].forEach((function(e){clearTimeout(e)}))})),N={},D={},b={},L=[],M=!1,k=!1,!1,Object.keys(R).forEach((function(e){l.default.info("DFP: unobserving slot '"+e+"'"),R[e].forEach((function(e){var t=document.querySelector("#elId");if(t){var n=t.querySelector("div");e.unobserve(n)}}))})),R={}},t.setupDeferredSlot=function(e){z(e.location,e)},t.onAdSlotMounted=z,t.getFormattedTime=J,t.geoedgeMessageEventCallback=function(e){if("880a45f2-0015-49d2-b38f-2d26be44ae09"===(0,u.default)(e,"data.key","")&&e.data&&Object.prototype.hasOwnProperty.call(e.data,"blocked"))if(!0===e.data.blocked){var t=B(e.data.el);if(b[t]=Object.hasOwnProperty.call(b,t)?b[t]+1:1,l.default.info("DFP: OpenWrapDebug: Blocked ad ID '"+e.data.el+"' "+b[t]+" time(s)"),b[t]<5){var n=U.flatMap((function(e){return e.location===t?e.slot:[]})),r=a(n,1)[0];N[r.getSlotElementId()]&&N[r.getSlotElementId()].length&&(l.default.info("DFP: Slot '"+r.getSlotElementId()+"' refresh timer cancelled"),N[r.getSlotElementId()].forEach((function(e){clearTimeout(e)})),N[r.getSlotElementId()]=[]),V(r)}}else l.default.info("DFP: OpenWrapDebug: Scanned ad ID '"+e.data.el+"'. GE data: "+JSON.stringify(e.data))};var i=h(n(8)),s=h(n(716)),u=h(n(5)),l=h(n(12)),c=h(n(44)),d=y(n(120)),p=y(n(68)),f=h(n(204)),_=h(n(41)),E=n(262),m=y(n(248)),g=n(205);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var v=void 0;v=n(143).default,window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var S=[5212620189,5255949102,98183312,4467080763],O=i.default.Event("centerStageAdNotRendered"),T=i.default.Event("centerStageAdRendered"),A=i.default.Event("centerStageIneligible"),I=!1,b={},P={},R={},D={},N={},w=[],C=[],L=[],M=!1,k=!1,U=[];function x(e,t){return void 0!==D[e]&&t===D[e].slotElementId}function F(e){if(document.hidden)var t=setInterval((function(){"visible"===document.visibilityState&&(i.default.isFunction(e)&&e(),clearInterval(t))}),500);else i.default.isFunction(e)&&e()}function G(e){return H()&&e.startsWith("overflow-")?e:void 0!==d.CANONICAL_LOCATION_NAMES_MAP[e]?d.CANONICAL_LOCATION_NAMES_MAP[e]:e}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={sc:c.default.getUrlParameter("sc"),ft:c.default.getUrlParameter("ft"),utm_source:c.default.getUrlParameter("utm_source"),utm_medium:c.default.getUrlParameter("utm_medium")},n={orient:""};if(""!==e&&(n.ad_location_name=G(e)),"string"==typeof t.sc&&t.sc.length>0?n.sc=t.sc:"string"==typeof document.referrer&&document.referrer.search("facebook.com")>-1?n.sc="fb":"string"==typeof t.ft&&(n.ft=t.ft),"string"==typeof t.utm_source&&t.utm_source.length>0&&(n.utm_source=t.utm_source),"string"==typeof t.utm_medium&&t.utm_medium.length>0&&(n.utm_medium=t.utm_medium),(v.isOnPhone()||v.isOnTablet())&&(0===window.orientation||180===window.orientation?n.orient="portrait":90!==window.orientation&&-90!==window.orientation||(n.orient="landscape")),NPR&&NPR.serverVars&&"1002"===NPR.serverVars.storyId&&window.optimizely&&e===d.STANDARD)if(window.optimizely){var r=window.optimizely.get("state").getExperimentStates();if("object"===(void 0===r?"undefined":o(r))&&Object.keys(r).length){var a=Object.keys(r)[0];!1===r[a].isInExperimentHoldback?(n.optimizelyExperimentId=a,n.optimizelyVariationId=r[a].variation.id,l.default.info("DFP: Optimizely experiment id: "+a+", variation id: "+r[a].variation.id+', variation name: "'+r[a].variation.name+'"')):l.default.info("DFP: Optimizely user is in holdback Location: '"+e+"'")}}else l.default.info("DFP: optimizely not loaded yet. Location '"+e+"'",JSON.stringify(window.optimizely));return n}function B(e){return/^ad-([a-zA-Z]+)-?/g.exec(e)[1]}function H(){return"1002"===NPR.serverVars.storyId}function W(){M||(M=!0,m.isEnabled()&&(window.apstag&&"function"==typeof window.apstag.setDisplayBids&&window.apstag.setDisplayBids(),L.length?window.PWT.addKeyValuePairsToGPTSlots(L):l.default.info("DFP: activating ads without openwrap bids. "+J())),U.forEach((function(e){e.deferred||(googletag.display(e.getAdSlotName()),l.default.info("DFP: display() ad slot '"+e.getAdSlotName()+"'"))})),F((function(){googletag.cmd.push((function(){var e=function(){var e=U.flatMap((function(e){return e.deferred?[]:e.slot}));I||(I=!0,googletag.pubads().addEventListener("slotRenderEnded",Q)),(0,E.canHaveEventListener)()&&window.addEventListener("message",g.playerMessageEventCallback,!1),l.default.info("DFP: calling refresh() on all ad slots. "+J()),googletag.pubads().refresh(e)};window.permutive&&window.permutive.readyWithTimeout?(l.default.info("DFP: waiting for permutive. "+J()),window.permutive.readyWithTimeout((function(){l.default.info("DFP: permutive is ready. "+J()),e()}),"realtime",500)):(l.default.info("DFP: Activating ads without permutive timeout"),e())}))})))}function V(e){var t=document.querySelector("#"+e.getSlotElementId()),n=!1,r=function(){if(!n){n=!0;var r=parseInt(t.getAttribute("data-refresh-count"))||0;r&&(e.clearTargeting("refreshCount"),e.setTargeting("refreshCount",""+r)),googletag.cmd.push((function(){l.default.info("DFP: Slot '"+e.getSlotElementId()+"' refresh()"),googletag.pubads().refresh([e])}))}};if(m.isEnabled()&&p.strictHasConsentedTo(p.TARGETING_AND_SPONSOR)){l.default.info("DFP: Slot '"+e.getSlotElementId()+"' prebidding"),m.requestBidsForSingleSlot(e,(function(){return r()}));var a=setTimeout((function(){r()}),2e3);w.push(a)}else l.default.info("DFP: Slot '"+e.getSlotElementId()+"' not header bidding"),r()}function Y(e){var t=U.flatMap((function(t){return t.getAdSlotName()===e.id?t.slot:[]})),n=a(t,1)[0];n?V(n):l.default.info("DFP: Slot '"+e.id+"' could not be located in rendered slots",U)}function q(e){if(H())var t=setTimeout((function(){clearTimeout(t);var n=document.querySelector("#"+e),r=n.querySelector("div");r&&(250===r.clientHeight?n.classList.add("forced-250"):n.classList.remove("forced-250"))}),500)}function Q(e){var t=document.querySelector("#"+e.slot.getSlotElementId()),n=JSON.parse(t.dataset.adConfig||"{}");if(function(e,t){var n=(e.slot.getResponseInformation()||!1).isBackfill,r=t.location,a=t.hasRefreshEnabled;return e.isEmpty?r!==d.BACKSTAGE&&a:(n||S.includes(e.advertiserId))&&a}(e,n)){!function(e,t){var n=e.slot.getSlotElementId();l.default.info("DFP: Slot '"+n+"' will refresh again in 60s. "+J());var r=window.setTimeout((function(){F((function(){var r=document.querySelector("#"+n).querySelector("div"),a=n;(r&&(a=r.id),function(e){var t=document.getElementById(e).getBoundingClientRect();if(t.top<0){var n=(t.height+t.top)/t.height;return parseInt((100*n).toFixed())>=65}var r=window.innerHeight||document.documentElement.clientHeight;if(t.bottom>r&&t.top<r){var a=(t.height-(t.bottom-r))/t.height;return parseInt((100*a).toFixed())>=65}return t.top>=0&&(t.bottom<=r||t.top<r)}(a)||t===d.STANDARD)?V(e.slot):(l.default.info("DFP: Slot '"+n+"' will refresh when in view"),document.querySelector("#"+n).setAttribute("data-is-awaiting-refresh","true"))}))}),6e4);(N[n]=N[n]||[]).push(r)}(e,n.location);var r=parseInt(t.getAttribute("data-refresh-count"))||0;t.setAttribute("data-refresh-count",""+(r+1))}n.hasRefreshEnabled&&n.location!==d.STANDARD&&function(e){var t=e.querySelector("div"),n=new IntersectionObserver((function(t){a(t,1)[0].isIntersecting&&(l.default.info("DFP: Slot '"+e.id+"' is now in view. "+J()),"true"===e.dataset.isAwaitingRefresh&&(e.setAttribute("data-is-awaiting-refresh","false"),Y(e)))}),{root:null,rootMargin:"0px",threshold:.65});n.observe(t),(R[e.id]=R[e.id]||[]).push(n)}(t);var o=e.slot.getSlotElementId();x(d.CENTERSTAGE,o)?function(e,t){var n=(0,_.default)().getState(),r=((0,u.default)(n,"user.org.id",!1),document.querySelector("#ad-centerstage-wrap"));e.isEmpty?(r.classList.add("hidden"),l.default.info("DFP: No Centerstage ad returned"),(0,i.default)(window).trigger(O)):(r.classList.add("visible"),r.classList.remove("hidden"),l.default.info("DFP: Centerstage ad returned"),(0,i.default)(window).trigger(T))}(e,d.CENTERSTAGE):x(d.BACKSTAGE,o)?function(e,t){var n=document.querySelector("#ad-backstage-wrap");if(e.isEmpty){if(n.classList.add("hidden"),(0,i.default)((0,i.default)(".ad-"+t).get(0)).data("ad-config").isBetweenContent){var r=(0,i.default)((0,i.default)("#ad-"+t+"-wrap").get(0)),a=document.createElement("div");a.setAttribute("id","callout-center-stage-mount"),r[0].appendChild(a),(0,i.default)(window).trigger(O)}else(0,i.default)(window).trigger(A)}else n.classList.add("visible"),n.classList.remove("hidden"),(0,i.default)(window).trigger(T)}(e,d.BACKSTAGE):x(d.MAINSTAGE,o)?function(e){var t=document.querySelector("#ad-mainstage-wrap");e.isEmpty?t.classList.add("hidden"):(t.classList.add("visible"),t.classList.remove("hidden"))}(e):x(d.STANDARD,o)?function(e,t){e.isEmpty?document.querySelector("#ad-"+t+"-wrap").classList.add("hidden"):(document.querySelector("#ad-"+t+"-wrap").classList.remove("hidden"),(0,s.default)(e.size,[300,600])&&(0,E.makeAdScrollable)(d.STANDARD))}(e,d.STANDARD):x(d.SECONDARY,o)?function(e,t){var n=document.querySelector("#ad-secondary-wrap");e.isEmpty?n.classList.add("hidden"):(n.classList.add("visible"),n.classList.remove("hidden"),q(e.slot.getSlotElementId()),(0,i.default)(window).trigger(T))}(e,d.SECONDARY):x(d.PODCASTS_SHOWS_DIRECTORY_ONE,o)?K(e,d.PODCASTS_SHOWS_DIRECTORY_ONE):x(d.PODCASTS_SHOWS_DIRECTORY_TWO,o)?K(e,d.PODCASTS_SHOWS_DIRECTORY_TWO):x(d.THIRD,o)?function(e,t){var n=document.querySelector("#ad-third-wrap");e.isEmpty?n.classList.add("hidden"):(n.classList.add("visible"),n.classList.remove("hidden"),q(e.slot.getSlotElementId()))}(e,d.THIRD):o.startsWith("ad-overflow")?function(e,t){var n=document.querySelector("#"+t).closest("aside.ad-wrap");e.isEmpty?n.classList.add("hidden"):(n.classList.add("visible"),n.classList.remove("hidden"),q(e.slot.getSlotElementId()))}(e,o):x(d.END_OF_STORY,o)&&function(e,t){var n=document.querySelector("#ad-"+t+"-wrap");e.isEmpty?n.classList.add("hidden"):(n.classList.add("visible"),n.classList.remove("hidden"))}(e,d.END_OF_STORY)}function K(e,t){var n=document.querySelector("#ad-"+t+"-wrap");e.isEmpty?n.classList.add("hidden"):(n.classList.add("visible"),n.classList.remove("hidden"),(0,i.default)(window).trigger(T))}function z(e,t){l.default.info("DFP: onAdSlotMounted "+e);var n=void 0;n=t?r({},t):r({},NPR.serverVars.sponsorship.baseAdConfig,NPR.serverVars.sponsorship[e],{location:e});var o="ad-"+e+"-"+n.zone;if(!function(e){if(window.googletag&&window.googletag.apiReady){for(var t=window.googletag.pubads().getSlots(),n=0;n<t.length;n++)if(t[0].getSlotElementId()===e)return l.default.info("DFP: found an existing slot with id '"+e+"'"),!0}else l.default.info("DFP: no googletag or googletag.apiReady");return!1}(o))if(document.querySelector("#"+o)){var i=new f.default(n);i.shouldRender()&&(U.push(i),googletag.cmd.push((function(){i.createAdSlot(),i.targets=r({},i.targets,j(e)),Object.keys(i.targets).forEach((function(e){i.slot.setTargeting(e,i.targets[e])})),D[e]={slotElementId:i.slot.getSlotElementId(),site:i.site},l.default.info("DFP: display() ad slot "+o),googletag.display(i.getAdSlotName());var t=document.querySelector("#"+i.slot.getSlotElementId());t.setAttribute("data-is-awaiting-first-fetch","true"),function(e,t){var n=e.querySelector("div"),r=new IntersectionObserver((function(n){a(n,1)[0].isIntersecting&&(l.default.info("DFP: Slot '"+e.id+"' is within "+t+" of the viewport"),"true"===e.dataset.isAwaitingFirstFetch&&(e.setAttribute("data-is-awaiting-first-fetch","false"),Y(e)))}),{root:null,rootMargin:t+" 0px",threshold:0});r.observe(n),(R[e.id]=R[e.id]||[]).push(r)}(t,"35%")})))}else l.default.info("DFP: slot id '"+o+"' not yet in the DOM")}function J(){return(new Date).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TYPE_FOR_METRICS="panes",t.STREAMING="STREAMING",t.ON_DEMAND="ON_DEMAND",t.NEWSCAST="NEWSCAST",t.SUBPANE_NPR_ONE_MIX="SUBPANE_NPR_ONE_MIX",t.SUBPANE_PLAYLIST="SUBPANE_PLAYLIST",t.SUBPANE_HISTORY="SUBPANE_HISTORY",t.SUBPANE_NONE="SUBPANE_NONE",t.IGNORE_METRIC="IGNORE_METRIC"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStickyBarPlusInfo=t.getStickybarUsePageNewsletter=t.getStickybarMaxSees=t.getStickybarGenericInfo=t.getStickybarNewsletterInfo=t.getStickybarDonationInfo=t.getStickybarEmbeddedDonationInfo=t.isOnStickybarPage=t.isWithinAnyStickybarPeriod=t.STICKY_DONATION=t.STICKY_EMBEDDED_DONATION=void 0;var r,a=n(5),o=(r=a)&&r.__esModule?r:{default:r},i=(n(55),n(15)),s=n(122);var u={},l=t.STICKY_EMBEDDED_DONATION={},c=t.STICKY_DONATION={},d={},p={};t.isWithinAnyStickybarPeriod=function(){for(var e in u)if((0,s.isWithinThisGlobalAlertPeriod)(u[e]))return!0;for(var t in l)if((0,s.isWithinThisGlobalAlertPeriod)(l[t]))return!0;for(var n in c)if((0,s.isWithinThisGlobalAlertPeriod)(c[n]))return!0;for(var r in d)if((0,s.isWithinThisGlobalAlertPeriod)(d[r]))return!0;for(var a in p)if((0,s.isWithinThisGlobalAlertPeriod)(p[a]))return!0;return!1},t.isOnStickybarPage=function(e,t){var n=!1;for(var r in t.aggLandingPages&&t.aggLandingPages.indexOf(NPR.serverVars.title)>-1&&(n=!0),t.programId&&t.programId.indexOf(NPR.serverVars.programId)>-1&&(n=!0),t.hasPrimaryTopic&&t.hasPrimaryTopic.indexOf(NPR.serverVars.primaryTopic)>-1&&(n=!0),NPR.serverVars.aggIds)t.isAssignedToAggregation&&t.isAssignedToAggregation.indexOf(NPR.serverVars.aggIds[r])>-1&&(n=!0);if(t.displayEverywhere&&!0===t.displayEverywhere)return!0;if(t.isSpikingStory){if(!(0,i.getIsCurrentPageSpiking)(e))return!1;n=!0}if(n&&t.isLocalizedToStation&&t.isLocalizedToStation.length>0){var a=!1,s=(0,o.default)(e,"user.org.id"),u=(0,o.default)(e,"localStations.stations"),l=[];if(s&&0!=s?l.push(s):u&&u.length>0&&(l=u),l.length>0)for(var c in l)t.isLocalizedToStation.indexOf(l[c])>-1&&(a=!0);if(!a)return!1}return n},t.getStickybarEmbeddedDonationInfo=function(){return l},t.getStickybarDonationInfo=function(){return c},t.getStickybarNewsletterInfo=function(){return u},t.getStickybarGenericInfo=function(){return d},t.getStickybarMaxSees=function(){return 3},t.getStickybarUsePageNewsletter=function(){return"STICKYBAR_USE_PAGE_NEWSLETTER"},t.getStickyBarPlusInfo=function(){return p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.sendGTMEvent=function(e,t){if(e!=l.GTM_FIRST_VIEW)e===l.SET_NPR_DONATION_OPTION||f?_(e,t):p.push([e,t]);else{_(e,t),f=!0;for(var n=[],a=0,o=0;o<dataLayer.length;o++)dataLayer[o].event===l.EXPERIENCE_IMPRESSION&&(n[a]={},n[a].exp_variant_string=dataLayer[o].exp_variant_string,n[a].Holdback=dataLayer[o].Holdback,a++);for(o=0;o<n.length;o++)_(l.EXPERIENCE_IMPRESSION,n[o]);for(o=0;o<p.length;o++){var i=r(p[o],2),s=i[0],u=i[1];_(s,u)}}},t.createPageViewVars=function(e){return{sections:(n="/"!==window.location.pathname?o.default.getSections():null,n||""),authors:(t="/"!==window.location.pathname?o.default.getAuthors():null,t||""),domain:(0,s.default)(window,"NPR.ServerConstants.cbHost",""),mobileApp:E(),parents:e.parents,dacs_story:e.dacs_story,page_type:e.page_type,localized_station:e.localized_station,topics:e.topics,story_id:e.story_id,byline:e.byline,publish_date:e.publish_date,title:e.title,content_partner_organization:e.content_partner_organization,program:e.program,logged_in_session:e.logged_in_session,player_state:e.player_state,screen_type:e.screen_type,screen_orientation:e.screen_orientation,homepage_card_design:e.homepage_card_design,category:e.category,user_timezone:e.user_timezone,environment:(0,s.default)(window,"NPR.ServerConstants.environment"),user_id:e.user_id};var t;var n},t.createAudioVars=function(e){return{story_id:e.story_id,title:e.title,content_partner_organization:e.content_partner_organization,program:e.program,media_id:e.media_id,duration:e.duration,current_time:e.current_time,audio_play_location:e.audio_play_location,audio_trigger_location:e.audio_trigger_location,audio_listen_time:e.audio_listen_time,audio_type:e.audio_type,audio_is_npr_plus:e.audio_is_npr_plus,percent:e.percent_complete,click_url:e.click_url,click_type:e.click_type,volume_position:e.volume_position,audio_autoplay_status:e.audio_autoplay_status,audio_queue_status:e.audio_queue_status,error_message:e.error_message,sponsorship_audio_player_type:e.sponsorship_audio_player_type,category:e.category}},t.createPlayerVars=function(e){return{player_location:e.player_location,click_type:e.click_type,click_url:e.click_url,media_id:e.media_id,title:e.title,category:e.category}},t.createProfileVars=function(e){return{player_location:e.player_location,click_type:e.click_type,click_url:e.click_url,title:e.title,category:e.category}},t.createTestingVars=function(e){return{variation_id:e.variation_id,experement_id:e.experement_id,click_name:e.click_name,click_type:e.click_type,click_url:e.click_url,click_position:e.click_position,category:e.category}},t.createNewsletterVars=function(e){return{click_type:e.click_type,click_name:e.click_name,click_url:e.click_url,error_type:e.error_type,category:e.category}},t.createNPRPlusVars=function(e){return{click_type:e.click_type,click_name:e.click_name,click_url:e.click_url,category:e.category}},t.createDonationVars=function(e){var t;return d(t={creative_slot:e.creative_slot,donation_station_type:e.donation_station_type,form_type:e.form_type,value:e.value,currency:e.currency},"creative_slot",e.creative_slot),d(t,"items",e.items?[{item_name:e.items.item_name,affiliation:e.items.affiliation,creative_slot:e.items.creative_slot,item_category:e.items.item_category,price:e.items.price,quantity:e.items.quantity}]:void 0),d(t,"click_name",e.click_name),d(t,"search_term",e.search_term),d(t,"search_type",e.search_type),d(t,"search_results",e.search_results),d(t,"payment_type",e.payment_type),d(t,"error_message",e.error_message),d(t,"transaction_id",e.transaction_id),d(t,"category",e.category),t},t.createRecirculationVars=function(e){return{click_name:e.click_name,click_type:e.click_type,click_url:e.click_url,click_position:e.click_position,click_options_available:e.click_options_available,category:e.category,logged_in_session:e.logged_in_session}},t.createVideoVars=function(e){return{duration:e.duration,media_id:e.media_id,provider:e.provider,current_time:e.current_time,seek_amount:e.seek_amount,volume_position:e.volume_position,video_pixel_quality:e.video_pixel_quality,percent:e.percent,title:e.title,category:e.category,video_slot:e.video_slot}},t.createMiscVars=function(e){var t={click_type:e.click_type,click_url:e.click_url,click_name:e.click_name,search_term:e.search_term,search_type:e.search_type,search_results:e.search_results,category:e.category};e.localized_station&&(t.localized_station=e.localized_station);return t},t.setIsMobileNativeApp=E;var a=c(n(267)),o=c(n(692)),i=c(n(21)),s=c(n(5)),u=c(n(268)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(38));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=[],f=!1;function _(e,t){e&&""!==e&&Object.keys(t).length>0&&function(e,t){t.event=e,dataLayer.push(t)}(e,t=(0,a.default)(t,(function(e,t){return"media_id"===t||"OnetrustActiveGroups"===t||"exp_variant_string"===t?e:(0,u.default)(e)?e.toLowerCase():e})))}function E(){var e=i.default.getSessionInfo();return i.default.isMobileNativeApp(e.renderPlatform)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendationsResponseModel=t.putChannelToPlaylistInListeningService=t.postPlaylistUidsToListeningService=t.postRatingsToListeningService=t.fetchNewscastForOrg=t.getPlaylistUidsRecommendationsResponseFromListeningService=t.getPlaylistRecommendationsResponseFromListeningService=t.getAudioMetadataRecommendationsResponseObjectByUrl=t.getAudioMetadataRecommendationItemsByUrl=t.getRecommendationsByExplicitMediaIdWithBinge=t.getRecommendationsByExplicitMediaId=t.getAudioMetadataItemsForAgg=t.getHistoryItems=t.getNewscastChannelAudioItems=t.getCleChannelAudioItems=t.getNprChannelAudioItems=t.getChannelAudioItems=t.getAudioMetadataByUid=t.IN_PLAYLIST_PLAY_MODE=t.IN_FLOW_PLAY_MODE=t.ON_DEMAND_PLAY_MODE=t.bingeFlowPrefix=t.channelFlowPrefix=t.ordinaryFlowPrefix=t.playlistFlowPrefix=t.tapthruRating=t.completedRating=t.passRating=t.bypassRating=t.skipRating=t.audioType=t.LISTENING_DEFAULT_PLAYLIST_UID=void 0;t.getAudioMetadataByUid=(r=B(regeneratorRuntime.mark((function e(t){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ae(t),e.next=3,O(n,a);case 3:if(!Ee(r=e.sent)){e.next=9;break}return e.abrupt("return",me(r));case 9:throw new Error("UID "+t+" not found in Listening Service response");case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),t.getChannelAudioItems=(a=B(regeneratorRuntime.mark((function e(t){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ue(t),e.next=3,O(n,a);case 3:return r=e.sent,e.abrupt("return",r.items||[]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)}),t.getNprChannelAudioItems=(o=B(regeneratorRuntime.mark((function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se(),e.next=3,O(t,r);case 3:return n=e.sent,e.abrupt("return",n.items||[]);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),t.getCleChannelAudioItems=(i=B(regeneratorRuntime.mark((function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ue(Y),e.next=3,O(t,r);case 3:return n=e.sent,e.abrupt("return",n.items||[]);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),t.getNewscastChannelAudioItems=(s=B(regeneratorRuntime.mark((function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ue(q),e.next=3,O(t,r);case 3:return n=e.sent,e.abrupt("return",n.items||[]);case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)}),t.getHistoryItems=(u=B(regeneratorRuntime.mark((function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=le(),e.next=3,O(t,r);case 3:return n=e.sent,e.abrupt("return",n.items||[]);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)}),t.getAudioMetadataItemsForAgg=(l=B(regeneratorRuntime.mark((function e(t){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe(t),e.next=3,O(n,a);case 3:return r=e.sent,e.abrupt("return",r.items||[]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)}),t.getRecommendationsByExplicitMediaId=(c=B(regeneratorRuntime.mark((function e(t){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oe(t,o),e.next=3,O(n,a);case 3:return r=e.sent,e.abrupt("return",r.items||[]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)}),t.getRecommendationsByExplicitMediaIdWithBinge=(d=B(regeneratorRuntime.mark((function e(t){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",n=a?ie(t,a):oe(t),e.next=4,O(n,o);case 4:return r=e.sent,e.abrupt("return",r.items||[]);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)}),t.getAudioMetadataRecommendationItemsByUrl=(p=B(regeneratorRuntime.mark((function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t,r);case 2:return n=e.sent,e.abrupt("return",n.items||[]);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)}),t.getAudioMetadataRecommendationsResponseObjectByUrl=(f=B(regeneratorRuntime.mark((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)}),t.getPlaylistRecommendationsResponseFromListeningService=(_=B(regeneratorRuntime.mark((function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pe(t,r),e.abrupt("return",O(n,a));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)}),t.getPlaylistUidsRecommendationsResponseFromListeningService=(E=B(regeneratorRuntime.mark((function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=de(t),e.abrupt("return",O(n,r));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)}),t.fetchNewscastForOrg=(m=B(regeneratorRuntime.mark((function e(t){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,b.bindParams)(H,(new Map).set("orgId",t)),r={},a&&(r.headers={Authorization:"Bearer "+a}),e.abrupt("return",(0,D.default)(re,n,r).then((function(e){if(e.ok||e.status&&(!e.status||401==e.status)){if(e.status&&401==e.status)throw new M.default("response not OK when getting newscast metdata for orgId "+t);return e.json()}throw new Error("response not OK when getting newscast metdata for orgId "+t)})).then((function(e){var n=(0,I.default)(e,"items[0].links.audio",null);if(n){var r=ve(n,"audio/aac"),a=ve(n,"audio/mp3"),o=he(e),i=o?Se(o[0]):"",s=o?parseInt((0,I.default)(o[0],"attributes.duration",null),10):0;if(r||a)return{title:i,duration:isNaN(s)?300:s,audioUrl:r||a,uid:(0,N.getNewscastUidForOrg)(t),type:P.SEGMENT,subtype:P.SEGMENT_NEWSCAST,storyUrl:_e(t),orgId:t};throw new k.default(V)}throw new k.default(W)})));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)});var r,a,o,i,s,u,l,c,d,p,f,_,E,m,g,y,h,v,S,O=(g=B(regeneratorRuntime.mark((function e(t){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a&&(n.headers={Authorization:"Bearer "+a}),e.next=4,(0,D.default)(re,t,n);case 4:return r=e.sent,e.abrupt("return",T(r,t));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)}),T=(t.postRatingsToListeningService=(y=B(regeneratorRuntime.mark((function e(t){var n,r,a,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("url cannot be empty");case 2:if(s){e.next=4;break}throw new Error("accessToken cannot be empty");case 4:return n=t,r=Q,u||(n.includes("?")?n+="&recommend=false":n+="?recommend=false"),r.includes("?")?r+="&url="+encodeURIComponent(n):r+="?url="+encodeURIComponent(n),a={method:"POST",body:JSON.stringify(i)},s&&(a.headers={Authorization:"Bearer "+s}),e.next=12,(0,D.default)(re,r,a);case 12:return o=e.sent,e.abrupt("return",T(o,r));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)}),t.postPlaylistUidsToListeningService=(h=B(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=de(n),o={method:"POST",headers:{"Content-Type":"application/json","If-Match":r},body:JSON.stringify(t)},s&&(o.headers.Authorization="Bearer "+s),e.next=5,(0,D.default)(re,a,o);case 5:return i=e.sent,e.abrupt("return",T(i,a));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return h.apply(this,arguments)}),t.putChannelToPlaylistInListeningService=(v=B(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce(t,n),o={method:"PUT",headers:{"Content-Type":"application/json","If-Match":r}},s&&(o.headers.Authorization="Bearer "+s),e.next=5,(0,D.default)(re,a,o);case 5:return i=e.sent,e.abrupt("return",T(i,a));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return v.apply(this,arguments)}),S=B(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok||t.status&&(!t.status||401==t.status||412==t.status||413==t.status||403==t.status)){e.next=4;break}throw new Error("response not OK with url: "+n);case 4:if(!t.status||401!=t.status){e.next=8;break}throw new M.default("unauthorized with url: "+n);case 8:if(!t.status||412!=t.status){e.next=12;break}throw new U.default("eTag failure with url: "+n);case 12:if(!t.status||403!=t.status){e.next=16;break}throw new x.default("eTag not present in response from url: "+n);case 16:if(!t.status||413!=t.status){e.next=20;break}throw new F.default("payload is too large to url: "+n);case 20:return r=null,t.headers&&(r=t.headers.get("ETag")),e.next=24,t.json();case 24:return a=e.sent,o=ge(a),i=ye(a),(s=he(a))&&(s=s.map(Oe)),e.abrupt("return",new Ae(s,i,o,r));case 30:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)});t.isMediaUid=function(e){return e.match(/^[a-zA-Z0-9-]+:[a-zA-Z0-9-]+$/)},t.filterUnsupportedContentRecommendations=function(e){return e.filter((function(e){return e.rawType&&[X,ne,te,J,Z,$,ee,z].includes(e.rawType)}))},t.filterNonSegmentContentRecommendations=function(e){return e.filter((function(e){return e.type&&[te].includes(e.type)}))};var A=j(n(264)),I=j(n(5)),b=n(643),P=G(n(24)),R=j(n(111)),D=(n(111),j(n(42))),N=n(110),w=n(39),C=n(145),L=G(n(56)),M=j(n(209)),k=j(n(373)),U=j(n(374)),x=j(n(375)),F=j(n(376));function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}function B(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var H=(0,w.getWebHost)()+"/proxy/listening/v2/newscast/{orgId}/recommendations",W="Newscast returned no valid audio links",V="Newscast does not have available MP3 or MP4 URLs",Y="cleplayer",q="newscasts",Q=(0,w.getWebHost)()+"/proxy/listening/v2/ratings",K=t.LISTENING_DEFAULT_PLAYLIST_UID="default",z="stationId",J=t.audioType="audio",X="sponsorship",Z="featureCardInformational",$="featureCardExternalLink",ee="featureCardPromotion",te="segment",ne="placeholder",re=(t.skipRating="SKIP",t.bypassRating="BYPASS",t.passRating="PASS",t.completedRating="COMPLETED",t.tapthruRating="TAPTHRU",t.playlistFlowPrefix="user-playlist-",t.ordinaryFlowPrefix="default-flow-",t.channelFlowPrefix="flow-",t.bingeFlowPrefix="binge-",t.ON_DEMAND_PLAY_MODE="ON_DEMAND_PLAY_MODE",t.IN_FLOW_PLAY_MODE="IN_FLOW_PLAY_MODE",t.IN_PLAYLIST_PLAY_MODE="IN_PLAYLIST_PLAY_MODE",2e4);function ae(e){return NPR.ServerConstants.webHost+"/proxy/listening/v2/media/recommendations/?id="+e}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?NPR.ServerConstants.webHost+"/proxy/listening/v2/recommendations/?id="+e+"&origin="+t:NPR.ServerConstants.webHost+"/proxy/listening/v2/recommendations/?id="+e}function ie(e,t){return NPR.ServerConstants.webHost+"/proxy/listening/v2/recommendations/?bingeAggId="+t+"&id="+e}function se(){return NPR.ServerConstants.webHost+"/proxy/listening/v2/recommendations"}function ue(e){return NPR.ServerConstants.webHost+"/proxy/listening/v2/recommendations?channel="+e}function le(){return NPR.ServerConstants.webHost+"/proxy/listening/v2/history"}function ce(e,t){return NPR.ServerConstants.webHost+"/proxy/listening/v2/playlists/"+e+"/uids?channel="+t}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=K;return e&&(t=e),NPR.ServerConstants.webHost+"/proxy/listening/v2/playlists/"+t+"/uids"}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=K;return e&&(n=e),NPR.ServerConstants.webHost+"/proxy/listening/v2/playlists/"+n+"/recommendations?position="+t}function fe(e){return NPR.ServerConstants.webHost+"/proxy/listening/v2/aggregation/"+e+"/recommendations"}function _e(e){return e===L.NPR?(0,w.getWebHost)()+"/podcasts/500005/hourly-news-summary/":""}function Ee(e){return!!(0,I.default)(e,"items[0].uid",null)}function me(e){return(0,I.default)(e,"items[0]",null)}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,I.default)(e,"attributes.id",null)}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,I.default)(e,"attributes.uids",null)}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,I.default)(e,"items",null)}var ve=function(e,t){var n=e.find((function(e){return e["content-type"]===t}));return n?n.href:""},Se=function(e){var t=(0,I.default)(e,"attributes.provider",null),n=(0,I.default)(e,"attributes.date",null),r=null;if(n){var a=new Date(n);r=isNaN(a.getHours())?"":(0,C.formatAMPM)(a)}return r?t+" Newscast : "+r:t+" Newscast"};function Oe(e){var t=e.attributes,n=t.uid,r=t.title,a=t.duration,o=R.default.getAudioUrl(e),i=R.default.getStoryUrl(e),s=R.default.getOrganizationName(e),u=R.default.getSlug(e),l=R.default.getProgram(e),c=R.default.getDate(e),d=(0,A.default)(e.attributes,["song","artist","album","track"]),p=R.default.getExpires(e),f=R.default.getAvailability(o,e),_=R.default.getRating(e),E=R.default.getListeningRelation(e),m=R.default.getActionUrl(e),g=R.default.getNextRecommendationsPostUrl(e),y=R.default.getAudioType(e),h=R.default.getWideImage(e),v=R.default.getSquareImage(e),S=R.default.getGenericFallbackImage(),O=R.default.getWideImageCaption(e),T=R.default.getSquareImageCaption(e),I=R.default.getProvider(e),b=R.default.getTranscriptUrl(e),P=R.default.getChannel(e),D=R.default.getIsReplayable(e),N=R.default.getButtonText(e),w=R.default.isPlusAudio(e);return Object.assign({},{uid:n,type:Te(y),rawType:y,title:r,duration:parseInt(a,10),audioUrl:o,slug:u,program:l,date:c,storyUrl:i,affiliation:s,listeningRelation:E,rating:_,actionLink:m,postRecommendationsLink:g,wideImage:h,squareImage:v,genericFallbackImage:S,wideImageCaption:O,squareImageCaption:T,provider:I,transcriptUrl:b,buttonText:N,flowChannel:P,isReplayable:D,isPlusAudio:w},d,p,f)}function Te(e){return e==X||e==ne?P.SPONSORSHIP:P.SEGMENT}var Ae=t.RecommendationsResponseModel=function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=t,this.uids=n,this.id=r,this.etag=a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HOME_PAGE_NEWS="HOME_PAGE_NEWS",t.HOME_PAGE_MUSIC="HOME_PAGE_MUSIC",t.UNKNOWN="UNKNOWN",t.PODCAST="PODCAST"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROMO_ONLY_AUDIO_LIST=t.INTRO_AUDIO_UID=t.STREAM_24_HOUR_PROGRAM_METADATA=t.STREAM_24_HOUR_PROGRAM_UID=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(24));var a=t.STREAM_24_HOUR_PROGRAM_UID="339db355f53d44638514fd6903bebaef",o=(t.STREAM_24_HOUR_PROGRAM_METADATA={orgId:1,title:"NPR 24 Hour Program Stream",primary:!1,audioUrl:"https://npr-ice.streamguys1.com/live.mp3",guid:a,uid:a,type:r.STREAM,subtype:r.STREAM_STATION},t.INTRO_AUDIO_UID="721118801:721123415");t.PROMO_ONLY_AUDIO_LIST=[o]},,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r,a,o=s(n(143)),i=s(n(44));function s(e){return e&&e.__esModule?e:{default:e}}r=[n(8),n(20)],void 0===(a=function(e,t){var n=t.create();n.name="agg/archive";var r=".archive-nav .more";function a(){var e=i.default.getUrlParameter("date");return e?new Date(e).getFullYear():(new Date).getFullYear()}function s(t){t.preventDefault();var n=e(this);n.parent().find(".months").slideDown(),n.addClass("expanded")}function u(t){t.preventDefault();var n=e(this);e(".archive-nav .year").slideDown(),n.fadeOut()}function l(){!function(){var t=e(".contentheader");if(!0===o.default.isScreenSmallerOrEqual(o.default.BREAKPOINT.SMALL)&&0===t.find(".drawer-archive").length){var n=e(".archive-nav").detach();e(".contentheader").prepend(n),e(".contentheader .archive-nav").wrap('<div class="drawer drawer-archive"></div>'),e(".contentheader .drawer-archive").before('<button class="toggle-archive-nav" data-metrics=\'{"category": "Program Archive Navigation", "action": "Toggle Archive Calendar"}\'>Select month</button>')}else o.default.isScreenLargerOrEqual(o.default.BREAKPOINT.MEDIUM)&&t.find(".drawer-archive").length>0&&(e("#episodelist").length>0?e(".archive-nav").insertAfter("#episodelist"):e(".archive-nav").insertAfter(".archivelist"),e(".drawer-archive, .toggle-archive-nav").remove())}(),!0===o.default.isScreenSmallerOrEqual(o.default.BREAKPOINT.SMALL)&&e(".drawer-archive").height(e(window).height()-e(".contentheader").height())}function c(t){t.preventDefault(),e(this).toggleClass("is-active"),e(".drawer-archive").slideToggle()}n.onReady=function(){var t,n,o;e(r).on("click",u),e(".archive-nav .expand-year").on("click",s),t=a(),n=e(".archive-nav .year"),o=!0,n.each((function(n,r){var a=e(r);a.hasClass("year-"+t)&&n<5&&(o=!1),(n<5||o)&&a.show()})),o?e(r).hide():e(r).show(),function(){var t=a();e(".expand-year-"+t).click()}(),e(".contentheader").on("click",".toggle-archive-nav",c),l(),e(window).on("resize",l)},n.onUnload=function(){e(r).off("click",u),e(r).off("click",s),e(".contentheader").off("click",".toggle-archive-nav",c),e(window).off("resize",l)},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1));a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return r.default.createElement("div",{"data-testid":"no-op"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageViewCustomDimensions=function(e){var t={},n="undefined"!==e.pageTypeId?e.pageTypeId:"",o=parseInt(n,10);t.dacs_story=(!!document.querySelector(".is-DACS-only")).toString(),t.page_type=e.pageTypeId,t.localized_station=e.localizedStationId,t.topics=e.topicIds,t.program=e.programId,t.parents=e.aggIds,t.screen_type="ontouchstart"in document.documentElement?"Touch":"Traditional",t.screen_orientation=90===window.orientation||-90===window.orientation?"landscape":"portrait",t.category="page_view",t.user_timezone=(0,r.getTimezone)(),(0,l.setIsMobileNativeApp)()&&(t.isMobileNativeApp=!0);(0,c.default)(".has-expanded-engaged-player").length>0?t.player_state="active":t.player_state="not active - collapsed";[a.default.WEB_FEATURES,a.default.PODCAST_EPISODE].includes(o)&&(t.story_id=e.storyId,t.byline=e.byline,t.publish_date=e.pubDate,t.title=e.storyTitle,t.content_partner_organization=e.contentPartnerOrg);e.homePageMetrics&&(t.homepage_card_design=e.homePageMetrics);return t.logged_in_session=e.isLoggedIn,t.user_id=e.userId,t},t.getAudioCustomDimensions=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l={},c=void 0;n&&(c=n.uid);var d=void 0,p=void 0,f="",_="";a?(f=i.getPlayedFrom(n,a),_=i.getPlayedFrom(n,r)):r&&(f=i.getPlayedFrom(n,r),_=i.getPlayedFrom(n,r));if(n.type==o.SPONSORSHIP){l.category="player sponsorship",n.subtype===o.SOUNDSCAPES&&c&&(l.title=c);var E=i.getLabel(n);E&&(l.sponsorship_audio_player_type=E)}else{switch(l.category="audio",n.subtype){case o.SEGMENT_NEWSCAST:d=i.getNewscastLabel(n.title);break;default:c?(d=(0,s.getStoryIdFromUid)(c),p=(0,s.getMediaIdFromUid)(c)):n.mediaId&&(p=n.mediaId,d=n.storyId)}l.title=n.title,l.story_id=d,l.media_id=p}n.duration&&(l.duration=String(Math.round(n.duration)));n.program&&(l.program=n.program);f&&(l.audio_play_location=f);_&&(l.audio_trigger_location=_);void 0!==r.lastPingInterval&&null!==r.lastPingInterval&&void 0!==r.currentPingTime&&null!==r.currentPingTime&&(l.audio_listen_time=Math.floor(r.currentPingTime-r.lastPingInterval));r.percentComplete&&(l.percent_complete=r.percentComplete);r.audioAutoplayStatus&&(l.audio_autoplay_status=r.audioAutoplayStatus);r.audioQueueStatus&&(l.audio_queue_status=r.audioQueueStatus);r.volumePosition&&(l.volume_position=String(r.volumePosition)+"%");r.errorMessage&&(l.error_message=r.errorMessage);n.affiliation?l.affiliation=n.affiliation:n.orgId&&(l.content_partner_organization=String(n.orgId));(0,u.default)(t,"player.position")&&(r.timeChange?l.current_time=r.timeChange:l.current_time=Math.floor(t.player.position));n.isPlusAudio?l.audio_is_npr_plus=!0:l.audio_is_npr_plus=!1;e===o.SEGMENT&&(e=o.ON_DEMAND);return l.audio_type=e,l},t.getPlayerCustomDimensions=function(e){var t={};e.clickUrl&&(t.click_url=e.clickUrl);e.clickType&&(t.click_type=e.clickType);e.title&&(t.title=e.title);e.playerLocation&&(t.player_location=e.playerLocation);e.mediaId&&(t.media_id=e.mediaId);return t.category="player",t},t.getNPRPlusCustomDimensions=function(e){var t={};e.clickType&&(t.click_type=e.clickType);e.clickName&&(t.click_name=e.clickName);e.clickUrl&&(t.click_url=e.clickUrl);return t.category="npr plus",t},t.getNewsletterCustomDimensions=function(e){var t={};e.clickType&&(t.click_type=e.clickType);e.clickName&&(t.click_name=e.clickName);e.clickUrl&&(t.click_url=e.clickUrl);e.errorType&&(t.error_type=e.errorType);return t.category="newsletter",t},t.getDonationCustomDimensions=function(e){var t={};e.donationStationType&&(t.donation_station_type=e.donationStationType);e.formType&&(t.form_type=e.formType);e.items&&(t.items={item_name:e.items.itemName,affiliation:e.items.affiliation,creative_slot:e.items.creativeSlot,item_category:e.items.itemCategory,price:e.items.price,quantity:e.items.quantity});e.value&&(t.value=e.value);e.currency&&(t.currency=e.currency);e.creativeSlot&&(t.creative_slot=e.creativeSlot);e.clickName&&(t.click_name=e.clickName);e.clickUrl&&(t.click_url=e.clickUrl);e.searchTerm&&(t.search_term=e.searchTerm);e.searchType&&(t.search_type=e.searchType);e.searchResults&&(t.search_results=e.searchResults);e.paymentType&&(t.payment_type=e.paymentType);e.errorMessage&&(t.error_message=e.errorMessage);e.transactionId&&(t.transaction_id=e.transactionId);return t.category="donation",t},t.getRecirculationCustomDimensions=function(e){var t={};e.clickName&&(t.click_name=e.clickName);e.clickType&&(t.click_type=e.clickType);e.clickPosition&&(t.click_position=e.clickPosition);e.clickOptionsAvailable&&(t.click_options_available=e.clickOptionsAvailable);if(e.clickUrl)try{var n=new URL(e.clickUrl.replace(/\\/g,""));n.origin===NPR.ServerConstants.webHost?t.click_url=n.pathname:t.click_url=e.clickUrl}catch(n){t.click_url=e.clickUrl}e.clickPosition&&(t.click_position=e.clickPosition);e.logged_in_session&&(t.logged_in_session=e.logged_in_session);e.category?t.category=e.category:t.category="recirculation";return t},t.getProfileCustomDimensions=function(e){var t={};e.clickName&&(t.click_name=e.clickName);e.clickType&&(t.click_type=e.clickType);if(e.clickUrl)try{var n=new URL(e.clickUrl.replace(/\\/g,""));n.origin===NPR.ServerConstants.webHost?t.click_url=n.pathname:t.click_url=e.clickUrl}catch(n){t.click_url=e.clickUrl}return t.category="profile",t},t.getVideoCustomDimensions=function(e){var t={};e.duration&&(t.duration=e.duration);e.mediaId&&(t.media_id=e.mediaId);e.provider&&(t.provider=e.provider);e.currentTime&&(t.current_time=e.currentTime);e.seekAmount&&(t.seek_amount=e.seekAmount);e.percent&&(t.percent=e.percent);e.volumePosition&&(t.volume_position=e.volumePosition);e.videoPixelQuality&&(t.video_pixel_quality=e.videoPixelQuality);e.title&&(t.title=e.title);e.videoSlot&&(t.video_slot=e.videoSlot);return t.category="video",t},t.getTestingCustomDimensions=function(e){var t={};e.clickType&&(t.click_type=e.clickType);e.clickName&&(t.click_name=e.clickName);e.clickUrl&&(t.click_url=e.clickUrl);e.clickPosition&&(t.click_position=e.clickPosition);e.variationId&&(t.variation_id=e.variationId);e.experementId&&(t.experement_id=e.experementId);return t.category="testing",t},t.getMiscCustomDimensions=function(e){var t={};e.clickType&&(t.click_type=e.clickType);e.clickUrl&&(t.click_url=e.clickUrl);e.clickName&&(t.click_name=e.clickName);e.searchTerm&&(t.search_term=e.searchTerm);e.searchType&&(t.search_type=e.searchType);e.searchResults&&(t.search_results=e.searchResults);e.localizedStation&&(t.localized_station=e.localizedStation);e.category&&(t.category=e.category);return t};var r=n(145),a=p(n(691)),o=d(n(24)),i=d(n(258)),s=n(111),u=p(n(384)),l=n(149),c=p(n(8));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}},,,function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=m(n(8)),o=m(n(722)),i=m(n(12)),s=m(n(20)),u=m(n(380)),l=m(n(41)),c=m(n(21)),d=n(206),p=E(n(149)),f=E(n(167)),_=E(n(68));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g=s.default.create();g.name="metrics",g.init=function(){_.hasConsentedTo(_.PERFORMANCE_AND_ANALYTICS)};var y=!1,h=void 0,v=[];function S(){var e=function(e){var t=(0,a.default)(e),n=JSON.parse(t.attr("data-metrics-ga4"));if(!n.category){var r=t.data("metrics-category-ga4");if(r)n.category=r;else{var o=t.parents("[data-metrics-category-ga4]");o.length>0&&(n.category=o.data("metrics-category-ga4"))}}var i="";return n.action&&(i=n.action),[i,n]}(this),t=r(e,2),n=t[0],o=t[1];if("audio"===o.category){var i=f.getAudioCustomDimensions(o.type,{},o),s=p.createAudioVars(i);p.sendGTMEvent(n,s)}else if("newsletter"===o.category){var u=f.getNewsletterCustomDimensions(o),l=p.createNewsletterVars(u);p.sendGTMEvent(n,l)}else if("npr plus"===o.category){var c=f.getNPRPlusCustomDimensions(o),d=p.createNPRPlusVars(c);p.sendGTMEvent(n,d)}else if("donation"===o.category){var _=f.getDonationCustomDimensions(o),E=p.createDonationVars(_);p.sendGTMEvent(n,E)}else if("recirculation"===o.category||"podcast"===o.category||"share"===o.category){var m=f.getRecirculationCustomDimensions(o),g=p.createRecirculationVars(m);p.sendGTMEvent(n,g)}else if("search"===o.category||"affiliate"===o.category||"stations"===o.category){var y=f.getMiscCustomDimensions(o),h=p.createMiscVars(y);p.sendGTMEvent(n,h)}else if("player"===o.category){var v=f.getPlayerCustomDimensions(o),S=p.createPlayerVars(v);p.sendGTMEvent(n,S)}else if("profile"===o.category){var O=f.getProfileCustomDimensions(o),T=p.createProfileVars(O);p.sendGTMEvent(n,T)}else if("testing"===o.category){var A=f.getTestingCustomDimensions(o),I=p.createTestingVars(A);p.sendGTMEvent(n,I)}}function O(e){90!==window.orientation&&window.orientation}g.onReady=function(){if(_.hasConsentedTo(_.PERFORMANCE_AND_ANALYTICS)){var e;e=c.default.getSessionInfo(),c.default.isMobileNativeApp(e.renderPlatform)&&(new u.default).loadPageviewData().then((function(e){f.getPageViewCustomDimensions(e)})).catch((function(e){i.default.error("Error loading page view data: "+e)})),(0,a.default)(document).on("mousedown.metrics","[data-metrics-ga4]",S),(0,a.default)(document).on("npr:refreshMetrics",(function(){(0,a.default)(document).off("mousedown.metrics","[data-metrics-ga4]",S),(0,a.default)(document).on("mousedown.metrics","[data-metrics-ga4]",S)}));try{document.querySelector("#callout-end-of-story-mount")&&(h=new o.default({element:document.getElementById("callout-end-of-story-mount"),handler:function(e){"down"!==e||y||(y=!0,(0,l.default)().dispatch((0,d.endOfStoryCalloutSeen)()))},offset:"bottom-in-view"}))}catch(e){}try{if((0,a.default)("body").hasClass("liveBlog")){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(document.getElementsByClassName("item")));t.length>0&&t.forEach((function(e,t){var n=e.id.substring(2),r=new o.default({element:e,handler:function(e){"down"===e&&(r.destroy(),trackEvent({category:"liveblog actions",action:"view story "+(t+1),label:n,noninteraction:!0}))},offset:function(){return o.default.viewportHeight()/1.5}});v.push(r)}))}}catch(e){}(0,a.default)("body").on("orientationchange",O)}},g.onUnload=function(){(0,a.default)(document).off("mousedown.metrics","[data-metrics-ga4]",S),h&&h.enabled&&(h.destroy(),h=null),v.length&&(v.forEach((function(e){e.destroy()})),v=[]),!1,y=!1,(0,a.default)("body").off("orientationchange",O)},g.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listeningService=t.loadChannelAudioItems=t.loadNprChannelAudioItems=t.loadRecommendationsByExplicitMediaIdWithBinge=t.loadAudioMetadataByExplicitMediaId=t.loadRecommendationsByExplicitMediaId=t.loadAudioMetadataRecommendationItemsByUrl=t.loadAudioMetadataRecommendationsResponseObjectByUrl=t.postRatings=t.putChannelToPlaylist=t.postPlaylistUids=t.loadPlaylistRecommendationsResponse=t.loadPlaylistUidsRecommendationsResponse=t.loadHistoryItems=t.loadSponsorshipCustomChannel=t.getNewscastForOrg=t.safeLoadAudioById=void 0;var r,a,o,i,s,u,l,c,d,p,f,_,E,m=t.loadHistoryItems=(r=ce(regeneratorRuntime.mark((function e(t,n,r){var a,o=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z.default.isUserLoggedIn(n,s),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(t,n,r,i));case 1:case"end":return e.stop()}}),e,o)}))),a,function(){var e=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",On(t,r));case 1:case"end":return e.stop()}}),e,o)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bn(a,t,n,r,i));case 1:case"end":return e.stop()}}),e,o)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e,o)}))),rn(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)}),g=t.loadPlaylistUidsRecommendationsResponse=(a=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,u),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,s));case 1:case"end":return e.stop()}}),e,i)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tn(t,n,a));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn(t,o,n,r,a,s));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e,i)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return a.apply(this,arguments)}),y=t.loadPlaylistRecommendationsResponse=(o=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,s=this,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=z.default.isUserLoggedIn(a,l),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(r,a,o,u));case 1:case"end":return e.stop()}}),e,s)}))),i,function(){var e=ce(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,n,r,o));case 1:case"end":return e.stop()}}),e,s)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wn(t,n,i,r,a,o,u));case 1:case"end":return e.stop()}}),e,s)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e,s)}))),rn(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a){return o.apply(this,arguments)}),h=t.postPlaylistUids=(i=ce(regeneratorRuntime.mark((function e(t,n,r,a,o,i){var s,u=this,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=z.default.isUserLoggedIn(o,c),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(a,o,i,l));case 1:case"end":return e.stop()}}),e,u)}))),s,function(){var e=ce(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,n,r,a,i));case 1:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vn(t,n,r,s,a,o,i,l));case 1:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Z.default("Generic website user cannot update playlist");case 1:case"end":return e.stop()}}),e,u)}))),rn(i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,o){return i.apply(this,arguments)}),v=t.putChannelToPlaylist=(s=ce(regeneratorRuntime.mark((function e(t,n,r,a,o,i){var s,u=this,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=z.default.isUserLoggedIn(o,c),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(a,o,i,l));case 1:case"end":return e.stop()}}),e,u)}))),s,function(){var e=ce(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,n,r,a,i));case 1:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,n,r,s,a,o,i,l));case 1:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Z.default("Generic website user cannot update playlist");case 1:case"end":return e.stop()}}),e,u)}))),rn(i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,o){return s.apply(this,arguments)}),S=t.postRatings=(u=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=this,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=z.default.isUserLoggedIn(a,c),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(r,a,o,s));case 1:case"end":return e.stop()}}),e,u)}))),i,function(){var e=ce(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,n,r,o,l));case 1:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,n,i,r,a,o,s,l));case 1:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Z.default("Generic website user cannot send ratings");case 1:case"end":return e.stop()}}),e,u)}))),rn(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a){return u.apply(this,arguments)}),O=t.loadAudioMetadataRecommendationsResponseObjectByUrl=(l=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,u),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,s));case 1:case"end":return e.stop()}}),e,i)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rn(t,n,a));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qn(t,o,n,r,a,s));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ir(t,""));case 1:case"end":return e.stop()}}),e,i)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return l.apply(this,arguments)}),T=t.loadAudioMetadataRecommendationItemsByUrl=(c=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,u),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,s));case 1:case"end":return e.stop()}}),e,i)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dn(t,n,a));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kn(t,o,n,r,a,s));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sr(t,""));case 1:case"end":return e.stop()}}),e,i)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return c.apply(this,arguments)}),A=t.loadRecommendationsByExplicitMediaId=(d=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,l),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,i));case 1:case"end":return e.stop()}}),e,s)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,n,a,u));case 1:case"end":return e.stop()}}),e,s)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zn(t,o,n,r,a,i,u));case 1:case"end":return e.stop()}}),e,s)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ur(t,u));case 1:case"end":return e.stop()}}),e,s)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return d.apply(this,arguments)}),I=t.loadAudioMetadataByExplicitMediaId=(p=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,u),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,s));case 1:case"end":return e.stop()}}),e,i)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wn(t,n,a));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jn(t,o,n,r,a,s));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lr(t));case 1:case"end":return e.stop()}}),e,i)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return p.apply(this,arguments)}),b=t.loadRecommendationsByExplicitMediaIdWithBinge=(f=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=this,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,l),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,u));case 1:case"end":return e.stop()}}),e,s)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,n,i,a));case 1:case"end":return e.stop()}}),e,s)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,o,n,r,i,a,u));case 1:case"end":return e.stop()}}),e,s)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cr(t,i));case 1:case"end":return e.stop()}}),e,s)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return f.apply(this,arguments)}),P=t.loadNprChannelAudioItems=(_=ce(regeneratorRuntime.mark((function e(t,n,r){var a,o=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z.default.isUserLoggedIn(n,s),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(t,n,r,i));case 1:case"end":return e.stop()}}),e,o)}))),a,function(){var e=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln(t,r));case 1:case"end":return e.stop()}}),e,o)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zn(a,t,n,r,i));case 1:case"end":return e.stop()}}),e,o)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dr(""));case 1:case"end":return e.stop()}}),e,o)}))),rn(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return _.apply(this,arguments)}),R=t.loadChannelAudioItems=(E=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,u),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,s));case 1:case"end":return e.stop()}}),e,i)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mn(t,n,a));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,o,n,r,a,s));case 1:case"end":return e.stop()}}),e,i)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pr(t,""));case 1:case"end":return e.stop()}}),e,i)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return E.apply(this,arguments)}),D=ue(n(5)),N=ue(n(168)),w=(ue(n(718)),ue(n(154))),C=ue(n(266)),L=ue(n(369)),M=se(n(2)),k=se(n(24)),U=se(n(56)),x=(se(n(152)),se(n(28))),F=se(n(200)),G=se(n(67)),j=se(n(43)),B=se(n(93)),H=se(n(255)),W=n(378),V=n(150),Y=n(15),q=ue(n(373)),Q=ue(n(209)),K=ue(n(12)),z=ue(n(92)),J=n(262),X=n(205),Z=ue(n(375)),$=ue(n(374)),ee=ue(n(376)),te=se(n(90)),ne=se(n(147)),re=n(111),ae=n(108),oe=n(35),ie=ue(n(21));function se(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ue(e){return e&&e.__esModule?e:{default:e}}function le(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ce(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var de,pe,fe,_e,Ee,me,ge,ye,he,ve,Se,Oe,Te,Ae,Ie,be,Pe,Re,De,Ne,we,Ce,Le,Me,ke,Ue,xe,Fe,Ge,je,Be,He,We,Ve,Ye,qe,Qe,Ke,ze,Je,Xe,Ze,$e,et,tt,nt,rt,at,ot,it,st,ut,lt,ct,dt,pt,ft,_t,Et,mt,gt,yt,ht,vt,St,Ot,Tt,At,It,bt,Pt,Rt,Dt,Nt,wt,Ct=function(e,t){return e.expires&&e.expires<=t.now/1e3},Lt=[M.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_SKIP,M.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_COMPLETE,M.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_AUDIO_ERROR],Mt=[M.ADVANCE_TOP_OF_FLOW_AND_PLAY,M.ON_RAMP_FLOW_RECOMMENDATIONS_RECEIVED,M.PLAY_AUDIO_FROM_PLAYLIST],kt=[M.ON_RAMP_FLOW_RECOMMENDATIONS_RECEIVED,M.PLAY_AUDIO_FROM_PLAYLIST],Ut=[M.AUDIO_ERROR,M.METADATA_INVALIDATED,M.AUDIO_EXPIRED,M.SPONSORSHIP_INTERRUPTED],xt=[M.SEND_RATINGS_FAILED],Ft=[M.UPDATE_PLAYLIST_UIDS_SUCCEEDED,M.DELETE_PLAYLIST_ITEMS_SUCCEEDED,M.ADD_PLAYLIST_ITEMS_SUCCEEDED,M.ADD_CHANNEL_TO_PLAYLIST_SUCCEEDED],Gt=[M.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_SUCCEEDED,M.GET_PLAYLIST_UIDS_SUCCEEDED,M.UPDATE_PLAYLIST_UIDS_SUCCEEDED,M.DELETE_PLAYLIST_ITEMS_SUCCEEDED],jt=[M.TRIGGER_RATINGS_HEARTBEAT,M.SEND_RATINGS_REQUESTED,M.SEND_RATINGS_FAILED,M.SEND_RATINGS_SUCCEEDED,M.PLAY_TOP_OF_FLOW,M.PLAY_AUDIO_FROM_PLAYLIST],Bt=[M.FLOW_RECOMMENDATIONS_RECEIVED,M.ON_RAMP_FLOW_RECOMMENDATIONS_RECEIVED],Ht=!1,Wt=null,Vt=!1,Yt=null,qt=function(e,t,n){return function(e,t,n){if(e===M.SPONSORSHIP_INTERRUPTED)return!0;var r=null;return(0,D.default)(t,"uid",null)&&(0,D.default)(t,"type",null)&&(0,D.default)(t,"audioUrl",null)&&(0,D.default)(t,"rating")&&(r=t),!((!r||n!==(0,D.default)(r,"uid",null))&&n||!Ut.includes(e))||!!Ut.includes(e)}(e,t,n)},Qt=function(e){return xt.includes(e)},Kt=function(e){return e&&(0,D.default)(e,"rating",null)&&(0,D.default)(e,"postRecommendationsLink",null)},zt=function(e,t,n,r){return!!Kt(t)&&!(!Mt.includes(e)||n&&!r.includes(t.uid)&&t.type!==k.SPONSORSHIP)},Jt=function(e,t,n,r){return zt(e,t,n,r)&&Ht&&!kt.includes(e)},Xt=function(e,t,n,r,a){if(Ht)return!1;if(!e)return!1;var o=Mt.includes(t),i=!Kt(n);return o&&(i||r&&!a.includes(n.uid)&&n.type!==k.SPONSORSHIP)},Zt=function(e,t,n,r){return!(!t||!e||Mt.includes(r)||Ht||jt.includes(r))&&Date.now()/1e3-n>300},$t=function(e,t){return Ft.includes(e)&&t},en=function(e){return Gt.includes(e)},tn=function(e,t,n,r,a){return Lt.includes(e)&&(!a&&(t||n)||r)},nn=(de=ce(regeneratorRuntime.mark((function e(t,n,r,a,o,i){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,e.prev=1,Yt||(Yt=t()),e.next=5,Yt;case 5:s=e.sent,Yt=null,e.next=21;break;case 9:if(e.prev=9,e.t0=e.catch(1),Yt=null,!(e.t0 instanceof Q.default)){e.next=17;break}K.default.error(e.t0),s=null,e.next=21;break;case 17:return K.default.error(e.t0),e.next=20,i(e.t0);case 20:throw e.t0;case 21:if(!n){e.next=40;break}return e.prev=22,e.next=25,r(s);case 25:return e.abrupt("return",e.sent);case 28:if(e.prev=28,e.t1=e.catch(22),K.default.error(e.t1),!(e.t1 instanceof q.default||e.t1 instanceof $.default||e.t1 instanceof ee.default)){e.next=35;break}throw e.t1;case 35:return e.next=37,i(e.t1);case 37:throw e.t1;case 38:e.next=95;break;case 40:if(!s){e.next=79;break}return e.prev=41,e.next=44,a(s);case 44:return e.abrupt("return",e.sent);case 47:if(e.prev=47,e.t2=e.catch(41),!(e.t2 instanceof q.default||e.t2 instanceof $.default||e.t2 instanceof ee.default)){e.next=54;break}throw K.default.error(e.t2),e.t2;case 54:if(!(e.t2 instanceof Q.default)){e.next=73;break}return e.prev=55,e.next=58,o();case 58:return e.abrupt("return",e.sent);case 61:if(e.prev=61,e.t3=e.catch(55),K.default.error(e.t3),!(e.t3 instanceof q.default)){e.next=68;break}throw e.t3;case 68:return e.next=70,i(e.t3);case 70:throw e.t3;case 71:e.next=77;break;case 73:return K.default.error(e.t2),e.next=76,i(e.t2);case 76:throw e.t2;case 77:e.next=95;break;case 79:return e.prev=79,e.next=82,o();case 82:return e.abrupt("return",e.sent);case 85:if(e.prev=85,e.t4=e.catch(79),K.default.error(e.t4),!(e.t4 instanceof q.default)){e.next=92;break}throw e.t4;case 92:return e.next=94,i(e.t4);case 94:throw e.t4;case 95:case"end":return e.stop()}}),e,void 0,[[1,9],[22,28],[41,47],[55,61],[79,85]])}))),function(e,t,n,r,a,o){return de.apply(this,arguments)}),rn=function(e){return t=ce(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(x.generalPlayerError());case 1:case"end":return t.stop()}}),t,void 0)}))),function(e){return t.apply(this,arguments)};var t},an=(pe=ce(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),!(e.t0 instanceof Q.default)){e.next=15;break}return t(G.userLogoutRequested()),t(x.authenticationPlayerError()),e.abrupt("return",void 0);case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e,t){return pe.apply(this,arguments)}),on=(fe=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,s,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),!(e.t0 instanceof Q.default&&u)){e.next=26;break}return e.prev=10,i=(0,D.default)(o,"org.id",null),e.next=14,(0,W.createAnonymousUserToken)(a,i,n);case 14:return s=e.sent,e.next=17,on(s,n,r,a,o,!1);case 17:return e.abrupt("return",e.sent);case 20:throw e.prev=20,e.t1=e.catch(10),K.default.error(e.t1),e.t1;case 24:e.next=27;break;case 26:throw e.t0;case 27:case"end":return e.stop()}}),e,void 0,[[0,6],[10,20]])}))),function(e,t,n,r,a){return fe.apply(this,arguments)}),sn=(_e=ce(regeneratorRuntime.mark((function e(t,n,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dn(t,n,r,a,o);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),Ee=ce(regeneratorRuntime.mark((function e(t,n,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pn(t,n,r,a,o);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e,t,n){return Ee.apply(this,arguments)}),un=t.safeLoadAudioById=(me=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fn(t,n,r,a,o,i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e,t,n,r){return me.apply(this,arguments)}),ln=(ge=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_n(t,n,r,a,o,i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e,t,n,r){return ge.apply(this,arguments)}),cn=(ye=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,En(t,n,r,a,o,i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),t===U.NPR&&K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),he=ce(regeneratorRuntime.mark((function e(t,n,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t,n,r,a,o);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),ve=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(t,n,r,a,o,i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),Se=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t,n,r,a,o,i,s);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),Oe=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(t,n,r,a,o,i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),Te=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t,n,r,a,o,i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),Ae=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t,n,r,a,o,i,s);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),Ie=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(t,n,r,a,o,i,s);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),be=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t,n,r,a,o,i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e,t,n,r){return be.apply(this,arguments)}),dn=(Pe=ce(regeneratorRuntime.mark((function e(t,n,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t,n,r,a,o);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),Re=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t,n,r,a,o,i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),K.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),De=ce(regeneratorRuntime.mark((function e(t,n,r){var a,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z.default.isUserLoggedIn(n,i),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(t,n,r,o));case 1:case"end":return e.stop()}}),e,void 0)}))),a,function(){var e=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mn(t,r));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn(a,t,n,r,o));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er());case 1:case"end":return e.stop()}}),e,void 0)}))),rn(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return De.apply(this,arguments)}),pn=(Ne=ce(regeneratorRuntime.mark((function e(t,n,r){var a,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z.default.isUserLoggedIn(n,i),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(t,n,r,o));case 1:case"end":return e.stop()}}),e,void 0)}))),a,function(){var e=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gn(t,r));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Un(a,t,n,r,o));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr());case 1:case"end":return e.stop()}}),e,void 0)}))),rn(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return Ne.apply(this,arguments)}),fn=(we=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,s),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,i));case 1:case"end":return e.stop()}}),e,void 0)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yn(t,n,a));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xn(t,o,n,r,a,i));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nr(t));case 1:case"end":return e.stop()}}),e,void 0)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return we.apply(this,arguments)}),_n=(Ce=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,s),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,i));case 1:case"end":return e.stop()}}),e,void 0)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(t,n,a));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,o,n,r,a,i));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rr(t));case 1:case"end":return e.stop()}}),e,void 0)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return Ce.apply(this,arguments)}),En=t.getNewscastForOrg=(Le=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(r,s),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(n,r,a,i));case 1:case"end":return e.stop()}}),e,void 0)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,n,a));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gn(t,o,n,r,a,i));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t));case 1:case"end":return e.stop()}}),e,void 0)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return Le.apply(this,arguments)}),mn=(t.loadSponsorshipCustomChannel=(Me=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z.default.isUserLoggedIn(n,s),e.next=3,nn(ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,W.getAccessTokenWithAnonymousCreationFallback)(r,n,a,i));case 1:case"end":return e.stop()}}),e,void 0)}))),o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,n,a));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ce(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jn(t,o,r,n,a,i));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",or(t));case 1:case"end":return e.stop()}}),e,void 0)}))),rn(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return Me.apply(this,arguments)}),ke=ce(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(n,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getCleChannelAudioItems)(t));case 1:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return ke.apply(this,arguments)}),gn=(Ue=ce(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(n,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getNewscastChannelAudioItems)(t));case 1:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return Ue.apply(this,arguments)}),yn=(xe=ce(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getAudioMetadataByUid)(t,n));case 1:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return xe.apply(this,arguments)}),hn=(Fe=ce(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getAudioMetadataItemsForAgg)(t,n));case 1:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return Fe.apply(this,arguments)}),vn=(Ge=ce(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.fetchNewscastForOrg)(t,n));case 1:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return Ge.apply(this,arguments)}),Sn=(je=ce(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,X.fetchSponsorshipCustomChannelData)(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return je.apply(this,arguments)}),On=(Be=ce(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(n,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getHistoryItems)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return Be.apply(this,arguments)}),Tn=(He=ce(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getPlaylistUidsRecommendationsResponseFromListeningService)(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return He.apply(this,arguments)}),An=(We=ce(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(a,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getPlaylistRecommendationsResponseFromListeningService)(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return We.apply(this,arguments)}),In=(Ve=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(o,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.postPlaylistUidsToListeningService)(t,n,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return Ve.apply(this,arguments)}),bn=(Ye=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(o,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.putChannelToPlaylistInListeningService)(t,n,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return Ye.apply(this,arguments)}),Pn=(qe=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(a,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.postRatingsToListeningService)(t,n,r,o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return qe.apply(this,arguments)}),Rn=(Qe=ce(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getAudioMetadataRecommendationsResponseObjectByUrl)(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return Qe.apply(this,arguments)}),Dn=(Ke=ce(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getAudioMetadataRecommendationItemsByUrl)(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return Ke.apply(this,arguments)}),Nn=(ze=ce(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getRecommendationsByExplicitMediaId)(t,n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return ze.apply(this,arguments)}),wn=(Je=ce(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getAudioMetadataByUid)(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return Je.apply(this,arguments)}),Cn=(Xe=ce(regeneratorRuntime.mark((function e(t,n,r,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(a,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getRecommendationsByExplicitMediaIdWithBinge)(t,r,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return Xe.apply(this,arguments)}),Ln=(Ze=ce(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(n,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getNprChannelAudioItems)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return Ze.apply(this,arguments)}),Mn=($e=ce(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(r,ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.getChannelAudioItems)(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n){return $e.apply(this,arguments)}),kn=(et=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(t,a,function(){var e=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getCleChannelAudioItems)(t));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),n,r,o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return et.apply(this,arguments)}),Un=(tt=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(t,a,function(){var e=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getNewscastChannelAudioItems)(t));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),n,r,o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return tt.apply(this,arguments)}),xn=(nt=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getAudioMetadataByUid)(t,n));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return nt.apply(this,arguments)}),Fn=(rt=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getAudioMetadataItemsForAgg)(t,n));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return rt.apply(this,arguments)}),Gn=(at=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.fetchNewscastForOrg)(t,n));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return at.apply(this,arguments)}),jn=(ot=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,X.fetchSponsorshipCustomChannelData)(t,n);case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return ot.apply(this,arguments)}),Bn=(it=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(t,a,function(){var e=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getHistoryItems)(t));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),n,r,o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return it.apply(this,arguments)}),Hn=(st=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getPlaylistUidsRecommendationsResponseFromListeningService)(t,n));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return st.apply(this,arguments)}),Wn=(ut=ce(regeneratorRuntime.mark((function e(t,n,r,a,o,i){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(r,i,function(){var e=ce(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getPlaylistRecommendationsResponseFromListeningService)(t,n,r));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),a,o,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a,o){return ut.apply(this,arguments)}),Vn=(lt=ce(regeneratorRuntime.mark((function e(t,n,r,a,o,i,s){var u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(a,s,function(){var e=ce(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.postPlaylistUidsToListeningService)(t,n,r,a));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),o,i,u);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a,o,i){return lt.apply(this,arguments)}),Yn=(ct=ce(regeneratorRuntime.mark((function e(t,n,r,a,o,i,s){var u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(a,s,function(){var e=ce(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.putChannelToPlaylistInListeningService)(t,n,r,a));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),o,i,u);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a,o,i){return ct.apply(this,arguments)}),qn=(dt=ce(regeneratorRuntime.mark((function e(t,n,r,a,o,i,s,u){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(r,i,function(){var e=ce(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.postRatingsToListeningService)(t,n,r,u));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),a,o,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a,o,i,s){return dt.apply(this,arguments)}),Qn=(pt=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getAudioMetadataRecommendationsResponseObjectByUrl)(t,n));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return pt.apply(this,arguments)}),Kn=(ft=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getAudioMetadataRecommendationItemsByUrl)(t,n));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return ft.apply(this,arguments)}),zn=(_t=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getRecommendationsByExplicitMediaId)(t,n,s));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return _t.apply(this,arguments)}),Jn=(Et=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getAudioMetadataByUid)(t,n));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return Et.apply(this,arguments)}),Xn=(mt=ce(regeneratorRuntime.mark((function e(t,n,r,a,o,i){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,i,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getRecommendationsByExplicitMediaIdWithBinge)(t,o,n));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a,o){return mt.apply(this,arguments)}),Zn=(gt=ce(regeneratorRuntime.mark((function e(t,n,r,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(t,a,function(){var e=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getNprChannelAudioItems)(t));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),n,r,o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r){return gt.apply(this,arguments)}),$n=(yt=ce(regeneratorRuntime.mark((function e(t,n,r,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(n,o,function(){var e=ce(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.getChannelAudioItems)(t,n));case 1:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),r,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t,n,r,a){return yt.apply(this,arguments)}),er=(ht=ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",(0,V.getCleChannelAudioItems)());case 4:throw e.prev=4,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 8:case"end":return e.stop()}}),e,void 0,[[0,4]])}))),function(){return ht.apply(this,arguments)}),tr=(vt=ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",(0,V.getNewscastChannelAudioItems)());case 4:throw e.prev=4,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 8:case"end":return e.stop()}}),e,void 0,[[0,4]])}))),function(){return vt.apply(this,arguments)}),nr=(St=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",(0,V.getAudioMetadataByUid)(t,""));case 4:throw e.prev=4,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 8:case"end":return e.stop()}}),e,void 0,[[0,4]])}))),function(e){return St.apply(this,arguments)}),rr=(Ot=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",(0,V.getAudioMetadataItemsForAgg)(t,""));case 4:throw e.prev=4,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 8:case"end":return e.stop()}}),e,void 0,[[0,4]])}))),function(e){return Ot.apply(this,arguments)}),ar=(Tt=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",(0,V.fetchNewscastForOrg)(t,""));case 4:throw e.prev=4,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 8:case"end":return e.stop()}}),e,void 0,[[0,4]])}))),function(e){return Tt.apply(this,arguments)}),or=(At=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,X.fetchSponsorshipCustomChannelData)(t,"");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return At.apply(this,arguments)}),ir=(It=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,V.getAudioMetadataRecommendationsResponseObjectByUrl)(t,"");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return It.apply(this,arguments)}),sr=(bt=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,V.getAudioMetadataRecommendationItemsByUrl)(t,"");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return bt.apply(this,arguments)}),ur=(Pt=ce(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,V.getRecommendationsByExplicitMediaId)(t,"",n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e,t){return Pt.apply(this,arguments)}),lr=(Rt=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,V.getAudioMetadataByUid)(t,"");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return Rt.apply(this,arguments)}),cr=(Dt=ce(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,V.getRecommendationsByExplicitMediaIdWithBinge)(t,n,"");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e,t){return Dt.apply(this,arguments)}),dr=(Nt=ce(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,V.getNprChannelAudioItems)("");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(){return Nt.apply(this,arguments)}),pr=(wt=ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,V.getChannelAudioItems)(t,"");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),K.default.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return wt.apply(this,arguments)}),fr=t.listeningService=function(e){var t=e.dispatch,n=e.getState;return function(e){return r=ce(regeneratorRuntime.mark((function r(a){var o,i,s,u,l,c,d,p,f,_,E,O,T,I,U,G,W,q,Q,K,z,X,Z,se,ue,ce,de,pe,fe,_e,Ee,me,ge,ye,he,ve,Se,Oe,Te,Ae,Ie,be,Pe,Re,De,Ne,we,Ce,Le,Me,ke,Ue,xe,Fe,Ge,je,Be,He,We,Ve,Ye,qe,Qe,Ke,ze,Je,Xe,Ze,$e,et,tt,nt,rt,at,ot,it,st,ut,lt,ct,dt,pt,ft,_t,Et,mt,gt,yt,ht,vt,St,Ot,Tt,At,It,bt,Pt,Rt,Dt,Nt,wt,Lt,Mt,kt,Ut,xt,Ft,Gt,jt,Yt,Kt,nn,rn,an,on,dn,pn,_n,En,mn,gn,yn,hn,vn,Sn,On,Tn,An,In,bn,Pn,Rn,Dn,Nn,wn,Cn,Ln,Mn,kn,Un,xn,Fn,Gn,jn,Bn,Hn,Wn,Vn,Yn,qn,Qn,Kn,zn,Jn,Xn,Zn,$n,er,tr,nr,rr;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=n(),i=(0,Y.getCurrentPlaylistEtag)(o),s=(0,Y.getPlayMode)(o)==V.IN_PLAYLIST_PLAY_MODE,u=(0,Y.getPlayMode)(o)==V.ON_DEMAND_PLAY_MODE,l=(0,D.default)(o,"player.position",0),c=e(a),d=n(),p=(0,Y.getActiveFlowRecommendations)(d),f=(0,N.default)(p)||null,_=(0,Y.getStagedBatchedRatings)(d),(0,Y.getActiveRating)(d),E=(0,Y.getLastPostTimestamp)(d),O=(0,Y.getPlaylistVisualRecommendations)(d),T=(0,Y.getCurrentPlaylistUids)(d),I=(0,Y.getPlayMode)(d)==V.IN_PLAYLIST_PLAY_MODE,U=(0,Y.getPlayMode)(d)==V.IN_FLOW_PLAY_MODE,G=(0,Y.getCurrentPlaylistId)(d),W=(0,Y.getCurrentPlaylistEtag)(d),q=(0,Y.isAutoplayEnabled)(d),Q=(0,Y.getOverridePostUrl)(d),K=(0,Y.getCurrentPostUrl)(d),z=Q||K,X=(0,D.default)(d,"user",{}),Z=(0,D.default)(d,"player.currentUid",null),se=(0,D.default)(d,"player.position",0),ue=(0,D.default)(d,"player.isAudioPlaying",!1),ce=(0,D.default)(d,"player.isEngaged",!1),(0,D.default)(d,"player.returnPosition",0),de=(0,Y.getCurrentSubpane)(d),pe=(0,Y.getBingeModeId)(d),fe=!!pe,_e=(0,Y.shouldAllowSingleRecommendationFollowUp)(d),Ee=(0,ae.isSmallBreakpoint)(d),(0,ae.isMobileDevice)(d),me=ie.default.isMobileNativeApp((0,oe.getRenderPlatform)(d)),Vt||!ce||Ee||(Vt=!0,t(B.initializePlayerWithRemoteService())),Zt(ue,z,E,a.type)&&t(B.triggerRatingsHeartbeat(se)),ar=a.type,Bt.includes(ar)&&t(j.metadatasLoaded(p)),en(a.type)&&(ge=a.payload.uids,i&&W&&i!==W?t(B.resetPlaylistVisualState(!1)):a.type===M.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_SUCCEEDED&&a.payload.shouldAutoplayOnLoadComplete?(ye=(0,N.default)(ge))&&t(B.playAudioFromPlaylist(ye,0)):O.length<5&&ge.length>O.length&&a.type!==M.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_SUCCEEDED&&t(B.loadVisualPlaylistRecommendationsRequested(G,0,!1))),$t(a.type,I)&&t(B.refreshPlaylistFlowRecommendations()),Jt(a.type,f,I,T)?Wt=B.playTopOfFlow:qt(a.type,a.payload,Z)?(Wt=function(){return B.advanceAndPlayTopOfFlowFromAudioError(se)},Ht||t(B.sendRatingsRequested())):Qt(a.type)?t(B.manuallyAdvanceTopOfFlowFromError()):zt(a.type,f,I,T)?t(B.playTopOfFlow()):Xt(z,a.type,f,I,T)&&t(B.resetFlowState()),!s||I||q||t(B.sendRatingsRequested(!1)),(s&&U&&q||u&&U&&q)&&t(te.subpaneChangeDirect(ne.SUBPANE_NPR_ONE_MIX)),a.type===M.MANUALLY_ADVANCE_TOP_OF_FLOW_FROM_ERROR&&t(B.advanceTopOfFlow()),a.type===M.ADVANCE_TOP_OF_FLOW&&(he=(0,C.default)(p),ve=(0,L.default)(he)||[],t(B.flowRecommendationsReceived(ve))),a.type===M.AUDIO_COMPLETE&&t(B.advanceAndPlayTopOfFlowFromComplete()),a.type===M.SKIP&&t(B.advanceAndPlayTopOfFlowFromSkip(l)),tn(a.type,q,I,_e,Ee)&&t(B.advanceTopOfFlowAndPlay()),a.type===M.FLOW_RECOMMENDATIONS_RECEIVED&&(Se=a.payload,Oe=Se.recommendations,Se.playlistId,Se.uids,Se.etag,Q?(Ht=!1,t(B.sendRatingsRequested())):(I&&t(B.addFlowRecommendationsToPlaylistVisualRecommendations(Oe)),Ht=!1,Wt&&(t(Wt()),Wt=null))),a.type===M.PLAY_TOP_OF_FLOW&&(f.type==k.SPONSORSHIP?t(F.sponsorshipRequested(f)):(t(x.audioReceived(f,{playedFrom:"from npr one mix flow"},se,!0)),t(B.sendRatingsRequested()))),a.type===M.TRIGGER_RATINGS_HEARTBEAT&&t(B.sendRatingsRequested()),a.type===M.SPONSORSHIP_LOADED&&t(B.sendRatingsRequested()),a.type!==M.SEND_RATINGS_REQUESTED){r.next=73;break}if(Te=a.payload.shouldReturnRecommendations,!z||Ht){r.next=72;break}return Ht=!0,r.prev=56,r.next=59,S(z,_,(0,D.default)(o,"time.now",null),X,t,!0,Te,me);case 59:Ae=r.sent,Ie=(0,D.default)(Ae,"items",null),be=(0,D.default)(Ae,"id",null),Pe=(0,D.default)(Ae,"uids",null),Re=(0,D.default)(Ae,"etag",null),t(Ie?B.sendRatingsSucceeded(Ie,be,Pe,Re):B.sendRatingsFailed()),r.next=70;break;case 67:r.prev=67,r.t0=r.catch(56),t(B.sendRatingsFailed());case 70:r.next=73;break;case 72:Ht=!1;case 73:if(a.type===M.SEND_RATINGS_SUCCEEDED&&(De=a.payload,Ne=De.recommendations,we=De.playlistId,Ce=De.uids,Le=De.etag,t(B.flowRecommendationsReceived(Ne||[],we,Ce,Le))),a.type===M.SEND_RATINGS_FAILED&&(Ht=!1,Wt=null),a.type!==M.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_REQUESTED){r.next=86;break}return r.prev=76,r.next=79,P((0,D.default)(o,"time.now",null),X,t,!0,me);case 79:Me=r.sent,t(B.getListeningRecommendationsDefaultOnRampSucceeded(Me)),r.next=86;break;case 83:r.prev=83,r.t1=r.catch(76),t(B.getListeningRecommendationsDefaultOnRampFailed());case 86:if(a.type===M.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_SUCCEEDED&&(ke=a.payload,t(B.onRampFlowRecommendationsReceived(ke))),a.type===M.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_FAILED&&(t(B.resetFlowState()),t(x.generalPlayerError())),a.type!==M.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_REQUESTED){r.next=100;break}return Ue=a.payload,r.prev=90,r.next=93,fn(Ue,(0,D.default)(d,"time.now",null),X,t,!1,me);case 93:xe=r.sent,t(j.promoCardAudioMetadataLoaded(xe)),r.next=100;break;case 97:r.prev=97,r.t2=r.catch(90),t(B.getPromoCardAudioAndSubsequentlyPlayFailed());case 100:if(a.type===M.PROMO_CARD_AUDIO_METADATA_LOADED&&(Fe=a.payload,t(B.getPromoCardAudioAndSubsequentlyPlaySucceeded(Fe))),a.type===M.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_SUCCEEDED&&(Ge=a.payload,t(x.newPlayRequested(Ge,{playedFrom:"featured promo card"},0,!0))),a.type!==M.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_REQUESTED){r.next=114;break}return je=a.payload,Be=je.uid,He=je.startPosition,We=je.origin,r.prev=104,r.next=107,A(Be,(0,D.default)(o,"time.now",null),X,(0,D.default)(o,"time.now",null),t,We,me);case 107:Ve=r.sent,t(B.getListeningRecommendationsByMediaIdOnRampSucceeded(Ve,He)),r.next=114;break;case 111:r.prev=111,r.t3=r.catch(104),t(B.getListeningRecommendationsByMediaIdOnRampFailed());case 114:if(a.type===M.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_SUCCEEDED&&(Ye=a.payload.recommendations,t(B.onRampFlowRecommendationsReceived(Ye))),a.type===M.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_FAILED&&(t(B.resetFlowState()),t(x.generalPlayerError())),a.type!==M.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_REQUESTED){r.next=128;break}return qe=a.payload,Qe=qe.uid,Ke=qe.bingeAggId,ze=qe.startPosition,r.prev=118,r.next=121,b(Qe,(0,D.default)(o,"time.now",null),X,t,Ke,!0,me);case 121:Je=r.sent,t(B.getListeningRecommendationsByMediaIdWithBingeOnRampSucceeded(Je,ze)),r.next=128;break;case 125:r.prev=125,r.t4=r.catch(118),t(B.getListeningRecommendationsByMediaIdWithBingeOnRampFailed());case 128:if(a.type===M.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_SUCCEEDED&&(Xe=a.payload.recommendations,t(B.onRampFlowRecommendationsReceived(Xe))),a.type===M.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_FAILED&&(t(B.resetFlowState()),t(x.generalPlayerError())),a.type!==M.SUBPANE_CHANGE_DIRECT&&a.type!==M.SUBPANE_CHANGE_WITH_EXPAND||a.payload.pane===ne.SUBPANE_PLAYLIST&&t(B.loadVisualPlaylistRecommendationsRequested(G,0,!1)),a.type!==M.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_REQUESTED){r.next=143;break}return Ze=a.payload,r.prev=133,r.next=136,y(Ze,0,(0,D.default)(o,"time.now",null),X,t,!0,me);case 136:$e=r.sent,t(B.getPlaylistRecommendationsOnRampSucceeded($e.id,$e.items||[],$e.uids||[],$e.etag)),r.next=143;break;case 140:r.prev=140,r.t5=r.catch(133),t(B.getPlaylistRecommendationsOnRampFailed());case 143:if(a.type===M.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED&&(et=a.payload,tt=et.playlistId,nt=et.recommendations,rt=et.uids,at=et.etag,t(B.onRampFlowRecommendationsReceived(nt,tt,rt,at))),a.type===M.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_FAILED&&(t(B.resetFlowState()),t(x.generalPlayerError())),a.type!==M.UPDATE_PLAYLIST_UIDS_REQUESTED){r.next=157;break}return ot=a.payload,it=ot.playlistId,st=ot.uids,ut=ot.etag,r.prev=147,r.next=150,h(st,it,ut,(0,D.default)(o,"time.now",null),X,t,!0,me);case 150:lt=r.sent,t(B.updatePlaylistUidsSucceeded(lt.id,lt.uids||[],lt.etag)),r.next=157;break;case 154:r.prev=154,r.t6=r.catch(147),t(B.updatePlaylistUidsFailed(r.t6));case 157:if(a.type!==M.UPDATE_PLAYLIST_UIDS_FAILED&&a.type!==M.GET_PLAYLIST_UIDS_FAILED&&a.type!==M.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_FAILED&&a.type!==M.DELETE_PLAYLIST_ITEMS_FAILED&&a.type!==M.ADD_CHANNEL_TO_PLAYLIST_FAILED&&a.type!==M.ADD_PLAYLIST_ITEMS_FAILED||((ct=a.payload)instanceof $.default||ct instanceof ee.default?t(B.resetPlaylistVisualState(!1)):(t(B.initializeFlowState()),t(x.generalPlayerError()))),a.type!==M.GET_PLAYLIST_UIDS_REQUESTED){r.next=170;break}return dt=a.payload,r.prev=160,r.next=163,g(dt,(0,D.default)(o,"time.now",null),X,t,!0,me);case 163:pt=r.sent,t(B.getPlaylistUidsSucceeded(pt.id,pt.uids||[],pt.etag)),r.next=170;break;case 167:r.prev=167,r.t7=r.catch(160),t(B.getPlaylistUidsFailed(r.t7));case 170:if(a.type!==M.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_REQUESTED){r.next=182;break}return ft=a.payload,_t=ft.playlistId,Et=ft.offset,mt=ft.shouldAutoplayOnLoadComplete,r.prev=172,r.next=175,y(_t,Et,(0,D.default)(o,"time.now",null),X,t,!0,me);case 175:gt=r.sent,t(B.loadVisualPlaylistRecommendationsSucceeded(gt.id,gt.items||[],gt.uids||[],gt.etag,mt)),r.next=182;break;case 179:r.prev=179,r.t8=r.catch(172),t(B.loadVisualPlaylistRecommendationsFailed(r.t8));case 182:if(a.type===M.RESET_PLAYLIST_VISUAL_STATE&&(yt=a.payload.shouldAutoplayOnResetComplete,t(B.loadVisualPlaylistRecommendationsRequested(G,0,yt))),a.type===M.REFRESH_PLAYLIST_FLOW_RECOMMENDATIONS&&t(B.sendRatingsRequested()),a.type!==M.DELETE_PLAYLIST_ITEMS_REQUESTED){r.next=231;break}if(ht=a.payload,vt=ht.playlistId,St=ht.uidsToDelete,Ot=ht.etag){r.next=201;break}return r.prev=187,r.next=190,y(vt,0,(0,D.default)(o,"time.now",null),X,t,!0,me);case 190:Tt=r.sent,At=Tt.id,It=Tt.etag,t(B.deletePlaylistItemsRequested(At,St,It)),r.next=199;break;case 196:throw r.prev=196,r.t9=r.catch(187),r.t9;case 199:r.next=231;break;case 201:return bt=(0,C.default)(T),bt=w.default.apply(void 0,[T].concat(le(St))),r.prev=203,r.next=206,h(bt,vt,Ot,(0,D.default)(o,"time.now",null),X,t,!0,me);case 206:Pt=r.sent,t(B.deletePlaylistItemsSucceeded(Pt.id,Pt.uids||[],St,Pt.etag)),r.next=231;break;case 210:if(r.prev=210,r.t10=r.catch(203),!(r.t10 instanceof $.default)){r.next=230;break}return r.next=215,y(vt,0,(0,D.default)(o,"time.now",null),X,t,!0,me);case 215:return Rt=r.sent,vt=Rt.id,Ot=Rt.etag,r.prev=218,r.next=221,h(bt,vt,Ot,(0,D.default)(o,"time.now",null),X,t,!0,me);case 221:Dt=r.sent,t(B.deletePlaylistItemsSucceeded(Dt.id,Dt.uids||[],St,Dt.etag)),r.next=228;break;case 225:r.prev=225,r.t11=r.catch(218),t(B.deletePlaylistItemsFailed(r.t11));case 228:r.next=231;break;case 230:t(B.deletePlaylistItemsFailed(r.t10));case 231:if(a.type!==M.ADD_PLAYLIST_ITEMS_REQUESTED&&a.type!==M.ADD_PLAYLIST_ITEMS_TO_TOP_REQUESTED&&a.type!==M.ADD_PLAYLIST_ITEMS_TO_TOP_AND_PLAY_REQUESTED){r.next=280;break}if(Nt=a.payload,wt=Nt.playlistId,Lt=Nt.uidsToAdd,Mt=Nt.etag,kt=!1,a.type===M.ADD_PLAYLIST_ITEMS_TO_TOP_AND_PLAY_REQUESTED&&(kt=!0),Mt){r.next=250;break}return r.prev=236,r.next=239,y(wt,0,(0,D.default)(o,"time.now",null),X,t,!0,me);case 239:Ut=r.sent,xt=Ut.id,Ft=Ut.etag,a.type===M.ADD_PLAYLIST_ITEMS_REQUESTED?t(B.addPlaylistItemsRequested(xt,Lt,Ft)):a.type===M.ADD_PLAYLIST_ITEMS_TO_TOP_REQUESTED?t(B.addPlaylistItemsToTopRequested(xt,Lt,Ft)):a.type===M.ADD_PLAYLIST_ITEMS_TO_TOP_AND_PLAY_REQUESTED&&t(B.addPlaylistItemsToTopAndPlayRequested(xt,Lt,Ft)),r.next=248;break;case 245:throw r.prev=245,r.t12=r.catch(236),r.t12;case 248:r.next=280;break;case 250:return Gt=w.default.apply(void 0,[(0,C.default)(T)].concat(le(Lt))),a.type===M.ADD_PLAYLIST_ITEMS_REQUESTED?Gt.push.apply(Gt,le(Lt)):Gt.unshift.apply(Gt,le(Lt)),r.prev=252,r.next=255,h(Gt,wt,Mt,(0,D.default)(o,"time.now",null),X,t,!0,me);case 255:jt=r.sent,t(B.addPlaylistItemsSucceeded(jt.id,Lt,jt.uids||[],jt.etag,kt)),r.next=280;break;case 259:if(r.prev=259,r.t13=r.catch(252),!(r.t13 instanceof $.default)){r.next=279;break}return r.next=264,y(wt,0,(0,D.default)(o,"time.now",null),X,t,!0,me);case 264:return Yt=r.sent,wt=Yt.id,Mt=Yt.etag,r.prev=267,r.next=270,h(Gt,wt,Mt,(0,D.default)(o,"time.now",null),X,t,!0,me);case 270:Kt=r.sent,t(B.addPlaylistItemsSucceeded(Kt.id,Lt,Kt.uids||[],Kt.etag,kt)),r.next=277;break;case 274:r.prev=274,r.t14=r.catch(267),t(B.addPlaylistItemsFailed(r.t14));case 277:r.next=280;break;case 279:r.t13,ee.default,t(B.addPlaylistItemsFailed(r.t13));case 280:if(a.type===M.ADD_PLAYLIST_ITEMS_SUCCEEDED&&(nn=a.payload,rn=nn.shouldImmediatelyPlayFromTop,nn.uids,t(te.subpaneChangeWithExpand(ne.SUBPANE_PLAYLIST,rn))),a.type===M.SPONSORSHIP_CHANNEL_ADD_TO_PLAYLIST&&(an=a.payload.channel,t(B.addChannelToPlaylistRequested(G,an,W))),a.type!==M.ADD_CHANNEL_TO_PLAYLIST_REQUESTED){r.next=327;break}if(on=a.payload,dn=on.playlistId,pn=on.channelId,_n=on.etag){r.next=299;break}return r.prev=285,r.next=288,y(dn,0,(0,D.default)(o,"time.now",null),X,t,!0,me);case 288:En=r.sent,mn=En.id,gn=En.etag,t(B.addChannelToPlaylistRequested(mn,pn,gn)),r.next=297;break;case 294:throw r.prev=294,r.t15=r.catch(285),r.t15;case 297:r.next=327;break;case 299:return r.prev=299,r.next=302,v(dn,pn,_n,(0,D.default)(o,"time.now",null),X,t,!0,me);case 302:yn=r.sent,t(B.addChannelToPlaylistSucceeded(yn.id,pn,yn.uids||[],yn.etag)),r.next=327;break;case 306:if(r.prev=306,r.t16=r.catch(299),!(r.t16 instanceof $.default)){r.next=326;break}return r.next=311,y(dn,0,(0,D.default)(o,"time.now",null),X,t,!0,me);case 311:return hn=r.sent,dn=hn.id,_n=hn.etag,r.prev=314,r.next=317,v(dn,pn,_n,(0,D.default)(o,"time.now",null),X,t,!0,me);case 317:vn=r.sent,t(B.addChannelToPlaylistSucceeded(vn.id,pn,vn.uids||[],vn.etag)),r.next=324;break;case 321:r.prev=321,r.t17=r.catch(314),t(B.addChannelToPlaylistFailed(r.t17));case 324:r.next=327;break;case 326:r.t16,ee.default,t(B.addChannelToPlaylistFailed(r.t16));case 327:if(a.type===M.ADD_CHANNEL_TO_PLAYLIST_SUCCEEDED&&t(te.subpaneChangeWithExpand(ne.SUBPANE_PLAYLIST,!1)),a.type===M.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_SUCCEEDED&&(Sn=a.payload.recommendations,t(j.metadatasLoaded(Sn))),a.type===M.SUBPANE_CHANGE_WITH_EXPAND&&(On=a.payload,Tn=On.shouldAutoplayOnNavComplete,On.pane===ne.SUBPANE_PLAYLIST&&t(B.resetPlaylistVisualState(Tn))),a.type!==M.LISTENING_HISTORY_REQUESTED){r.next=341;break}return r.prev=331,r.next=334,m((0,D.default)(o,"time.now",null),X,t,!0,me);case 334:An=r.sent,t(B.listeningHistorySucceeded(An)),r.next=341;break;case 338:r.prev=338,r.t18=r.catch(331),t(B.listeningHistoryFailed());case 341:if(a.type===M.LISTENING_HISTORY_FAILED&&(t(B.resetFlowState()),t(x.generalPlayerError())),a.type!==M.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_REQUESTED){r.next=353;break}return r.prev=343,r.next=346,sn((0,D.default)(o,"time.now",null),X,t,!0,me);case 346:In=r.sent,t(B.getNewscastRecommendationsOnRampSucceeded(In)),r.next=353;break;case 350:r.prev=350,r.t19=r.catch(343),t(B.getNewscastRecommendationsOnRampFailed());case 353:if(a.type===M.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED&&(bn=a.payload,t(B.onRampFlowRecommendationsReceived(bn)),t(te.onDemandPaneSelected()),t(te.subpaneChangeDirect(ne.SUBPANE_NPR_ONE_MIX))),a.type===M.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_FAILED&&(t(B.resetFlowState()),t(x.generalPlayerError())),a.type!==M.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_REQUESTED){r.next=367;break}return Pn=a.payload.channel,r.prev=357,r.next=360,R(Pn,(0,D.default)(o,"time.now",null),X,t,!0,me);case 360:Rn=r.sent,t(B.getListeningRecommendationsFromChannelOnRampSucceeded(Pn,Rn)),r.next=367;break;case 364:r.prev=364,r.t20=r.catch(357),t(B.getListeningRecommendationsFromChannelOnRampFailed());case 367:if(a.type===M.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_SUCCEEDED&&(Dn=a.payload.recommendations,t(B.onRampFlowRecommendationsReceived(Dn))),a.type===M.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_FAILED&&(t(B.resetFlowState()),t(x.generalPlayerError())),a.type===M.RESET_FLOW_STATE&&de===ne.SUBPANE_PLAYLIST&&t(B.loadVisualPlaylistRecommendationsRequested(G,0,!1)),a.type===M.ADD_STAGED_RATING_AND_SEND&&t(B.sendRatingsRequested()),a.type!==M.INITIALIZE_FEATURED_AUDIO_REQUESTED){r.next=386;break}return Nn=a.payload,wn=Nn.featuredAudioProgramUid,Cn=Nn.featuredAudioText,Ln=Nn.featuredAudioImage,r.next=375,ln(wn,(0,D.default)(d,"time.now",null),X,t,!1,me);case 375:return Mn=r.sent,kn=(0,N.default)(Mn),Un=kn.uid,xn=new Date(kn.date).toLocaleString("en-US",{timeZone:"America/New_York"}),(Fn=new Date).setHours(Fn.getHours()-12),Fn=Fn.toLocaleString("en-US",{timeZone:"America/New_York"}),r.next=384,un(Un,(0,D.default)(d,"time.now",null),X,t,!1,me);case 384:(Gn=r.sent)&&xn>Fn&&(jn=[Gn],t(j.metadatasLoaded(jn)),t(H.initializeFeaturedAudioSucceded(wn,Un,Cn,Ln)));case 386:if(a.type!==M.NEW_PLAY_REQUESTED){r.next=396;break}Bn=a.payload,Hn=Bn.metadata,Wn=Bn.startPosition,Vn=Bn.shouldImmediatelyPlay,Yn=a.meta,r.t21=Hn.type,r.next=r.t21===k.STREAM?392:r.t21===k.SEGMENT||r.t21===k.SPONSORSHIP?394:396;break;case 392:return t(x.audioReceived(Hn,Yn)),r.abrupt("break",396);case 394:return t(x.newAudioSegmentPlayRequested(Hn,Yn,Wn,Vn)),r.abrupt("break",396);case 396:if(a.type!==M.NEW_AUDIO_SEGMENT_PLAY_REQUESTED){r.next=426;break}if(qn=a.payload,Qn=qn.metadata,Kn=qn.startPosition,zn=qn.shouldImmediatelyPlay,Jn=a.meta,Xn=d.time,!Ct(Qn,Xn)){r.next=404;break}t(x.audioExpired(Qn,{reason:"Audio rights expired"})),r.next=426;break;case 404:if(!zn){r.next=425;break}if(!(0,re.isNewscastAudio)(Qn)||Ee){r.next=410;break}t(x.audioReceived(Qn,Jn,Kn,!0)),Qn.rating?t(B.addStagedRatingAndSend(Qn.rating)):t(B.sendRatingsRequested()),r.next=423;break;case 410:if(Ee){r.next=414;break}!Jn||"from playlist"!=Jn.playedFrom&&"from pane playlist"!=Jn.playedFrom&&"from initial state first item in queue"!=Jn.playedFrom?fe&&"from page"==Jn.playedFrom?t(B.getListeningRecommendationsByMediaIdWithBingeOnRampRequested(Qn.uid,pe,Kn)):"featured promo card"===Jn.playedFrom?t(B.getListeningRecommendationsByMediaIdOnRampRequested(Qn.uid,Kn,"PROMO")):t(B.getListeningRecommendationsByMediaIdOnRampRequested(Qn.uid,Kn,"")):t(B.playAudioFromPlaylist(Qn.uid,Kn)),r.next=423;break;case 414:if(!(0,re.isNewscastAudio)(Qn)){r.next=418;break}t(x.audioReceived(Qn,Jn,Kn,!1)),r.next=423;break;case 418:return r.next=420,cn(Qn.uid,(0,D.default)(d,"time.now",null),X,t,!0,me);case 420:Zn=r.sent,t(j.metadataLoaded(Zn)),t(x.audioReceived(Zn,Jn,Kn,!0));case 423:r.next=426;break;case 425:t(x.audioReceived(Qn,Jn,Kn,!1));case 426:return a.type===M.PLAY_PAUSE_REQUESTED&&($n=a.payload,er=a.meta||{},(tr=o.player.userEverInvokedPlay)||(0,J.engageAutoplayHack)(),o.player.currentUid!==$n.uid||tr?o.player.currentUid===$n.uid?t(x.togglePlay($n,er)):t(x.newPlayRequested($n,er,0,!0)):(nr=0,o&&o.player&&(nr=o.player.position||0),rr=_r($n,o.time,nr,er,I),t(rr()))),r.abrupt("return",c);case 428:case"end":return r.stop()}var ar}),r,void 0,[[56,67],[76,83],[90,97],[104,111],[118,125],[133,140],[147,154],[160,167],[172,179],[187,196],[203,210],[218,225],[236,245],[252,259],[267,274],[285,294],[299,306],[314,321],[331,338],[343,350],[357,364]])}))),function(e){return r.apply(this,arguments)};var r}};function _r(e,t,n,r,a){return Ct(e,t)?function(){return x.audioExpired(e,{reason:"Audio rights expired"})}:(a&&(r.playedFrom="from playlist"),n>0?function(){return x.newPlayRequested(e,r,n,!0)}:function(){return x.newPlayRequested(e,r,0,!0)})}t.default=fr},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendPageView=void 0;var r=d(n(20)),a=d(n(12)),o=d(n(380)),i=c(n(38)),s=c(n(167)),u=d(n(5)),l=c(n(149));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var p=r.default.create();p.name="googletag";var f=!1;p.init=function(){var e=(0,u.default)(window,"NPR.ServerConstants.gtmKey"),t=document.getElementsByTagName("script")[0],n=document.createElement("script");n.text="(function() {            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);            })(window,document,'script', 'dataLayer', '"+e+"');        })();",t.parentNode.insertBefore(n,t)},p.register(),t.sendPageView=function(){try{(new o.default).loadPageviewData().then((function(e){var t=s.getPageViewCustomDimensions(e),n=l.createPageViewVars(t);f?l.sendGTMEvent(i.GTM_LATER_VIEW,n):(f=!0,l.sendGTMEvent(i.GTM_FIRST_VIEW,n),t.isMobileNativeApp&&l.sendGTMEvent(i.ONETRUST_GROUPS_UPDATED,{OnetrustActiveGroups:",C0001,C0002,C0003,C0004,"}))})).catch((function(e){a.default.error("Error loading page view data: "+e)}))}catch(e){a.default.error(e)}}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1)),a=(s(n(4)),n(10)),o=(s(n(5)),s(n(197))),i=s(n(31));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.connect)(null,(function(e){return{handleSetSource:function(t){return e(o.default.handleSetSource(t))}}}))((function(e){var t=this,n=e.org,a=void 0===n?null:n,o=e.overrideClasses,s=void 0===o?"":o,u=e.overrideText,l=void 0===u?"":u,c=e.addLogo,d=void 0!==c&&c,p=(e.onClick,e.handleSetSource,e.metricsCategory,e.creativeSlot),f=void 0===p?"":p,_=e.isSmallBreakpointAndInNav,E=void 0===_?null:_,m=function(){var e=t.props,n=e.handleSetSource,r=e.metricsCategory,a=e.onClick;"function"==typeof n&&n({source:r}),"function"==typeof a&&a()},g={category:"donation",action:"select_promotion",clickName:"click station donation",clickUrl:"/donations/support",formType:"NPR stripe form",creativeSlot:f,donationStationType:"on site donation form"},y={category:"donation",action:"select_promotion",clickName:"click dropdown station donation",clickUrl:"/donations/support",formType:"NPR stripe form",creativeSlot:f,donationStationType:"on site donation form"},h={category:"donation",action:"select_promotion",clickName:"click dropdown network donation",clickUrl:"https://contribute.npr.org/",formType:"springboard form",creativeSlot:f,donationStationType:"on site donation form"};return null==E||E?r.default.createElement("div",null,r.default.createElement(i.default,{className:s||"donation-links__button",href:"/donations/support",metricsGA4:g,onClickHandler:m},d&&a&&a.logoUrl&&r.default.createElement("img",{src:a.logoUrl,alt:"Logo for "+a.name,className:"donation-links__logo"}),d&&a&&!a.logoUrl&&r.default.createElement("span",{className:"donation-links__button--org-name"},a.name),s?l||"donate now":r.default.createElement("span",{className:"navigation__donate"},l||"donate now"))):r.default.createElement("div",null,r.default.createElement(i.default,{className:s||"donation-links__button",href:"/donations/support",metricsGA4:g,onClickHandler:m},r.default.createElement("span",{className:"navigation__donate"},"Donate")),r.default.createElement("ul",{className:"donation_link_options"},r.default.createElement("li",null,r.default.createElement(i.default,{className:s||"donation-links__button",href:"/donations/support",metricsGA4:y,onClickHandler:m},d&&a&&a.logoUrl&&r.default.createElement("img",{src:a.logoUrl,alt:"Logo for "+a.name,className:"donation-links__logo"}),d&&a&&!a.logoUrl&&r.default.createElement("span",{className:"donation-links__button--org-name"},a.name),r.default.createElement("span",{className:"donation_link_station"},"Local Station"))),r.default.createElement("li",null,r.default.createElement(i.default,{className:s||"donation-links__button",href:"https://contribute.npr.org/",metricsGA4:h,onClickHandler:m},r.default.createElement("span",{className:"donation_link_station"},"NPR Network")))))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=l(a),i=(l(n(4)),n(145)),s=n(89),u=l(n(500));!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(150));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onAddToQueue=function(){r.props.audio.isQueued||r.props.onAddToQueue(r.props.audio.uid)},r.onRemoveFromQueue=function(){r.props.onRemoveFromQueue(r.props.audio.uid)},r.onPlayPauseRequested=function(){r.props.onPlayPauseRequested(r.props.audio,{playedFrom:r.props.playedFrom})},r.getAudioInfoComponents=function(){var e=[];r.props.audio.slug&&e.push(o.default.createElement("h4",{className:"playable-item__slug",key:0},r.props.audio.slug));return e.push(o.default.createElement("h2",{className:"playable-item__title",key:1},r.props.audio.title)),r.props.audio.affiliation&&e.push(o.default.createElement("p",{className:"playable-item__affiliation",key:2},r.props.audio.affiliation)),e.push(o.default.createElement("time",{className:"playable-item__duration",dateTime:(0,i.secondsAsHtmlDuration)(r.props.audio.duration),key:3},(0,i.secondsAsHMMSS)(r.props.audio.duration))),r.props.audio.date&&r.props.isForNPROneMixCard&&e.push(o.default.createElement("div",{className:"playable-item__metadata",key:4},o.default.createElement("time",{dateTime:r.props.audio.date},r.formatTimeStamp(r.props.audio.date)),r.props.audio.program?o.default.createElement("span",{className:"playable-item__program"},"  ",r.props.audio.program):"",r.props.audio.provider?o.default.createElement("span",{className:"playable-item__provider"},"  ",r.props.audio.provider):"")),e},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatTimeStamp",value:function(e){var t=new Date(e),n=new Date,r=t.toDateString()===n.toDateString(),a=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}),o=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return r?"Today "+o.format(t):""+a.format(t)}},{key:"render",value:function(){var e=null;this.props.isFromQueue||(e=this.props.derivedMetadata?this.props.derivedMetadata.isAwaitingData:this.props.audio.isAwaitingData);var t=["playable-item__play",this.props.derivedMetadata?(0,s.getSegmentPlayButtonIconClass)(this.props.derivedMetadata.isLoading,this.props.derivedMetadata.isPlaying,e,this.props.derivedMetadata.isPlayRequested):(0,s.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying,e,this.props.audio.isPlayRequested)],n=["playable-item__queue",this.props.audio.isQueued?"icn-playlist-added":"icn-playlist"],r=["playable-item-wrap",this.props.isRecommendation?"playable-item-wrap--recommendation":"",this.props.audio.rawType?this.props.audio.rawType:""];return o.default.createElement("li",{className:r.join(" ")},o.default.createElement("article",{className:"playable-item"},o.default.createElement("div",{className:"playable-item__controls"},o.default.createElement("button",{className:t.join(" "),onClick:this.onPlayPauseRequested,disabled:this.props.isAwaitingData},"Play"),!this.props.isSmallBreakpoint&&o.default.createElement("button",{className:n.join(" "),onClick:this.onAddToQueue},"Queue"),o.default.createElement("time",{className:"playable-item__duration",dateTime:(0,i.secondsAsHtmlDuration)(this.props.audio.duration)},(0,i.secondsAsHMMSS)(this.props.audio.duration))),this.props.isSmallBreakpoint&&o.default.createElement("a",{className:"playable-item__link",onClick:this.onPlayPauseRequested},this.getAudioInfoComponents()),!this.props.isSmallBreakpoint&&this.props.audio.storyUrl&&o.default.createElement(u.default,{linkClass:"playable-item__link",href:this.props.audio.storyUrl,metricsGA4:this.props.titleClickMetrics,onLinkClick:this.props.onLinkClick},this.getAudioInfoComponents()),!this.props.isSmallBreakpoint&&!this.props.audio.storyUrl&&o.default.createElement("div",{className:"playable-item__info"},this.getAudioInfoComponents()),this.props.shouldShowRemoveLink&&o.default.createElement("button",{className:"icn-remove playable-item__remove",onClick:this.onRemoveFromQueue,disabled:this.props.isAwaitingData},"Remove from queue")))}}]),t}(a.Component);t.default=p,p.defaultProps={isRecommendation:!1,onLinkClick:function(){},playMode:"",derivedMetadata:null,isFromQueue:!1,titleClickMetrics:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newscastRequested=function(e){return{type:r.NEWSCAST_REQUESTED,payload:{orgId:e}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAGE="page",t.PLAYER="player",t.SPONSORSHIP="sponsorship"},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAYMENT_METHOD={CREDIT_CARD:"Credit Card",BROWSER_PAY:"Express Pay"},t.STRIPE_PAYMENT_METHOD_TYPES={CREDIT_CARD:"card"},t.BROWSER_PAY={APPLE_PAY:"Apple Pay",BROWSER_PAY:"Express Pay"},t.STRIPE_RESPONSES={INCORRECT_NUMBER:"incorrect_number",INCOMPLETE_NUMBER:"incomplete_number",INCOMPLETE_CVC:"incomplete_cvc",INVALID_NUMBER:"invalid_number",INVALID_EXPIRATION:"invalid_expiry_year_past",INCOMPLETE_EXPIRATION:"incomplete_expiry",CARD_DECLINED:"card_declined"},t.DEFAULT_SUBSCRIPTION_AMOUNTS=[8,15,30,50,100],t.DEFAULT_ONETIME_AMOUNTS=[75,150,365,500,1e3],t.DEFAULT_EMBED_AMOUNTS=[25,50,75,100],t.HONOR_TEXT=["In Honor of","In Memory of"],t.STRIPE_STATUSES={SUCCEEDED:"succeeded",COMPLETED:"completed",INCOMPLETED:"incompleted",REQUIRES_ACTION:"requires_action",REQUIRES_PAYMENT_METHOD:"requires_payment_method"},t.ERROR_FLAGS={EMPTY:"empty",INVALID:"invalid",CHAR_LIMIT:"You've reached your character limit.",INPUT_REQUIRED:"This field is required.",INVALID_CVC:"Please enter a valid security code",INVALID_DETAILS:"Please enter valid payment details",INVALID_LOW_AMOUNT:"Please enter an amount of $5 or more.",INVALID_HIGH_AMOUNT:"Please enter an amount less than $999,999.99",INVALID_EMAIL:"Please enter a valid email address.",INVALID_EXPIRATION:"Please enter a valid four digit expiration month and year",INVALID_NUMBER:"Please enter a valid credit card number",NO_RESULTS:"No results. Try searching by ZIP code, city, state or station above.",NO_SEARCH_RESULTS:"Please enter a valid ZIP code, city, or station.",SELECET_REQUIRED:"Please select a value.",TOP_TITLE_ERROR:"Please complete the following fields.",UNAVAILABLE:"Network error. Refresh your page and try again.",UNAVAILABLE_COMMENT:"Sorry we weren't able to capture your comment",TO_MANY_REQUEST:"Sorry we aren't able to process your gift."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideNPRPlusModal=t.showNPRPlusModal=void 0,t.initialPlusContentPropertiesForRenderedPageIngested=function(e,t,n,a,o){return{type:r.INITIAL_PLUS_CONTENT_PROPERTIES_FOR_RENDERED_PAGE_INGESTED,payload:{hasPremiumPodcastChannelContent:e,podcastEpisodeRawType:t,podcastEpisodeDerivedPlusType:n,podcastChannelParentId:a,podcastEpisodeContentCharacteristicsList:o}}},t.additionalPodcastEpisodesMadeAvailableOnPage=function(e){return{type:r.ADDITIONAL_PODCAST_EPISODES_MADE_AVAILABLE_ON_PAGE,payload:{additionalPodcastEpisodeCharacteristics:e}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.showNPRPlusModal=function(){return{type:r.SHOW_NPR_PLUS_MODAL}},t.hideNPRPlusModal=function(){return{type:r.HIDE_NPR_PLUS_MODAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalAlertVariationDetermined=t.hideGlobalAlerts=t.checkGlobalAlerts=t.showGlobalModal=t.showGlobalStickybar=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.showGlobalStickybar=function(){return{type:r.SHOW_GLOBAL_STICKYBAR}},t.showGlobalModal=function(){return{type:r.SHOW_GLOBAL_MODAL}},t.checkGlobalAlerts=function(e){return{type:r.CHECK_GLOBAL_ALERTS,payload:e}},t.hideGlobalAlerts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:r.HIDE_GLOBAL_ALERTS,payload:e}},t.globalAlertVariationDetermined=function(e,t){return{type:r.GLOBAL_ALERT_VARIATION_DETERMINED,payload:{globalAlertType:e,globalAlertId:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEndOfStoryEmbeddedInfo=t.getEndOfStoryCtaInfo=t.isOnEndOfStoryCalloutPage=void 0;var r,a=n(5),o=(r=a)&&r.__esModule?r:{default:r},i=n(122),s=n(263),u=n(148);n(55);var l={},c={};t.isOnEndOfStoryCalloutPage=function(e,t,n){if(Object.keys(l).length<1)return!1;var r=!0;(0,s.isNationalStationStory)()&&(r=!1),document.body.classList.contains("multimedia")&&(r=!1),(0,i.isBlockListed)(window.location.href)&&(r=!1),t.aggLandingPages.length&&!(0,u.isOnStickybarPage)(e,t)&&(r=!1);var a=(0,o.default)(NPR,"serverVars.aggIds",[]);return t.dontShow.some((function(e){return a.includes(e)}))&&!n&&(r=!1),r},t.getEndOfStoryCtaInfo=function(){return l},t.getEndOfStoryEmbeddedInfo=function(){return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var a={handleSetState:function(e){return{type:r.SET_STATE,payload:{id:e}}},handleSetSource:function(e){return{type:r.SET_SOURCE,payload:{id:e}}},handleSetOtherAmount:function(e,t){return{type:r.SET_OTHER_AMOUNT,payload:{amountSelection:e,isRecurring:t}}},handleResetOtherAmount:function(){return{type:r.RESET_OTHER_AMOUNT}},donationFormCompleted:function(e,t,n,a){return{type:r.DONATION_FORM_COMPLETED,payload:{email:e,station:t,isSubscription:n,campaign:a}}},donationFormFailed:function(e,t,n,a){return{type:r.DONATION_FORM_FAILED,payload:{email:e,station:t,isSubscription:n,campaign:a}}},clickDonate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:r.CLICK_DONATE,payload:{metricsLocation:e}}},amountSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:r.AMOUNT_SELECTED,payload:{metricsLocation:e,buttonPosition:t}}}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPlaylistUrl=function(e){var t=e.indexOf("?"),n=void 0;if(-1!==t){n=e.slice(0,t);var a=e.slice(t+1).toLowerCase();if(r.some((function(e){return-1!==a.indexOf(e)})))return!0}else n=e;return-1!==r.indexOf(n.substr(-3).toLowerCase())},t.deObfuscateUrl=function(e){return"http"!==e.substring(0,4)?window.atob(e):e};var r=["m3u","pls"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CENTER_STAGE="centerstage",t.NONE=0,t.INELIGIBLE=1,t.AD=2,t.NEWSLETTER=3,t.PODCAST=4,t.STATION=5,t.DONATION=6},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sponsorshipStarted=function(e,t,n){return{type:r.SPONSORSHIP_STARTED,payload:{metadata:e,uid:t,breakpoint:n}}},t.sponsorshipLoaded=function(e){return{type:r.SPONSORSHIP_LOADED,payload:e}},t.sponsorshipSlotAvailable=function(){return{type:r.SPONSORSHIP_SLOT_AVAILABLE}},t.setMobileSponsorshipSlotAvailable=function(){return{type:r.MOBILE_SPONSORSHIP_SLOT_AVAILABLE}},t.sponsorshipDivsReset=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:r.SPONSORSHIP_DIVS_RESET,payload:{resetSponsorshipDiv:e,resetLeaveBehindDiv:t}}},t.sponsorshipInterrupted=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:r.SPONSORSHIP_INTERRUPTED,payload:{retainLeaveBehind:e}}},t.sponsorshipStateReverted=function(){return{type:r.SPONSORSHIP_STATE_REVERTED}},t.sponsorshipRequested=function(e){return{type:r.SPONSORSHIP_REQUESTED,payload:e}},t.sponsorshipClickedThrough=function(){return{type:r.SPONSORSHIP_CLICKED_THROUGH}},t.soundscapesLoaded=function(e,t){return{type:r.SOUNDSCAPES_LOADED,payload:{metadata:e,breakpoint:t}}},t.soundscapesBannerClicked=function(e){return{type:r.SOUNDSCAPES_BANNER_CLICKED,payload:{uid:e}}},t.sponsorshipChannelAddToPlaylist=function(e){return{type:r.SPONSORSHIP_CHANNEL_ADD_TO_PLAYLIST,payload:{channel:e}}};var r=a(n(2));a(n(28));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},function(e,t,n){var r,a;
/*!
 * JavaScript Cookie v2.0.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */void 0===(a="function"==typeof(r=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,a,o){var i;if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{i=JSON.stringify(a),/^[\{\[]/.test(i)&&(a=i)}catch(e){}return a=(a=encodeURIComponent(String(a))).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",a,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(i={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,c=0;c<u.length;c++){var d=u[c].split("="),p=d[0].replace(l,decodeURIComponent),f=d.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{if(f=n&&n(f,p)||f.replace(l,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===p){i=f;break}t||(i[p]=f)}catch(e){}}return i}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}()})?r.call(t,n,t,e):r)||(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModalLocalizationInfo=t.getModalEmbedInfo=t.getModalInfo=t.getModalMaxSees=t.isWithinAnyModalPeriod=void 0;var r=n(122);n(55);n(694);var a={},o={},i={},s=[i,o,a];t.isWithinAnyModalPeriod=function(){var e=!0,t=!1,n=void 0;try{for(var a,o=s[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var i=a.value;for(var u in i)if((0,r.isWithinThisGlobalAlertPeriod)(i[u]))return!0}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}return!1},t.getModalMaxSees=function(){return 3},t.getModalInfo=function(){return a},t.getModalEmbedInfo=function(){return o},t.getModalLocalizationInfo=function(){return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GRANT_TYPE_AUTHENTICATED="authenticated",t.GRANT_TYPE_ANONYMOUS="anonymous"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(8)),a=c(n(12)),o=n(120),i=l(o),s=l(o),u=n(146);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0;d=n(143).default;var p=function(e){this.location=e.location,this.canonicalLocation=e.location,this.network=e.network,d.isScreenSmallerOrEqual(d.BREAKPOINT.MEDIUM)?this.site=Object.prototype.hasOwnProperty.call(e.site,"mobile")?e.site.mobile:e.site.default:this.site=Object.prototype.hasOwnProperty.call(e.site,"desktop")?e.site.desktop:e.site.default,this.zone=e.zone,this.targets=e.targets,this.deferred=e.deferred,this.slot=null,this.hasRefreshEnabled=e.hasRefreshEnabled,this.isOutstreamVideoEnabled=e.isOutstreamVideoEnabled};p.prototype.createAdSlot=function(){var e=this.getAdSlotName(),t=this.zone?"/"+this.zone:"",n=""+this.network+this.site+t;this.slot=googletag.defineSlot(n,this.getSizes(),e).addService(googletag.pubads()),a.default.info("DFP: defineSlot() ad slot:",e)},p.prototype.getAdSlotName=function(){return(0,u.constructAdSlotName)(this.location,this.zone)},p.prototype.getSizes=function(e){var t=!!e,n=(0,r.default)((0,r.default)("#ad-"+this.location+"-wrap").get(0));switch(this.canonicalLocation){case i.STANDARD:return[[300,250],[300,600]];case i.CENTERSTAGE:var a=t?[]:[[1300,250],[1300,450]];return d.isScreenSmallerOrEqual(d.BREAKPOINT.MEDIUM)&&(a.push([300,250]),"aps"!==e&&a.push([325,508],[325,204]),this.isOutstreamVideoEnabled&&!t&&a.push([320,240])),n.innerWidth()>=620&&"aps"!==e&&a.push([620,366]),n.innerWidth()>=728&&a.push([728,90]),n.innerWidth()>=970&&a.push([970,250]),a;case i.MAINSTAGE:var o=[];return d.isScreenSmallerOrEqual(d.BREAKPOINT.MEDIUM)&&(o.push([300,250]),"aps"!==e&&o.push([325,508],[325,204])),n.innerWidth()>=620&&"aps"!==e&&o.push([620,366]),n.innerWidth()>=970&&o.push([970,250]),t||o.push([1300,250]),o;case i.BACKSTAGE:var s=[[300,250]];return d.isScreenSmallerOrEqual(d.BREAKPOINT.MEDIUM)&&"aps"!==e&&s.push([325,508],[325,204]),t||(s.push([1300,250],[1300,450]),s.push(["fluid"]),this.isOutstreamVideoEnabled&&s.push([320,240])),n.innerWidth()>=620&&"aps"!==e&&s.push([620,366]),n.innerWidth()>=728&&s.push([728,90]),n.innerWidth()>=970&&s.push([970,250]),s;case i.PODCASTS_SHOWS_DIRECTORY_ONE:case i.PODCASTS_SHOWS_DIRECTORY_TWO:var u=d.isScreenSmallerOrEqual(d.BREAKPOINT.MEDIUM)?[[300,250]]:[];return t||(u.push([1300,250]),u.push(["fluid"])),n.innerWidth()>=970&&u.push([970,250]),u;case i.SPICE_RACK:return["fluid"];case i.THIRD:case i.OVERFLOW_1:case i.OVERFLOW_2:case i.OVERFLOW_3:case i.OVERFLOW_4:case i.OVERFLOW_5:case i.OVERFLOW_6:case i.OVERFLOW_7:case i.END_OF_STORY:case i.SECONDARY:var l=[[300,250]];return d.isScreenSmallerOrEqual(d.BREAKPOINT.MEDIUM)&&"aps"!==e&&l.push([325,508],[325,204]),t||l.push([1300,250]),n.innerWidth()>=620&&"aps"!==e&&l.push([620,366]),n.innerWidth()>=970&&l.push([970,250]),n.innerWidth()>=728&&l.push([728,90]),l;case i.PLAYER_PRIMARY:return[[300,250],[300,600]];case i.PLAYER_LEAVEBEHIND:return[300,100];case i.PLAYER_MOBILE_PRIMARY:return[640,100];default:return[300,250]}},p.prototype.shouldRender=function(){if(!this.canonicalLocation)return!1;var e=!(0,r.default)("html").hasClass("has-page-engaged-player");switch(this.canonicalLocation){case s.STANDARD:return!d.isOnPhone()&&!d.isOnTablet()&&d.isScreenLargerOrEqual(d.BREAKPOINT.LARGE)&&e;case s.MAINSTAGE:case s.CENTERSTAGE:case s.BACKSTAGE:case s.PLAYER_PRIMARY:case s.PLAYER_LEAVEBEHIND:case s.SPICE_RACK:case s.PODCASTS_SHOWS_DIRECTORY_ONE:case s.PODCASTS_SHOWS_DIRECTORY_TWO:case s.SECONDARY:case s.THIRD:case s.OVERFLOW_1:case s.OVERFLOW_2:case s.OVERFLOW_3:case s.OVERFLOW_4:case s.OVERFLOW_5:case s.OVERFLOW_6:case s.OVERFLOW_7:case s.END_OF_STORY:return!0;case s.PLAYER_MOBILE_PRIMARY:return d.isScreenSmaller(d.BREAKPOINT.LARGE);default:return!1}},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSponsorshipCustomChannelData=t.sponsorship=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.fetchSponsorshipCustomChannelData=(r=N(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,S.getChannelAudioItems)(t,n).then((function(e){e.filter((function(e){return!/AdswizzAd/.test(e.uid)&&e.audioUrl})).forEach((function(e){w(E.metadataLoaded(a({},e,{channel:t})))}))})).catch((function(e){return l.default.info(e)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)});t.loadSoundscapes=x,t.handleMessageForListen=F,t.handleMessageForQueue=G,t.handleMessageForLeaveBehindListen=j,t.handleMessageForLeaveBehindQueue=B,t.playerMessageEventCallback=function(e){if(!(0,O.isValidPlayerMessageEvent)(e))return;var t=e.data,n=e.source.frameElement.parentElement.parentElement.id,r=(0,v.getLocationFromAdSlotName)(n),a=e.source.document.getElementById("sponsorship-data");t===_.LISTEN?F(a,r):t===_.QUEUE?G(a):t===_.LEAVE_BEHIND_LISTEN?j(a):t===_.LEAVE_BEHIND_QUEUE&&B(a)};var i=D(n(8)),s=D(n(109)),u=D(n(5)),l=D(n(12)),c=R(n(34)),d=R(n(2)),p=R(n(24)),f=R(n(120)),_=R(n(377)),E=R(n(43)),m=R(n(200)),g=R(n(28)),y=R(n(93)),h=n(111),v=n(146),S=n(150),O=n(262),T=n(171),A=n(15),I=n(119),b=n(35),P=D(n(21));function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return e&&e.__esModule?e:{default:e}}function N(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var w=void 0,C=void 0,L=void 0,M=void 0,k=t.sponsorship=function(e){var t=e.dispatch,n=e.getState;return function(e){return r=N(regeneratorRuntime.mark((function r(i){var c,f,_,y,v,R,D,N,k,F,G,j,B,H;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return w=t,c=n(),C=c,M=c.metadata,(0,O.shouldUnloadSponsorshipMetadata)(i)&&t(E.metadataUnloaded(i.payload.uid)),f=e(i),_=n(),y=(0,u.default)(_,"user",{}),v=(0,u.default)(_,"player",{}),R=(0,u.default)(_,"metadata",{}),D=(0,u.default)(_,"listeningService",{}),N=P.default.isMobileNativeApp((0,b.getRenderPlatform)(_)),L=_,i.type===d.SKIP&&(k=(0,u.default)(c,"player.currentUid"),(0,I.getMetadataTypeForUid)(c.metadata,k)===p.SPONSORSHIP&&t(m.sponsorshipStateReverted())),(0,O.shouldSendMessageToCreative)(c,i.type)&&(0,O.sendMessageToCreative)(_,c,i),!c.sponsorship.isFetchingSponsorship&&_.sponsorship.isFetchingSponsorship&&i.type===d.SPONSORSHIP_REQUESTED&&U(v,R,D),i.type===d.SOUNDSCAPES_LOADED&&(F=i.payload.metadata,t(g.audioReceived(F))),(0,O.shouldFetchSponsorship)(c,_,i)&&(G=(0,u.default)(_,"player.pendingUid",null)||(0,u.default)(_,"player.currentUid",null)||(0,u.default)(c,"player.pendingUid",null)||(0,u.default)(c,"player.currentUid",null),j=(0,h.getStoryIdFromUid)(G),B=null,(0,A.isCurrentFlowTypeChannelFlow)(_)&&((B=(0,A.getCurrentChannel)(_))||(H=(0,A.getCurrentFlowTypeKey)(_))&&(B=H.slice(S.channelFlowPrefix.length))),(0,s.default)(j)?(l.default.warning("Unexpected story ID for sponsorship targeting",{storyId:j}),t(m.sponsorshipInterrupted())):(0,O.getTargetingForStory)(j).then((function(e){var n=parseInt((0,u.default)(e,"targets.orgId",null),10);if("false"!==(0,u.default)(e,"targets.isPodcastEpisode",null)&&1!==n&&n)t(m.sponsorshipInterrupted()),l.default.info("Skipping sponsorship for orgId: "+n);else{B&&e&&"object"===(void 0===e?"undefined":o(e))&&e.targets&&"object"===o(e.targets)&&(e.targets.channel=B);var r=(0,O.getAdLocationsForAction)(i.type);(0,O.fetchSponsorshipFromDfp)(e,r).then((function(n){var r=n.subtype===p.SOUNDSCAPES?p.STANDARD:n.subtype,o={uid:e.zone,type:p.SPONSORSHIP,audioUrl:n.audioUrl,subtype:r};t(m.sponsorshipLoaded(o)),t(g.audioReceived(o)),n.subtype===p.CUSTOM_CHANNEL?(0,T.loadSponsorshipCustomChannel)(n.channel,y,(0,u.default)(c,"time.now",null),t,!1,N):n.subtype===p.SOUNDSCAPES&&x(a({},n,{audioUrl:n.supportedCustomAudioFileUrl}))})).catch((function(e){l.default.info(e,{storyId:j}),t(m.sponsorshipInterrupted())}))}})).catch((function(e){l.default.info(e,{storyId:j}),t(m.sponsorshipInterrupted())}))),r.abrupt("return",f);case 19:case"end":return r.stop()}}),r,void 0)}))),function(e){return r.apply(this,arguments)};var r}};function U(e,t,n){var r=(0,u.default)(e,"pendingUid",null)||(0,u.default)(e,"currentUid",null);if(!r&&n.activeFlowRecommendations){var a=n.activeFlowRecommendations.find((function(e){return e.type!==p.SPONSORSHIP}));a&&(r=a.uid)}if(r){var o=(0,u.default)(t,r,null),i=(0,h.getStoryIdFromUid)(r);o&&i?(0,O.getDfpZone)(i).then((function(t){w(m.sponsorshipDivsReset()),w(m.sponsorshipStarted(o,t,(0,u.default)(e,"env.breakpoint",null)))})).catch((function(e){w(m.sponsorshipInterrupted()),l.default.info(e,{storyId:i})})):(w(m.sponsorshipInterrupted()),l.default.warning('Expected current player audioUid to be set for sponsorship, got "'+r+'"'))}else w(m.sponsorshipInterrupted())}function x(e){w(E.metadataLoaded(e))}function F(e,t){var n=(0,i.default)(e).data("sponsorshiptype"),r=(0,i.default)(".ad-leave-behind iframe").get(0);if(r&&r.contentWindow.postMessage({action:"update creative ui",content:"remove button"},"*"),n===p.SOUNDSCAPES){var a=(0,i.default)(e).data("trackingid");w(m.sponsorshipDivsReset(!0,!1));var o=L||C,s=c.SMALL;o&&(s=o.player.env.breakpoint,w(m.soundscapesLoaded(M[a],s)),(0,O.makeAdScrollable)(f.PLAYER_PRIMARY))}else{!function(e,t){t===f.PLAYER_PRIMARY&&w(m.sponsorshipClickedThrough()),w(y.getListeningRecommendationsFromChannelOnRampRequested(e))}((0,i.default)(e).data("channel"),t)}}function G(e){var t=(0,i.default)(e).data("channel"),n=(0,i.default)(".ad-leave-behind iframe").get(0);n&&n.contentWindow.postMessage({action:"update creative ui",content:"remove button"},"*"),w(m.sponsorshipChannelAddToPlaylist(t))}function j(e){var t=(0,i.default)(e).data("trackingidorchannel"),n=M[t];if((0,s.default)(n))l.default.info("DFP: No metadata was loaded for uid: '"+t+"'");else{var r=L||C,a=c.SMALL;r&&(a=r.player.env.breakpoint),w(m.soundscapesLoaded(n,a)),(0,O.makeAdScrollable)(f.PLAYER_PRIMARY)}}function B(e){var t=(0,i.default)(e).data("trackingidorchannel");w(m.sponsorshipChannelAddToPlaylist(t))}t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.endOfStoryCalloutSeen=function(){return{type:r.END_OF_STORY_CALLOUT_SEEN}},t.endOfStoryDonationCalloutMetricsRequested=function(){return{type:r.END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED}},t.endOfStoryDonationCalloutMetricsResolved=function(){return{type:r.END_OF_STORY_DONATION_CALLOUT_METRIC_RESOLVED}},t.mobileNativeDidStartLoadingPlaylist=function(e){return{type:r.MOBILE_NATIVE_DID_START_LOADING_PLAYLIST,payload:e}},t.mobileNativeQueueButtonPressed=function(e){return{type:r.MOBILE_NATIVE_QUEUE_BUTTON_PRESSED,payload:e}},t.mobileNativeDidAddToPlaylist=function(e){return{type:r.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST,payload:e}},t.mobileNativeDidRemoveFromPlaylist=function(e){return{type:r.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST,payload:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWithinContinuityPeriod=function(e,t){return e>t-r},t.isWithinLimitedContinuityPeriod=function(e,t){return e>t-a};var r=t.CONTINUITY_PERIOD_IN_MS=1296e5,a=t.LIMITED_CONTINUITY_PERIOD_IN_MS=3e5},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.name="UnableToAuthorizeError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));t.default=r},function(e,t,n){"use strict";var r=o(n(8)),a=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}"1"===o(n(44)).default.getUrlParameter("_DEBUG")&&("console"in window&&"function"==typeof console.info&&(0,r.default)(a.default).on("npr:log:info",(function(e,t){t.data?console.info(t.message,JSON.stringify(t.data)):console.info(t.message)})),"console"in window&&"function"==typeof console.warning&&(0,r.default)(a.default).on("npr:log:warning",(function(e,t){t.exception&&t.data?console.warning(t.message,JSON.stringify(t.data),t.exception):t.data?console.warning(t.message,JSON.stringify(t.data)):console.warning(t.message)}))),"console"in window&&"function"==typeof console.error&&(0,r.default)(a.default).on("npr:log:error",(function(e,t){t.data?console.error(t.exception,JSON.stringify(t.data)):console.error(t.exception)}))},function(e,t,n){"use strict";(function(e){var r,a;r=[n(8),n(20)],void 0===(a=function(e,t){var n=t.create();n.name="copyright",n.onReady=function(){e(".copy-year").html(" "+(new Date).getFullYear()+" npr")},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";var r=l(n(8)),a=l(n(20)),o=l(n(41)),i=n(259),s=l(n(21)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(381));function l(e){return e&&e.__esModule?e:{default:e}}var c=a.default.create();c.name="piano";var d=(0,o.default)();function p(){var e=(0,r.default)("#npr-player__audio-complete");e&&e.trigger("click")}function f(){var e=(0,r.default)("#npr-player__add-playlist-items-succeeded");e&&e.trigger("click")}function _(){var e=(0,r.default)("#npr-player__newscast-initiated");e&&e.trigger("click")}function E(){var e=(0,r.default)("#npr-player__stream-initiated");e&&e.trigger("click")}function m(){var e=(0,r.default)("#npr-player__segment-initiated");e&&e.trigger("click")}function g(e){if("Escape"===e.key&&document.querySelector("body").classList.contains("tp-modal-open")){var t=document.querySelectorAll(".tp-close"),n=t[t.length-1];n&&n.click()}}function y(e){var t=document.querySelector(".tp-iframe-wrapper.tp-active"),n=document.querySelectorAll(".tp-close"),r=n[n.length-1];document.querySelector("body").classList.contains("tp-modal-open")&&!t.contains(e.target)&&r&&r.click()}c.init=function(){var e=s.default.getSessionInfo();if(!s.default.isMobileNativeApp(e.renderPlatform)){tp=window.tp||[];var t=(0,r.default)("script#piano-aid").data("piano-aid");tp.push(["setAid",t]),"prod"===NPR.ServerConstants.environment?tp.push(["setCxenseSiteId","4730272259874493122"]):"stage"!==NPR.ServerConstants.environment&&"local"!==NPR.ServerConstants.environment&&"development"!==NPR.ServerConstants.environment||tp.push(["setCxenseSiteId","5857380990773127769"]),tp.push(["setSandbox",!1]),tp.push(["setUseTinypassAccounts",!1]),tp.push(["setUsePianoIdUserProvider",!1]),tp.push(["setUsePianoIdLiteUserProvider",!0]),tp.push(["init",function(){d.dispatch((0,i.pianoInitSucceeded)())}])}},c.onReady=function(){document.addEventListener("keyup",g),document.addEventListener("mouseup",y),document.addEventListener(u.NPR_AUDIO_COMPLETE,p),document.addEventListener(u.NPR_ADD_PLAYLIST_ITEMS_SUCCEEDED,f),document.addEventListener(u.NPR_AUDIO_RECEIVED__NEWSCAST,_),document.addEventListener(u.NPR_AUDIO_RECEIVED__STREAM,E),document.addEventListener(u.NPR_AUDIO_RECEIVED__SEGMENT,m)},c.onUnload=function(){document.removeEventListener("keyup",g),document.addEventListener("mouseup",y),document.removeEventListener(u.NPR_AUDIO_COMPLETE,p),document.removeEventListener(u.NPR_ADD_PLAYLIST_ITEMS_SUCCEEDED,f),document.removeEventListener(u.NPR_AUDIO_RECEIVED__NEWSCAST,_),document.removeEventListener(u.NPR_AUDIO_RECEIVED__STREAM,E),document.removeEventListener(u.NPR_AUDIO_RECEIVED__SEGMENT,m)},c.register()},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=s(n(20)),a=s(n(143)),o=s(n(169)),i=s(n(153));function s(e){return e&&e.__esModule?e:{default:e}}var u=r.default.create();u.name="navigation/subtopic-subnav";var l=function(){!a.default.isScreenLargerOrEqual(a.default.BREAKPOINT.LARGE)||"true"!==document.getElementsByTagName("body")[0].getAttribute("data-subtopic-submenu-click")&&null!==document.getElementsByTagName("body")[0].getAttribute("data-subtopic-submenu-system")?!a.default.isScreenSmallerOrEqual(a.default.BREAKPOINT.MEDIUM)||"true"!==document.getElementsByTagName("body")[0].getAttribute("data-subtopic-submenu-hover")&&null!==document.getElementsByTagName("body")[0].getAttribute("data-subtopic-submenu-system")||(f(),c()):(d(),p())},c=function(){document.getElementsByTagName("body")[0].setAttribute("data-subtopic-submenu-click",!0),document.getElementsByTagName("body")[0].setAttribute("data-subtopic-submenu-system",!0);var e=document.querySelectorAll(".subtopics__item.has-submenu > button");Array.prototype.forEach.call(e,(function(e){e.addEventListener("click",E)})),document.addEventListener("npr:dropdownOpened",m),document.addEventListener("npr:aggToolsClosed",m)},d=function(){document.getElementsByTagName("body")[0].setAttribute("data-subtopic-submenu-click",!1),m();var e=document.querySelectorAll(".subtopics__item.has-submenu > button");Array.prototype.forEach.call(e,(function(e){e.removeEventListener("click",E)})),document.removeEventListener("npr:dropdownOpened",m),document.removeEventListener("npr:aggToolsClosed",m)},p=function(){document.getElementsByTagName("body")[0].setAttribute("data-subtopic-submenu-hover",!0),document.getElementsByTagName("body")[0].setAttribute("data-subtopic-submenu-system",!0);var e=document.querySelectorAll(".subtopics__item.has-submenu");Array.prototype.forEach.call(e,(function(e){e.addEventListener("mouseenter",_),e.addEventListener("mouseleave",_)}))},f=function(){document.getElementsByTagName("body")[0].setAttribute("data-subtopic-submenu-hover",!1),m();var e=document.querySelectorAll(".subtopics__item.has-submenu");Array.prototype.forEach.call(e,(function(e){e.removeEventListener("mouseenter",_),e.removeEventListener("mouseleave",_)}))},_=function(e){var t=e.target.querySelectorAll(".subtopics__submenu")[0],n=e.target.querySelectorAll(".subtopics__toggle")[0];"mouseenter"===e.type?(t.classList.add("is-expanded"),n.classList.add("is-chosen"),n.setAttribute("aria-expanded","true")):(t.classList.remove("is-expanded"),n.classList.remove("is-chosen"),n.setAttribute("aria-expanded","false"))},E=function(e){var t=e.target.nextElementSibling,n=t.classList[1],r=document.querySelectorAll(".subtopics__item.has-submenu");Array.prototype.forEach.call(r,(function(e){var t=e.querySelectorAll(".subtopics__submenu")[0];t.classList[1]!==n&&t.classList.contains("is-expanded")&&(e.querySelectorAll(".subtopics__submenu")[0].classList.toggle("is-expanded"),e.querySelectorAll(".subtopics__toggle")[0].classList.toggle("is-chosen"),e.querySelectorAll(".subtopics__toggle")[0].setAttribute("aria-expanded","false"))})),e.target.classList.toggle("is-chosen"),t.classList.toggle("is-expanded"),"true"===e.target.getAttribute("aria-expanded")?e.target.setAttribute("aria-expanded","false"):e.target.setAttribute("aria-expanded","true")},m=function(){var e=document.querySelectorAll(".subtopics__item.has-submenu");Array.prototype.forEach.call(e,(function(e){e.querySelectorAll(".subtopics__submenu")[0].classList.contains("is-expanded")&&(e.querySelectorAll(".subtopics__submenu")[0].classList.toggle("is-expanded"),e.querySelectorAll(".subtopics__toggle")[0].classList.toggle("is-chosen"))}))},g=function(e){a.default.isScreenLargerOrEqual(a.default.BREAKPOINT.LARGE)&&("keyboard"===e?y():"mouse"===e&&h())},y=function(){var e=document.querySelectorAll(".subtopics__toggle");Array.prototype.forEach.call(e,(function(e){e.classList.remove("is-chosen"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded")}));var t=document.querySelectorAll(".subtopics__submenu.is-expanded");Array.prototype.forEach.call(t,(function(e){e.classList.remove("is-expanded")}));var n=document.querySelectorAll(".subtopics__toggle");Array.prototype.forEach.call(n,(function(e){e.addEventListener("click",E)}))},h=function(){var e=document.querySelectorAll(".subtopics__toggle");Array.prototype.forEach.call(e,(function(e){e.removeEventListener("click",E),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.classList.remove("is-chosen")}));var t=document.querySelectorAll(".subtopics__submenu.is-expanded");Array.prototype.forEach.call(t,(function(e){e.classList.remove("is-expanded")}))};u.onReady=function(){i.default.registerOnChange(g,"intent"),document.querySelectorAll(".subtopics__item.has-submenu").length&&(l(),window.addEventListener("resize",(0,o.default)(l,300)))},u.onUnload=function(){a.default.isScreenLargerOrEqual(a.default.BREAKPOINT.LARGE)?f():d(),document.getElementsByTagName("body")[0].removeAttribute("data-subtopic-submenu-system")},u.register()},function(e,t,n){"use strict";var r=i(n(20)),a=i(n(44)),o=i(n(1316));function i(e){return e&&e.__esModule?e:{default:e}}var s=r.default.create();s.name="search/faceting-param";var u=function(e){var t=document.getElementById("navigation_dropdown-search"),n=t.getAttribute("href");n=a.default.addUrlParameter(n,"refinementList["+e.facetName+"]",e.refinementValue),t.setAttribute("href",n)};s.onReady=function(){var e=NPR.serverVars.storyId,t=NPR.serverVars.aggIds;if(o.default[e])u(o.default[e]);else if(t){var n=t.find((function(e){return o.default[e]}));n&&u(o.default[n])}},s.onUnload=function(){document.getElementById("navigation_dropdown-search").setAttribute("href","/search")},s.register()},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=u(o),s=(u(n(4)),u(n(91)));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"onClick",value:function(e){var t=this.props.onClickHandler;"function"==typeof t&&t()}},{key:"_getMetricsObjectGA4",value:function(){return JSON.stringify(this.props.metricsGA4)}},{key:"_getAccessibilityAttributes",value:function(){var e={};return this.props.ariaDescribedby&&(e["aria-describedby"]=this.props.ariaDescribedby),this.props.ariaLabel&&(e["aria-label"]=this.props.ariaLabel),this.props.ariaLabelledby&&(e["aria-labelledby"]=this.props.ariaLabelledby),this.props.role&&(e.role=this.props.role),this.props.tabIndex&&(e.tabIndex=this.props.tabIndex),e}},{key:"render",value:function(){if(!this.props.tagName)return null;var e=this.props.tagName,t=this._getAccessibilityAttributes();return i.default.createElement(e,r({className:this.props.className,onClick:this.onClick,onBlur:this.props.onBlur,onMouseDown:this.props.onMouseDown,onKeyPress:this.props.onKeyPress},t),this.props.children)}}]),t}(o.Component);t.default=l,l.defaultProps={onClickHandler:function(){},onBlur:function(){},onMouseDown:function(){},onKeyPress:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),i=(c(n(4)),n(10)),s=c(n(574)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(67)),l=n(144);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,l.getBoundHandlers)(n,["onSubscriptionRequested"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onSubscriptionRequested",value:function(e,t){this.props.dispatch(u.newsletterAcquisitionRequested(e,t))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.newsletter,r=e.renderingForMobileNative,a=e.isStickybar;return n?o.default.createElement(s.default,{newsletter:n,user:t,renderingForMobileNative:r,handlers:this.handlers,isStickybar:a}):null}}]),t}(a.Component);t.default=(0,i.connect)((function(e){return{renderingForMobileNative:e.site.renderingForMobileNative}}))(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1)),a=(s(n(4)),s(n(188))),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(82)),i=n(196);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return r.default.createElement("section",{className:"callout callout--donation"},r.default.createElement("div",{className:"callout__inner"},e.station&&e.station.logoUrl?r.default.createElement("div",{className:"callout__branding"},r.default.createElement("img",{className:"callout__branding-logo",src:e.station.logoUrl,alt:"Donation logo"})):"",r.default.createElement("div",{className:"callout__main"},r.default.createElement("div",null,r.default.createElement("p",{className:"callout__header",id:"callout__header"},e.donation.donationInfo.title)),r.default.createElement("div",null,r.default.createElement("p",{className:"callout__description "+(e.metricsCategory===o.END_OF_STORY?"variant-endofstory-donation":""),id:"callout__description"},e.donation.donationInfo.description)),r.default.createElement("div",{className:"callout__links"},r.default.createElement(a.default,{org:e.station,overrideText:"Donate Now",creativeSlot:e.metricsCategory===o.END_OF_STORY?"end of story":e.metricsCategory,metricsCategory:"donation "+e.metricsCategory,onClick:e.onClick,addLogo:!1,overrideClasses:"callout__link callout__link--donate"})))))};u.defaultProps={onClick:function(){},donation:(0,i.getEndOfStoryCtaInfo)().default},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),a=(c(n(4)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(82))),o=c(n(31)),i=n(193),s=n(55),u=c(n(250)),l=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=u.default.stations.find((function(t){return t.id===(e.station&&e.station.id)}));t=(0,l.default)(t,"allowDonationEmbeddedCalloutRecurring");var n=s.DONATION_EMBED+" "+e.metricsCategory+(t?" subscription":""),c=(new Date).toISOString();return r.default.createElement("section",{className:"callout callout--donation callout--donation-embedded"},r.default.createElement("div",{className:"callout__inner"},r.default.createElement("div",{className:"callout__main"},r.default.createElement("div",{className:"callout__header-wrap"},r.default.createElement("h3",{className:"callout__header",id:"callout__header"},e.metricsCategory===a.STICKYBAR&&"Support independent journalism today.",e.metricsCategory===a.END_OF_STORY&&(c>new Date("28 Dec 2022 07:00:00 UTC").toISOString()?"A virtuous circle":"It all comes down to you"),e.metricsCategory===a.MODAL&&"With only a few hours left until 2023")),r.default.createElement("div",{className:"callout__description-wrap"},e.metricsCategory===a.END_OF_STORY&&(c>new Date("28 Dec 2022 07:00:00 UTC").toISOString()?r.default.createElement("p",{className:"callout__description variant-endofstory-donation",id:"callout__description"},"We depend on your generosity to power the news and programs you count on. If you value the role we play in your life and community, please take a moment to act now."):r.default.createElement("p",{className:"callout__description variant-endofstory-donation",id:"callout__description"},"You keep the facts flowing. You bring more stories to more ears. You make a real difference with a year-end contribution to independent, trustworthy media.")),e.metricsCategory===a.STICKYBAR&&r.default.createElement("p",{className:"callout__description",id:"callout__description"},"You rely on NPR ",e.station&&r.default.createElement("span",null,"and ",r.default.createElement("span",{className:"callout__station-info"},e.station.name," in ",e.station.marketCity,", ",e.station.marketState))," to stay informed and we depend on you to make our work possible. ",e.station?r.default.createElement("span",null,"Give to your local NPR station today."):r.default.createElement("span",null,"Give today.")),e.metricsCategory===a.MODAL&&r.default.createElement("p",{className:"callout__description",id:"callout__description"},"This is no time to take exceptional news and cultural programming for granted. If you value the role we play in your life and community, please take a moment to act now.")),r.default.createElement("div",{className:"callout__links"},e.metricsCategory===a.END_OF_STORY?r.default.createElement("span",null,"Select an amount"):r.default.createElement("p",null,"Select an amount"),r.default.createElement("ul",{className:"callout__donation-amounts"},(t?i.DEFAULT_SUBSCRIPTION_AMOUNTS:i.DEFAULT_EMBED_AMOUNTS).map((function(i){return r.default.createElement("li",{key:i,className:"callout__donation-amount"},r.default.createElement(o.default,{href:"/donations/support?amount="+i+"&subscription="+t+"&source="+n,metricsGA4:{category:"donation",currency:"USD",action:"select_promotion",creativeSlot:"embed "+(e.metricsCategory===a.END_OF_STORY?"end of story":e.metricsCategory),donationStationType:"on site donation form",value:""+i,items:{item_name:""+t,affiliation:e.station?e.station.name:void 0,creativeSlot:"embed "+(e.metricsCategory===a.END_OF_STORY?"end of story":e.metricsCategory),itemCategory:"donation",price:""+i,quantity:t?12:1}}},"$",i))})),r.default.createElement("li",{className:"callout__donation-amount callout__donation-amount--other"},r.default.createElement(o.default,{href:"/donations/support?amount=&subscription="+t+"&source="+n,metricsGA4:{category:"donation",action:"select_promotion",creativeSlot:"embed "+(e.metricsCategory===a.END_OF_STORY?"end of story":e.metricsCategory),donationStationType:"on site donation form"}},"Give a different amount")))),e.metricsCategory!==a.END_OF_STORY&&r.default.createElement("button",{type:"button",className:"callout__dismiss",onClick:e.onClick},"Maybe later"))))}d.defaultProps={onClick:function(){}},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRenderDataShareForm=t.isLocalizedStationCached=t.userLocalizationStatus=t.findSelectedStation=t.userInputStationSearch=t.findMostRecentSearchResults=void 0;var r=n(29);t.findMostRecentSearchResults=function(e){var t=e.status,n=e.localizedStations,a=e.searchedForStations,o=e.results,i=e.previousTerm,s=e.org,u=e.stationsMounted,l=e.term,c=o[i];if(u){if(t===r.NOT_STARTED)return n;if(t===r.PENDING&&""!==i)return c.slice(0,3).map((function(e){return s[e]}));if(t===r.PENDING&&""===i)return n;if(t===r.RESOLVED&&"NPR"!==l)return a;if(t===r.RESOLVED&&"NPR"===l)return n}return[]},t.userInputStationSearch=function(e,t){var n=[];return e&&(n=e.slice(0,3).map((function(e){return t[e]}))),n},t.findSelectedStation=function(e,t,n){var r=e[t[0].id],a=e[n];return null===n?r:a},t.userLocalizationStatus=function(e){return null!==e&&"1"!==e},t.isLocalizedStationCached=function(e,t){return e.hasOwnProperty(t)},t.shouldRenderDataShareForm=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),i=(c(n(4)),c(n(118))),s=c(n(31)),u=n(38),l=n(81);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=(0,l.getExperimentId)(),t=(0,l.getVariationId)(),n=String(this.props.index+1);return o.default.createElement("div",{className:"story with-image "+(this.props.hasAudio?"has-audio":""),href:this.props.url},o.default.createElement("div",null,this.props.slug?o.default.createElement(s.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:t,experementId:e,clickType:"slug",clickName:this.props.widgetText,clickPosition:n,clickUrl:this.props.url}},o.default.createElement("h2",{className:"slug"},this.props.slug)):null,o.default.createElement(s.default,{href:this.props.url,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:t,experementId:e,clickType:"story",clickName:this.props.widgetText,clickPosition:n,clickUrl:this.props.url}},o.default.createElement("h3",null,this.props.title))),o.default.createElement("figure",{className:"thumb-image"},o.default.createElement(s.default,{href:this.props.url,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:t,experementId:e,clickType:"image",clickName:this.props.widgetText,clickPosition:n,clickUrl:this.props.url}},(0,i.default)(this.props.primaryImageHtml))))}}]),t}(a.Component);t.default=d,d.defaultProps={url:"",slug:"",slugUrl:"",title:"",primaryImageHtml:"",hasAudio:!1,widgetText:"",index:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canCollapse=function(e,t){return e!==r.LARGE||!t||a()},t.getCollapsed=function(e,t){return e===r.LARGE&&t},t.hpContentWidgetsPresent=a;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(34));function a(){return document.body.matches(".has-right-rail-content-widgets",".tmplHomePage")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stationDropdownToggled=function(){return{type:r.STATION_DROPDOWN_TOGGLED}},t.closeStationSubnavs=function(){return{type:r.CLOSE_SUBNAVS}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestBidsForSingleSlot=t.injectApsTag=t.injectOpenWrap=t.requestApsBids=t.requestOpenwrapBids=t.getSlotConfigs=t.initializeApsTag=t.isEnabled=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(12)),o=l(n(204)),i=n(146),s=l(n(44)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(251));function l(e){return e&&e.__esModule?e:{default:e}}var c=["300x250","325x508","325x204","620x366","728x90","970x250"],d={openwrap:!1,aps:!1};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d[e]=!0,a.default.info("HeaderBidding: bidding completed for "+e+". "+(0,i.getFormattedTime)()),d.openwrap&&d.aps&&(_(),document.dispatchEvent(new CustomEvent("npr:initialHeaderBiddingCompleted",{detail:t})))}function f(e){var t=[];return e.getSizes().forEach((function(e){c.includes(e.width+"x"+e.height)&&t.push([e.width,e.height])})),t}function _(){d={openwrap:!1,aps:!1}}t.isEnabled=function(){var e=s.default.getUrlParameter("renderPlatform");return!e||e===u.NPR_ONE_ANDROID||e===u.NPR_ONE_IOS},t.initializeApsTag=function(){var e={},t={pubID:"5116",adServer:"googletag",bidTimeout:1e3,deals:!0};window.NPR.serverVars.storyCategory&&(e={si_section:window.NPR.serverVars.storyCategory}),"undefined"!=typeof __uspapi&&__uspapi("getUSPData",1,(function(t,n){n&&(e=r({},e,{us_privacy:t.uspString}))})),Object.keys(e).length&&(t=r({},t,{params:e})),window.apstag.init(t)},t.getSlotConfigs=function(){var e={openwrap:[],aps:[]};return $("[data-ad-config]").each((function(t){var n=$(this).data("ad-config");if(n.deferred)return!0;var s=new o.default(n);if(s.shouldRender()){var u=(0,i.constructAdSlotName)(s.location,s.zone),l=""+s.network+s.site+(s.zone?"/"+s.zone:""),c=s.getSizes("openwrap");c.length&&e.openwrap.push({code:u,divId:u,adUnitId:l,adUnitIndex:""+t,mediaTypes:{banner:{sizes:c}},sizes:c});var d=s.getSizes("aps");if(d.length){var p={slotID:u,slotName:l};s.isOutstreamVideoEnabled?(a.default.info("HeaderBidding: Slot '"+u+"' adding multi-format"),p=r({},p,{mediaType:"multi-format",multiFormatProperties:{display:{sizes:d},video:{sizes:[[320,240]]}}})):p=r({},p,{sizes:d}),e.aps.push(p)}}})),e},t.requestOpenwrapBids=function(e){a.default.info("HeaderBidding: bidding started for openwrap. "+(0,i.getFormattedTime)()),e.openwrap.length&&("function"==typeof window.PWT.requestBids?window.PWT.requestBids(e.openwrap,(function(e){p("openwrap",e)})):(a.default.info("HeaderBidding: requestBids not a function",window.PWT),p("openwrap")))},t.requestApsBids=function(e){a.default.info("HeaderBidding: bidding started for aps. "+(0,i.getFormattedTime)()),e.aps.length&&window.apstag.fetchBids({slots:e.aps},(function(){return p("aps")}))},t.injectOpenWrap=function(e){var t="https://ads.pubmatic.com/AdServer/js/pwt/162268/"+(e?10943:7835),n=document.createElement("script");n.async=!0,n.type="text/javascript";var r=new URLSearchParams(window.location.search),o=parseInt(r.get("pwtv"),10);n.src=t+(o?"/"+o:"")+"/pwt.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s),a.default.info("HeaderBidding: injected pwt.js. "+(0,i.getFormattedTime)())},t.injectApsTag=function(){!function(e,t,n,r,a,o,i){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=n.createElement(r)).async=!0,o.src="https://c.amazon-adsystem.com/aax2/apstag.js",(i=n.getElementsByTagName(r)[0]).parentNode.insertBefore(o,i))}("apstag",window,document,"script")},t.requestBidsForSingleSlot=function(e,t){var n=function(e){d[e]=!0,a.default.info("HeaderBidding: bidding completed for "+e+". "+(0,i.getFormattedTime)()),d.openwrap&&d.aps&&(_(),t())},o={slotID:e.getSlotElementId(),slotName:e.getAdUnitPath()},s=document.querySelector("#"+e.getSlotElementId());if(o=JSON.parse(s.dataset.adConfig||"{}").isOutstreamVideoEnabled?r({},o,{mediaType:"multi-format",multiFormatProperties:{display:{sizes:f(e)},video:{sizes:[[320,240]]}}}):r({},o,{sizes:f(e)}),a.default.info("HeaderBidding: bidding started for aps. "+(0,i.getFormattedTime)()),window.apstag.fetchBids({slots:[o]},(function(){window.apstag.setDisplayBids(),n("aps")})),Date.now(),"function"==typeof window.PWT.removeKeyValuePairsFromGPTSlots){var u=window.PWT.generateConfForGPT([e]);u[0]=r({},u[0],{mediaTypes:{banner:{sizes:f(e)}},sizes:f(e)}),window.PWT.removeKeyValuePairsFromGPTSlots([e]),a.default.info("HeaderBidding: bidding started for openwrap. "+(0,i.getFormattedTime)()),window.PWT.requestBids(u,(function(e){window.PWT.addKeyValuePairsToGPTSlots(e),n("openwrap")}))}else a.default.warning("HeaderBidding: OpenWrapDebug: removeKeyValuePairsFromGPTSlots not a function",window.PWT),n("openwrap")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onPageCallouts=t.determineEndOfStoryVariant=t.determineCenterStageVariant=t.areCTASQualified=t.shouldDisplayDonationCta=t.didJustSubscribe=t.getRandomChanceForPodcast=t.shouldHideNewsletter=t.isStickyNewsletterDonation=t.isStickyNewsletterActive=t.isPageBlocklisted=t.getPageData=void 0;var r=h(n(5)),a=h(n(370)),o=(h(n(96)),h(n(123)),y(n(2))),i=y(n(253)),s=y(n(199)),u=y(n(704)),l=y(n(82)),c=y(n(29)),d=y(n(151)),p=y(n(364)),f=n(148),_=n(196),E=n(263),m=(h(n(44)),n(122)),g=n(15);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var v=null,S=null,O=null,T=function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stationQualified=t,this.donationQualified=n,this.newsletterQualified=r,this.podcastQualified=a},A=!1,I=t.getPageData=function(){var e=document.getElementById("newsletter-acquisition-callout-data"),t=document.getElementById("station-data"),n=document.getElementById("podcast-callout-data"),r=t?t.getAttribute("data-station"):null;O=JSON.parse(r);var a=e?e.getAttribute("data-newsletter"):null;v=JSON.parse(a);var o=n?n.getAttribute("data-podcast"):null;return S=JSON.parse(o),{station:O,newsletter:v,podcast:S}},b=t.isPageBlocklisted=function(e){var t=(0,E.getCalloutBodyClassBlocklist)();if(t)for(var n=0;n<t.length;n++)if(document.body.classList.contains(t[n]))return!0;return!1},P=t.isStickyNewsletterActive=function(e){var t=!1,n=(0,f.getStickybarNewsletterInfo)();for(var r in n)if(e===r){t=!0;break}return t},R=t.isStickyNewsletterDonation=function(e){var t=!1,n=(0,f.getStickybarDonationInfo)();for(var r in n)if(e===r){t=!0;break}return t},D=t.shouldHideNewsletter=function(e,t,n,r){var o=P(r),i=e===u.EMAIL_SOURCE,s=void 0!==t&&t&&(0,a.default)(t,n)>=0;return i||s||o},N=(t.getRandomChanceForPodcast=function(){return 0==Math.floor(2*Math.random())},t.didJustSubscribe=function(e){return e!=c.NOT_STARTED}),w=t.shouldDisplayDonationCta=function(e,t,n,r){var a=t===d.PODCAST,o=(0,_.getEndOfStoryCtaInfo)(),i=(0,_.getEndOfStoryEmbeddedInfo)();if((0,E.isEligibleForEmbeddedDonation)(e))for(var s in i){var u=(0,_.isOnEndOfStoryCalloutPage)(e,i[s],a),c=(0,m.isWithinThisGlobalAlertPeriod)(i[s]);if(u&&c&&!R(n)&&r!==l.MODAL)return s}for(var p in o){var f=(0,_.isOnEndOfStoryCalloutPage)(e,o[p],a),g=(0,m.isWithinThisGlobalAlertPeriod)(o[p]);if(f&&g&&!R(n)&&r!==l.MODAL)return p}return""},C=t.areCTASQualified=function(e){I();var t=(0,r.default)(v,"newsletterId"),n=e.globalAlerts.variantIDToShowOnThisPage,a=(0,r.default)(e,"user.view.data.attributes.subscriptions"),o=(0,r.default)(e,"session.source"),i=(0,r.default)(e,"user.newsletter.status"),s=N(i),u=D(o,a,t,n),l=null!=O,c=!!w(e,(0,g.getCurrentPage)(e),(0,g.getVariantIDToShowOnThisPage)(e),(0,g.getVariantTypeToShowOnThisPage)(e));return new T(l,c,null!=v&&!s&&!u,null!=S)},L=t.determineCenterStageVariant=function(e,t){return e.onPageCallouts.centerStageVariant},M=t.determineEndOfStoryVariant=function(e,t,n){return i.NONE},k=t.onPageCallouts=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){n();var a=e(r),u=n();if(r.type===o.PAGE_DETECTED&&(A=!1),r.type!==o.CENTER_STAGE_AD_STATUS_DETERMINED&&r.type!==o.GLOBAL_ALERT_VARIATION_DETERMINED||!A&&!u.onPageCallouts.wasOnPageCalloutDeterminationRequested&&u.onPageCallouts.isDFPComplete&&u.onPageCallouts.isGlobalAlertsComplete&&(t(p.onPageCalloutDeterminationRequested()),A=!0),r.type===o.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED)if(b(u))t(p.onPageCalloutDeterminationSucceeded(s.INELIGIBLE,i.NONE));else{var l=C(u),c=L(u,l),d=M(u,c,l);t(p.onPageCalloutDeterminationSucceeded(c,d))}return r.type===o.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED&&$(document).trigger("npr:onPageCalloutDeterminationSucceeded"),a}}};t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39));t.default={publishableKey:"https://www.npr.org"!==r.getWebHost()?"pk_test_KoHtvpjHy8g6evHRwIm7GIgP00MjQmpJEr":"pk_live_iY0lrdsbubVs9fIcZyZ0h7ft00XUjs7dW8",stations:[{id:1,stripeAccountID:"",logoUrl:r.STATIC_ASSETS_HOST+"/chrome_svg/npr-logo-2025.svg",name:"NPR",marketState:"N/A",callLetters:"NPR",contact:"giving@npr.org"},{id:309,stripeAccountID:"acct_1HXTyCILzAWanqpj",contact:"membership@wbez.org",allowDonationEmbeddedCalloutRecurring:!1},{id:396,stripeAccountID:"acct_1Gv7V5HVz4qYhRad",contact:"membersonly@wgbh.org"},{id:168809220,stripeAccountID:"acct_1Gv7V5HVz4qYhRad",contact:"membersonly@wgbh.org"},{id:558,stripeAccountID:"acct_1Icx58IenaNliTp3",contact:"membership@iowapublicradio.org"},{id:725,stripeAccountID:"acct_1Idgn8E32ooMRWgd",contact:"membership@wypr.org"},{id:232,stripeAccountID:"acct_1HrUHcJfIl9YMB7X",contact:"membership@kuow.org"},{id:330,stripeAccountID:"acct_18AegeERinIyl6X2",contact:"membership@wbur.org"},{id:223,stripeAccountID:"acct_1J0AVNKZCXteNHf7",contact:"membership@kunc.org"},{id:661,stripeAccountID:"acct_1IyLbLFr3fMQEz43",contact:"wunccares@wunc.org"},{id:447,stripeAccountID:"acct_19i9A7D0uWcllLih",contact:"donate@wjct.org"},{id:270,stripeAccountID:"acct_1Dvp16GAAE00Y4vB",contact:"memberservices@kvcr.org"},{id:75,stripeAccountID:"acct_19ntTTFLdgo3S1p1",contact:"desiree.markham@enmu.edu"},{id:463,stripeAccountID:"acct_1JNzbTKgEAi8no40",contact:"membership@wkar.org"},{id:547,stripeAccountID:"acct_1Ge0GNEhnr8Vz8ZH",contact:"audiencecare@ctpublic.org"},{id:400,stripeAccountID:"acct_1JNghYJDsp515Hse",contact:"memberservices@wgcu.org"},{id:467,stripeAccountID:"acct_1EZfpPJh2dxysyAg",contact:"membership@wkno.org"},{id:47,stripeAccountID:"acct_19YjqpJNFmiwNcjg",contact:"membership@prairiepublic.org"},{id:619,stripeAccountID:"acct_1989sqG2dU2pkDq4",contact:"membership@wskg.org"},{id:388,stripeAccountID:"acct_18My0dGjgKd76FvW",contact:"membership@louisvillepublicmedia.org"},{id:402,stripeAccountID:"acct_1JhE4WIyjNIfOY78",contact:"contributorservices@wglt.org"},{id:339,stripeAccountID:"acct_1JpaJJJZZ9CFyocZ",contact:"wcbupeoria@ilstu.edu"},{id:273,stripeAccountID:"acct_1JYD8yGnjhqzDR51",contact:"kvprx@kvpr.org"},{id:88,stripeAccountID:"acct_1Jm129A7yZ4bVp3n",contact:"members@hawaiipublicradio.org"},{id:78,stripeAccountID:"acct_1PO3klCEW8U2iWCi",contact:"membership@kera.org"},{id:726,stripeAccountID:"acct_1Jtzm4IrU0nbu6Qw",contact:"wyso@wyso.org"},{id:55,stripeAccountID:"acct_1JelnMFiPt3AphJ8",contact:"membership@kcrw.com"},{id:238,stripeAccountID:"acct_1LhvTdDHj2wajF0A",contact:"friends@sdpb.org"},{id:239,stripeAccountID:"acct_1LhvTdDHj2wajF0A",contact:"friends@sdpb.org"},{id:169,stripeAccountID:"acct_1HkCsKFzjg1wArqD",contact:"membership@alaskapublic.org"},{id:362,stripeAccountID:"acct_1JtwRkBGNhtqhini",contact:"wekumembership@eku.edu"},{id:220,stripeAccountID:"acct_1GxHqlCRQ4BL6mI3",contact:"membership@houstonpublicmedia.org"},{id:466,stripeAccountID:"acct_1Kv3YQCQsTWffm3M",contact:"msu.wkms@murraystate.edu"},{id:673,stripeAccountID:"acct_1LQ9vHGu7wGEzblf",contact:"trish@wuwf.org"},{id:747,stripeAccountID:"acct_1LDyc9EGQYPS2ASn",contact:"lauri@aspenpublicradio.org"},{id:429,stripeAccountID:"acct_1LlCg6ISZv7ofkZG",contact:"memberservices@whqr.org"},{id:444,stripeAccountID:"acct_1LsAkaJKvrvHNMyu",contact:"publicradio@wiu.edu"},{id:1282,stripeAccountID:"acct_1MFOzcF4T2V9Ul7Q",contact:"ipr@interlochen.org"},{id:360,stripeAccountID:"acct_1LJL0nJHTY5d6bpe",contact:"members@wesa.fm"},{id:671,stripeAccountID:"acct_1Kb98dF2quY7yoKL",contact:"memberservices@wusf.org"},{id:286,stripeAccountID:"acct_1L6MaGF9w4ZPF8ng",contact:"members@capradio.org"},{id:43,stripeAccountID:"acct_1LIIWeJpsfmcoYkv",contact:"members@mynspr.org"},{id:704,stripeAccountID:"acct_1KxVtSFxZ600vZ2C",contact:"memberservices@cinradio.org"},{id:721,stripeAccountID:"acct_1M05HdBGJrkW2lUm",contact:"membership@wxxi.org"},{id:1828,stripeAccountID:"acct_1M05HdBGJrkW2lUm",contact:"membership@wxxi.org"},{id:533,stripeAccountID:"acct_1HhdG2KhXdfcaaWe",contact:"membership@wnin.org"},{id:148,stripeAccountID:"acct_1JsFdYJSAFP262Zi",contact:"info@knkx.org"},{id:81,stripeAccountID:"acct_1LPZ7DBoFhxVgK5J",contact:"membership@kgou.org"},{id:471,stripeAccountID:"acct_1N87k8Lo8WphUIwG",contact:"membership@ideastream.org"},{id:133,stripeAccountID:"acct_194GRAA91GDpyA43",contact:"tori.rodriquez@ttu.edu"},{id:356,stripeAccountID:"acct_19rxIbBLZpuWXgB0",contact:"membership@vpm.org"},{id:27,stripeAccountID:"acct_1O2dFoKlqomA1yfj",contact:"members@kcbx.org"},{id:9,stripeAccountID:"acct_1NtF3zHg1sbweJ7p",contact:"hppr@hppr.org"},{id:397,stripeAccountID:"acct_1NNfwmIcuvNEiejO",contact:"membersonly@wgbh.org"},{id:173,stripeAccountID:"acct_102zMG20INqES5Vz",contact:"jpr-membership@sou.edu"},{id:181,stripeAccountID:"acct_102zMG20INqES5Vz",contact:"jpr-membership@sou.edu"},{id:1333,stripeAccountID:"acct_1Oj1ZgKBsWizdzzo",contact:"development@delawarepublic.org"},{id:626,stripeAccountID:"acct_1OpcQxI0NjrWWQOK",contact:"give@ncpr.org"},{id:146,stripeAccountID:"acct_19mmgIL5ox4aschD",contact:"sarah@kpcw.org"},{id:305,stripeAccountID:"acct_1OhIRnCd1KKbip1K",contact:"membership@wamu.org"},{id:95,stripeAccountID:"acct_1P72DvKIzzbPi7ri",contact:"member_services@rioradio.org"},{id:7,stripeAccountID:"acct_1LT5xzIhXPOKxleW",contact:"heidi.brown@aps.edu"},{id:68,stripeAccountID:"acct_1FUe2rEj0PQl4WAA",contact:"membership@kedt.org"},{id:201,stripeAccountID:"acct_1I8qaXKOHY78TIUO",contact:"membership@azpm.org"},{id:96,stripeAccountID:"acct_1P9C1YJuvSUYt6Pu",contact:"membership@klcc.org"},{id:204,stripeAccountID:"acct_1PGNl9APAHxIjl6t",contact:"customerservice@nebraskapublicmedia.org"},{id:277,stripeAccountID:"acct_1FAL3mF9xHzi3gxH",contact:"info@kwit.org"},{id:433,stripeAccountID:"acct_1PGiKBBEt6Dpjp4V",contact:"memberservices@whyy.org"},{id:711,stripeAccountID:"acct_1LVLwZK0VsPCtJrG",contact:"membership@wwno.org"},{id:698,stripeAccountID:"acct_1PG2yg03nGI2c4lX",contact:"membership@vt.edu"},{id:276,stripeAccountID:"acct_1PItdtH3vgJVR9iT",contact:"support@publicmediatulsa.org"},{id:59,stripeAccountID:"acct_1PHY7FP1dHfj4gge",contact:"membership@kcsm.net"},{id:384,stripeAccountID:"acct_1PItS6DM8fiiGA35",contact:"wfit@wfit.org"},{id:342,stripeAccountID:"acct_1F2IONE6ZZcOMVaZ",contact:"memberservices@wcmu.org"},{id:26,stripeAccountID:"acct_1PAxubRvrBtCJG8K",contact:"bsprmembers@boisestate.edu"},{id:750,stripeAccountID:"acct_14q7hmFNO9pPpJdu",contact:"erik@ksjd.org"},{id:196,stripeAccountID:"acct_1DBqBdExQhVQ3xs7",contact:"gretchen.kuac@alaska.edu"},{id:649,stripeAccountID:"acct_1IUCZMFwLd9EpF16",contact:"wucfmemberservices@wucf.org"},{id:250,stripeAccountID:"acct_1PQBOaE8rG0spfBH",contact:"katie.swain@usu.edu"},{id:518,stripeAccountID:"acct_1PpVfDEMNihW0zC4",contact:"wmra@jmu.edu"},{id:13,stripeAccountID:"acct_1PVFl7RvjlI3CHEn",contact:"support@kawc.org"},{id:128,stripeAccountID:"acct_1PZIrrEDOtfG848X",contact:"membership@nevadapublicradio.org"},{id:357,stripeAccountID:"acct_15ukz5AnB654Juab",contact:"member@wdav.org"},{id:153,stripeAccountID:"acct_1DDj07HTdPvkISjZ",contact:"membership@norcalpublicmedia.org"},{id:611,stripeAccountID:"acct_1KlassEbbaCUTswp",contact:"membership@wshu.org"},{id:167,stripeAccountID:"acct_1Ls8HfDJ3QJ9IQSa",contact:"feedback@nmsu.edu"},{id:145,stripeAccountID:"acct_1PbpqLCKYF4mNJ2b",contact:"membership@laist.com"},{id:666,stripeAccountID:"acct_1Pr27xGyCe7072ty",contact:"membershipservices@michiganpublic.org"},{id:354,stripeAccountID:"acct_1PqM23J8Z6u1JNA8",contact:"membership@bpr.org"},{id:476,stripeAccountID:"acct_1DrV21KCYmsUj451",contact:"Jessica.warren@wku.edu"},{id:213,stripeAccountID:"acct_1NY7v5C3rCMRN6Pm",contact:"members@kuer.org"},{id:138,stripeAccountID:"acct_1IoDjrFH6hyp6zfv",contact:"membership@kosu.org"},{id:314,stripeAccountID:"acct_1NSMNlDvLNjj9lOK",contact:"membership@wbgo.org"},{id:310,stripeAccountID:"acct_1QmLpXL0WlNBsx5l",contact:"membership@wned.org"},{id:1831,stripeAccountID:"acct_1Nq5XJGxafFaiyTm",contact:"info@whcp.org"},{id:680,stripeAccountID:"acct_1Pya8zP5QqXZrv8d",contact:"members@wvpe.org"},{id:11,stripeAccountID:"acct_1QtY2rAkFzpOd0xq",contact:"kasu@astate.edu"},{id:192,stripeAccountID:"acct_1QeMaDRqcJmdFhaG",contact:"membership@ksut.org"},{id:672,stripeAccountID:"acct_1OlytZGJOV5zgQ0s",contact:"wutc@utc.edu"},{id:103,stripeAccountID:"acct_1QsUhVKOnL6BTCrO",contact:"membership@kmuw.org"},{id:366,stripeAccountID:"acct_1QpC7fBC0rtzBAmd",contact:"membership@wpr.org"},{id:420,stripeAccountID:"acct_1QpC7fBC0rtzBAmd",contact:"membership@wpr.org"},{id:199,stripeAccountID:"acct_1QsTmpCoOVEeAcz5",contact:"membership@littlerockpublicradio.org"},{id:431,stripeAccountID:"acct_1Af9iCLwfD10CkGt",contact:"nicole.cleveland@whro.org"},{id:1273,stripeAccountID:"acct_1RQwoNK0Q7k0OFUE",contact:"memberservices@wsge.org"},{id:141,stripeAccountID:"acct_1Pq0bwRpz3T568bf",contact:"Membership@kpbx.org"}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MOBILE_NATIVE_APP="mobileNativeApp",t.LISTEN_LATER="listenLater",t.NPR_ONE_IOS="nprone_ios",t.NPR_ONE_ANDROID="nprone_android",t.NPR_NEWS_IOS="nprnews_ios"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PENDING="PENDING",t.UNKNOWN="UNKNOWN"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NONE=0,t.NEWSLETTER=1,t.STATION=2,t.PODCAST=3,t.DONATION=4},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programPageInitSucceeded=function(e,t,n,a){return{type:r.PROGRAM_PAGE_INIT_SUCCEEDED,payload:{programId:e,programAudioContainer:t,forceOnAir:n,AudioMessageElement:a}}},t.audioSegmentUrlsRequested=function(){return{type:r.AUDIO_SEGMENT_URLS_REQUESTED}},t.audioSegmentUrlsReceived=function(e,t){return{payload:{audioSegmentUrls:t,zipFilename:e},type:r.AUDIO_SEGMENT_URLS_RECEIVED}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeFeaturedAudioRequested=function(e,t,n){return{type:r.INITIALIZE_FEATURED_AUDIO_REQUESTED,payload:{featuredAudioProgramUid:e,featuredAudioText:t,featuredAudioImage:n}}},t.initializeFeaturedAudioSucceded=function(e,t,n,a){return{type:r.INITIALIZE_FEATURED_AUDIO_SUCCEEDED,payload:{featuredAudioProgramUid:e,featuredAudioUid:t,featuredAudioText:n,featuredAudioImage:a}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.plusDataLoaded=function(e){return{type:r.USER_PLUS_DATA_LOADED,payload:e}},t.localizationResponseReceived=function(e){return{type:r.LOCALIZATION_RESPONSE_RECEIVED,payload:e}},t.plusPromoButtonClicked=function(e,t){return{type:r.PLUS_PROMO_BUTTON_CLICKED,payload:{metricsLocation:e,podcast:t}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearHistoryRequested=function(){return{type:r.CLEAR_HISTORY_REQUESTED}},t.previousAudioPlayReceived=function(){return{type:r.PREVIOUS_AUDIO_PLAY_RECEIVED}},t.incrementAudioHistoryHead=function(){return{type:r.INCREMENT_AUDIO_HISTORY_HEAD}},t.historyItemsUnloaded=function(e){return{type:r.HISTORY_ITEMS_UNLOADED,payload:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getNewscastLabel=l,t.getStreamLabel=c,t.getSegmentLabel=d,t.getPercentage=function(e,t){return void 0===e?0:Math.floor(100/t*e)},t.getNextAudioPingTime=function(e){var t=void 0;t=e<30?e+15:30===e?e+30:e<300?e+60:e+300;return t},t.getNextPercentComplete=function(e){if(e>=0&&e<25)return 25;if(e>=25&&e<50)return 50;if(e>=50&&e<75)return 75},t.shouldSendSoundscapesHeartbeat=function(e,t){return p(e).subtype===a.SOUNDSCAPES&&e.player.position>=t&&0!==t},t.getNextSoundscapesHeartbeat=function(e){return e+15},t.getNextSoundscapesHeartbeatFromPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 15*Math.ceil(e/15)},t.getPlayedFrom=function(e,t){var n=void 0;e&&"object"===(void 0===e?"undefined":r(e))&&e.channel&&t&&"object"===(void 0===t?"undefined":r(t))&&t.trackSponsorshipPlayedFrom?n="from sponsored selection - "+e.channel:t&&t.playedFrom&&(n=t.playedFrom);return n},t.getAudioMetadata=p,t.isPlusExclusiveAudio=function(e){if(e&&[s.PLUS_EXCLUSIVE_BONUS,s.PLUS_EXCLUSIVE_EARLY_ACCESS_OR_FULL,s.PLUS_EXCLUSIVE_TRAILER].includes(e))return!0;return!1},t.getLabel=function(e){var t="";switch(e.type){case a.SEGMENT:t=d(e);break;case a.STREAM:t=c(e);break;case a.SPONSORSHIP:t=e.uid}return t};var a=u(n(24)),o=n(111),i=u(n(145)),s=u(n(361));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){var t=e,n="",r="",a=e.match(/^(.*)\sNewscast\s:\s([0-9:]{4,5}\s[AP]M)$/);return a&&(r=(n=i.convertTimeStringTo24Hours(a[2])).substr(0,n.indexOf(":")),t="NPR"===a[1]?"newscast-npr-"+r:"newscast-"+a[1]+"-"+r),t}function c(e){return""+(e.subtype===a.STREAM_STATION?"station-":"npr-")+(e.orgId&&1!==e.orgId?e.orgId+"-":"")+e.title}function d(e){switch(e.subtype){case a.SEGMENT_NEWSCAST:return l(e.title);default:return(0,o.getStoryIdFromUid)(e.uid)}}function p(e,t){var n=t||e.player.currentUid;return e.metadata[n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCheckedSpringboardCookie=t.tpExperienceExecuteSucceeded=t.tpExperienceExecuteRequested=t.tpExperienceInitSucceeded=t.tpExperienceInitRequested=t.logoutDeleteJWTSucceeded=t.logoutDeleteJWTRequested=t.sendJWTToPiano=t.JWTRequestSucceeded=t.JWTRequestFailed=t.JWTRequested=t.pianoInitSucceeded=void 0,t.downloadAppPromoClicked=function(e){return{type:r.DOWNLOAD_APP_PROMO_CLICKED,payload:{metricsLocation:e}}},t.createAccountPromoClicked=function(e){return{type:r.CREATE_ACCOUNT_PROMO_CLICKED,payload:{metricsLocation:e}}},t.signInPromoClicked=function(e){return{type:r.SIGN_IN_PROMO_CLICKED,payload:{metricsLocation:e}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.pianoInitSucceeded=function(){return{type:r.PIANO_INIT_SUCCEEDED}},t.JWTRequested=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:r.JWT_REQUESTED,payload:{email:e,donationType:t,donationInterval:n}}},t.JWTRequestFailed=function(e){return{type:r.JWT_REQUEST_FAILED,payload:{message:e}}},t.JWTRequestSucceeded=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:r.JWT_REQUEST_SUCCEEDED,payload:{token:e,expiration:t,email:n}}},t.sendJWTToPiano=function(e){return{type:r.SEND_JWT_TO_PIANO,payload:{token:e}}},t.logoutDeleteJWTRequested=function(){return{type:r.LOGOUT_DELETE_JWT_REQUESTED}},t.logoutDeleteJWTSucceeded=function(){return{type:r.LOGOUT_DELETE_JWT_SUCCEEDED}},t.tpExperienceInitRequested=function(){return{type:r.TP_EXPERIENCE_INIT_REQUESTED}},t.tpExperienceInitSucceeded=function(){return{type:r.TP_EXPERIENCE_INIT_SUCCEEDED}},t.tpExperienceExecuteRequested=function(){return{type:r.TP_EXPERIENCE_EXECUTE_REQUESTED}},t.tpExperienceExecuteSucceeded=function(){return{type:r.TP_EXPERIENCE_EXECUTE_SUCCEEDED}};t.hasCheckedSpringboardCookie=function(){return{type:r.HAS_CHECKED_SPRINGBOARD_COOKIE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendPostMessageToPiano=function(e,t,n,r){var a=jQuery("#"+e);a.length&&a[0].contentWindow.postMessage({piano:{success:t,message:n,object:r}},"*")},t.doFocusTrapPianoModal=function(){document.querySelectorAll(".skip-links, #player-react-mount, #globalheader, body > main").forEach((function(e){e.setAttribute("inert","")}))},t.removeFocusTrapPianoModal=function(){document.querySelectorAll(".skip-links, #player-react-mount, #globalheader, body > main").forEach((function(e){e.removeAttribute("inert")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NEWS="NEWS",t.MUSIC="MUSIC",t.DONATION="DONATION"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.fetchSponsorshipFromDfp=function(e,t){return S=[],new Promise((function(n,r){if(setTimeout((function(){return r("DFP call blocked or timed out")}),1e3),(0,o.default)(t))r("At least one ad location must be provided");else{var a=!0,i=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value,d=new E.default(A(e,c));I(d),S.push(d),b(d),googletag.display(d.getAdSlotName())}}catch(e){i=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw s}}googletag.cmd.push((function(){var e=[];S.forEach((function(t){e.push(t.slot),O[t.location]=t.slot.getSlotElementId();var n=t.getAdSlotName();h[n]=t.slot})),googletag.pubads().addEventListener("slotRenderEnded",T.bind(null,n,r)),S=[],googletag.pubads().refresh(e)}))}}))},t.getTargetingForStory=P,t.getDfpZone=function(e){var t=e;return new Promise((function(e,n){Object.prototype.hasOwnProperty.call(v,t)?e(v[t].zone):P(t).then((function(t){return e(t.zone)})).catch((function(e){return n(e)}))}))},t.shouldFetchSponsorship=function(e,t,n){return 1===e.sponsorship.numSlotsAvailable&&2===t.sponsorship.numSlotsAvailable||n.type===d.MOBILE_SPONSORSHIP_SLOT_AVAILABLE},t.shouldUnloadSponsorshipMetadata=function(e){return e.type===d.AUDIO_COMPLETE&&e.payload.type===p.SPONSORSHIP},t.canHaveEventListener=function(){return"object"===("undefined"==typeof window?"undefined":r(window))&&"function"==typeof window.addEventListener},t.getAdLocationsForAction=function(e){switch(e){case d.MOBILE_SPONSORSHIP_SLOT_AVAILABLE:return[f.PLAYER_MOBILE_PRIMARY];default:return[f.PLAYER_PRIMARY,f.PLAYER_LEAVEBEHIND]}},t.shouldSendMessageToCreative=function(e,t){var n=[d.TIMER,d.AUDIO_PLAYED,d.TOGGLE_PLAY];if((0,s.default)(n,t)){var r=e.metadata[e.player.currentUid];return(0,l.default)(r,"subtype")===p.SOUNDSCAPES}return!1},t.sendMessageToCreative=function(e,t,n){var r=(0,a.default)(".ad-player iframe").get(0);if(r&&r.contentWindow){var o={type:"playback time update"},i=e.player.position>t.player.position;n.type===d.AUDIO_PLAYED&&n.payload.type===p.SPONSORSHIP?(o.value=0,r.contentWindow.postMessage(JSON.stringify(o),"*")):n.type===d.TIMER&&i?(o.value=(0,u.default)(e.player.position),r.contentWindow.postMessage(JSON.stringify(o),"*")):n.type===d.TOGGLE_PLAY&&(o.type="toggle play",o.value=e.player.isPlaying?"play":"pause",r.contentWindow.postMessage(JSON.stringify(o),"*"))}},t.makeAdScrollable=R,t.isValidPlayerMessageEvent=function(e){return(e.origin.endsWith("npr.org")||e.origin.endsWith("nprinfra.org")||e.origin.endsWith("localhost"))&&(e.data===_.LISTEN||e.data===_.QUEUE||e.data===_.LEAVE_BEHIND_LISTEN||e.data===_.LEAVE_BEHIND_QUEUE)},t.engageAutoplayHack=function(){var e=void 0,t=(0,a.default)("#audio-player").data().jPlayer;(0,o.default)(t.status.media)||(e=(0,i.default)(t.status.media));var n=NPR.ServerConstants.serverMediaCache+"/templates/audio/mobile-play-start.mp3";(0,a.default)("#audio-player").jPlayer("setMedia",{mp3:n}).jPlayer("play").jPlayer("stop"),e&&(0,a.default)("#audio-player").jPlayer("setMedia",e)};var a=y(n(8)),o=y(n(109)),i=y(n(266)),s=y(n(123)),u=y(n(717)),l=y(n(5)),c=y(n(12)),d=g(n(2)),p=g(n(24)),f=g(n(120)),_=g(n(377)),E=y(n(204)),m=y(n(42));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var h={},v={},S=[],O={};function T(e,t,n){if(n.isEmpty)t("Sponsorship Util: googletag did not return any player ad");else{var r=n.slot.getSlotElementId();if(r===O[f.PLAYER_PRIMARY]||r===O[f.PLAYER_MOBILE_PRIMARY]){var o=void 0;r===O[f.PLAYER_MOBILE_PRIMARY]?(o="ad-player-mobile",(0,a.default)("."+o+" iframe").get(0).setAttribute("width","100%")):o="ad-player";var i=(0,a.default)("."+o+" iframe:first"),s=(0,a.default)(i).get(0).contentDocument,u=s.getElementById("sponsorship-data");if(!u){var l=s.querySelector("template");if(l){var d=l.content.firstChild.innerText,_=(new DOMParser).parseFromString(d,"text/html");u||(c.default.info("Sponsorship: Util: Looking for sponsorship data in document fragment"),u=_.querySelector("#sponsorship-data"))}else c.default.info("Sponsorship Util: Location: "+r+" no document fragment")}if(null===u)t("Sponsorship Util: Could not find valid player sponsorship data. order: "+n.campaignId+" lineItem: "+n.lineItemId);else{c.default.info("Sponsorship Util: Location: "+r+". Found valid sponsorship data.");var E=u.getAttribute("data-sponsorshipType")||p.STANDARD;e(function(e,t){var n={audioUrl:e.getAttribute("data-sponsorAudioFileUrl"),type:p.SPONSORSHIP,subtype:t};switch(t){case p.SOUNDSCAPES:return Object.assign({},n,{sponsorClickthrough:e.getAttribute("data-sponsorClickthrough"),supportedCustomAudioFileUrl:e.getAttribute("data-supportedCustomAudioFileUrl"),primaryThemeColor:e.getAttribute("data-primaryThemeColor"),secondaryThemeColor:e.getAttribute("data-secondaryThemeColor"),secondaryBackground:e.getAttribute("data-secondaryImage"),uid:e.getAttribute("data-trackingId"),animationIframeUrl:e.getAttribute("data-animationIframeUrl")});case p.CUSTOM_CHANNEL:return Object.assign({},n,{channel:e.getAttribute("data-channel")});default:return n}}(u,E)),R(f.PLAYER_PRIMARY)}}}}function A(e,t){return Object.assign({},e,{location:t})}function I(e){var t=e.getAdSlotName();if(Object.prototype.hasOwnProperty.call(h,t)){var n=e.zone?"/"+e.zone:"",r="/"+e.network+"/"+e.site+n;h[t].getAdUnitPath()===r?(Object.assign(e,{slot:h[t]}),e.slot.clearTargeting()):(googletag.destroySlots([h[t]]),e.createAdSlot())}else e.createAdSlot()}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e.targets,t);Object.getOwnPropertyNames(n).forEach((function(t){return e.slot.setTargeting(t,n[t])}))}function P(e){var t=e;return new Promise((function(e,n){if(Object.prototype.hasOwnProperty.call(v,t))e(v[t]);else{var r=NPR.ServerConstants.webHost+"/sponsorship/targeting/"+t;(0,m.default)(2e4,r).then((function(r){404===r.status?n("Error fetching targeting from targeting endpoint"):r.json().then((function(r){(0,o.default)(r)?n("The targeting endpoint did not return any data"):(v[t]=r,e(r))}))})).catch((function(){n("Error fetching targeting from targeting endpoint")}))}}))}function R(e){var t=window.innerHeight,n=170,r=735,o=(0,a.default)("#ad-standard-wrap"),i="is-below-threshold-height-standard";if(e===f.PLAYER_PRIMARY&&(n=123,r=675,o=(0,a.default)(".ad-player"),i="is-below-threshold-height-player"),document.getElementsByTagName("body")[0].classList.contains("has-global-header-sticky-cta")){var s=getComputedStyle(document.documentElement),u=parseInt(s.getPropertyValue("--global-cta-body-padding"),10);u&&(r+=u,n+=u)}t<r?((0,a.default)("body").addClass(i),o.css("height",t-n)):(0,a.default)("body").removeClass(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEligibleForEmbeddedDonation=t.isBlockListedForDonation=t.isNationalStationStory=t.EMBEDDED_DONATION_BLOCK_LIST=t.getCalloutBodyClassBlocklist=void 0;var r,a=n(44);(r=a)&&r.__esModule;var o=["about"],i=(t.getCalloutBodyClassBlocklist=function(){return o},t.EMBEDDED_DONATION_BLOCK_LIST=["tmplBlogNewsLiveIndex","tmplBlogMusicLiveIndex"]);t.isNationalStationStory=function(){return NPR.serverVars.publisherOrgId&&1!==Number.parseInt(NPR.serverVars.publisherOrgId,10)},t.isBlockListedForDonation=function(){var e=!1;return i.forEach((function(t){document.body.classList.contains(t)&&(e=!0)})),e},t.isEligibleForEmbeddedDonation=function(e){if(e.user.org.id){for(var t in e.donations.participatingStations)if(e.donations.participatingStations[t].id===e.user.org.id)return!0}else{if(e.localStations.stations){var n=e.donations.participatingStations.map((function(e){return e.id}));return e.localStations.stations.every((function(e){return n.includes(e)}))}if(e.localStations.localizationInfo&&e.localStations.localizationInfo.countryCode&&!["999","0","840"].includes(e.localStations.localizationInfo.countryCode))return!0}return!1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=s(a),i=(s(n(4)),n(89));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(){n.props.isCardMessageHidden||n.props.audio.isCurrentAudio||"HOME_PAGE_NEWS"!==n.props.currentPage||n.props.handlers.onHPHideStationCardMessage(),n.props.handlers.onPlayPauseRequested(n.props.audio,{playedFrom:n.props.metricsPlayedFrom||""})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props.handlers.onMetadataLoaded;"function"==typeof e&&(e(this.props.audio),this.props.handlers.onNowOnStreamsRegistrationRequested(this.props.audio)),this.props.handlers.onAudioModuleMounted()}},{key:"componentWillUnmount",value:function(){this.props.handlers.onNowOnStreamsUnregistrationRequested(this.props.audio)}},{key:"render",value:function(){var e=["audio-module-listen",this.props.audio.isPlaying?"is-playing":""],t=["audio-module-listen-icon",(0,i.getStreamPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying)],n=this.props.listenCta?this.props.listenCta:this.props.forceStreamName?null:"Listen",r=this.props.nowPlayingLabel?this.props.nowPlayingLabel:"Now Playing";return o.default.createElement("div",{className:"audio-module-controls"},o.default.createElement("button",{className:e.join(" "),onClick:this.onClick},o.default.createElement("b",{className:"audio-module-listen-inner"},o.default.createElement("b",{className:t.join(" ")}),n&&o.default.createElement("b",{className:"audio-module-listen-text"},o.default.createElement("b",{className:"audio-module-cta audio-module-cta--generic"},n),o.default.createElement("b",{className:"audio-module-cta audio-module-cta--display-title"},this.props.audio.title)))),this.props.forceStreamName&&o.default.createElement("div",{className:"audio-module-metadata"},o.default.createElement("h5",{className:"audio-module-metadata-label"},r),o.default.createElement("b",{className:"audio-module-metadata-text"},this.props.audio.title)))}}]),t}(a.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=u(a),i=(u(n(4)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(34))),s=n(246);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getMarkup",value:function(){return this.props.player.isEngaged?o.default.createElement("div",{className:"player-basic-wrap player-basic-wrap--lazy"},o.default.createElement("div",{className:"player-basic"},(0,s.canCollapse)(this.props.player.env.breakpoint,this.props.player.env.hasRightRail)&&o.default.createElement("button",{className:"toggle-expanded-engaged-player",onClick:this.props.handlers.onToggleExpanded,"aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close"),this.props.player.env.breakpoint!==i.SMALL&&o.default.createElement("b",{className:"player-play-pause-stop icn-loading","aria-label":"Loading"},"Loading"),o.default.createElement("div",{className:"player-controls"},o.default.createElement("b",{className:"player-previous previous-inactive","aria-hidden":"true"},"Inactive control: Previous"),o.default.createElement("b",{className:"player-rewind rewind-inactive","aria-hidden":"true"},"Inactive control: Rewind"),this.props.player.env.breakpoint===i.SMALL&&o.default.createElement("b",{className:"player-play-pause-stop icn-loading","aria-label":"Loading"},"Loading"),o.default.createElement("b",{className:"player-fast-forward fast-forward-inactive","aria-hidden":"true"},"Inactive control: Fast Forward"),o.default.createElement("b",{className:"player-skip skip-inactive","aria-hidden":"true"},"Inactive control: Skip")),o.default.createElement("b",{className:"track"},o.default.createElement("b",{className:"track-inner"})))):o.default.createElement("article",{className:"player-item item-initial item-initial--lazy"},this.props.player.env.breakpoint===i.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("b",{className:"play-initial"},o.default.createElement("b",null,"Loading")))}},{key:"render",value:function(){return this.getMarkup()}}]),t}(a.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={STATION_FINDER:"/stations/"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableContinuousListening=function(){return{type:r.ENABLE_CONTINUOUS_LISTENING}},t.disableContinuousListening=function(){return{type:r.DISABLE_CONTINUOUS_LISTENING}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=A(a),i=(A(n(4)),n(10)),s=A(n(5)),u=T(n(28)),l=T(n(93)),c=T(n(191)),d=T(n(361)),p=A(n(348)),f=A(n(556)),_=A(n(349)),E=A(n(166)),m=n(35),g=n(64),y=n(144),h=(n(258),n(108)),v=n(15),S=A(n(557)),O=T(n(194));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,y.getBoundHandlers)(n,["onPlayPausePressed","onQueue","onAudioModuleMounted","onCountryRequested","onNPRPlusGetAccessPressed"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onPlayPausePressed",value:function(e){this.props.dispatch(u.playPauseButtonPressed(e,{playedFrom:this.getPlayedFrom()}))}},{key:"onQueue",value:function(e){this.props.dispatch(l.queueButtonPressed(e,c.PAGE,this.props.currentPlaylistEtag,this.props.currentPlaylistId,this.props.metadata[this.props.audio.uid]))}},{key:"onAudioModuleMounted",value:function(){this.props.dispatch(u.audioModuleMounted())}},{key:"onCountryRequested",value:function(){this.props.dispatch(u.countryRequested())}},{key:"onNPRPlusGetAccessPressed",value:function(){this.props.dispatch(O.showNPRPlusModal())}},{key:"getPlayedFrom",value:function(){return(0,s.default)(this.props,"metrics.playedFrom")||"from page"}},{key:"render",value:function(){var e=this.props.metadata[this.props.audio.uid];if(!e)return o.default.createElement(E.default,null);if(!1===e.available)return o.default.createElement(_.default,{message:e.unavailableText});var t=!1,n=o.default.createElement(S.default,{handlers:this.handlers,audio:e});if([d.PLUS_EXCLUSIVE_TRAILER,d.PLUS_EXCLUSIVE_BONUS,d.PLUS_EXCLUSIVE_EARLY_ACCESS_OR_FULL].includes((0,s.default)(this.props.podcastEpisodeContentCharacteristicsForAudioId,"podcastEpisodeDerivedPlusType"))){if(!this.props.isUserEntitledToPodcastChannel)return n;t=!0}var r=o.default.createElement(f.default,{handlers:this.handlers,audio:e,renderPlatform:this.props.renderPlatform,isSmallBreakpoint:this.props.isSmallBreakpoint,callToActionOverrideText:this.props.callToActionOverrideText,hasPlusAccess:t});if(e.geofencedRegions&&e.geofencedRegions.length){var a=o.default.createElement(_.default,{message:"Audio unavailable in your region"});return o.default.createElement(p.default,{geofencedRegions:e.geofencedRegions,country:this.props.player.env.country,inside:r,outside:a,onCountryRequested:this.handlers.onCountryRequested})}return r}}]),t}(a.Component);t.default=(0,i.connect)((function(e,t){return{metadata:(0,g.getDerivedMetadata)(e),renderPlatform:(0,m.getRenderPlatform)(e),currentPlaylistEtag:(0,v.getCurrentPlaylistEtag)(e),currentPlaylistId:(0,v.getCurrentPlaylistId)(e),isSmallBreakpoint:(0,h.isSmallBreakpoint)(e),listeningService:e.listeningService,user:e.user,isPlusPageStatusDetermined:(0,v.isPlusPageStatusDetermined)(e),hasPremiumPodcastChannelContent:(0,v.hasPremiumPodcastChannelContent)(e),podcastEpisodeDerivedPlusType:(0,v.getPodcastEpisodeDerivedPlusType)(e),podcastChannelParentId:(0,v.getPodcastChannelParentId)(e),podcastEpisodeContentCharacteristicsForAudioId:(0,v.getPodcastEpisodeContentCharacteristicsForAudioId)(e,(0,s.default)(t.audio,"uid")),isUserEntitledToPodcastChannel:(0,v.isUserEntitledToPodcastChannelById)(e,(0,s.default)((0,v.getPodcastEpisodeContentCharacteristicsForAudioId)(e,(0,s.default)(t.audio,"uid")),"podcastChannelParentId"))}}))(I),I.defaultProps={renderPlatform:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=s(a),i=(s(n(4)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(252)));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onCountryRequested;e.country===i.PENDING&&"function"==typeof t&&this.props.onCountryRequested()}},{key:"render",value:function(){var e=this.props,t=e.geofencedRegions,n=e.country,r=e.inside,a=e.outside;return n===i.PENDING?o.default.createElement("div",{style:{display:"none"}}):-1!==t.indexOf(n)?o.default.createElement("div",null,r):o.default.createElement("div",null,a)}}]),t}(a.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1));a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.message;return r.default.createElement("div",{className:"audio-module-controls audio-unavailable"},r.default.createElement("b",{className:"audio-module-listen icn-play is-inactive"}),r.default.createElement("b",{className:"audio-availability-message"},t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),a=(o(n(4)),o(n(31)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.podcast;if(t){var n,o="callout callout--podcast callout--podcast-"+t.name,i=(t.name.toLowerCase().startsWith("the")?"Subscribe to":"Subscribe to the")+" "+((n=t.name)&&n.indexOf(" Podcast")>=0&&(n=n.replace(" Podcast","")),n+" Podcast"),s=t.itunesUrl,u=t.googlePodcastsUrl,l=t.rssUrl,c=t.nprOneUniversalUrl,d=t.amazonAlexaUrl,p=t.spotifyUrl;t.name&&t.name.toLowerCase();return r.default.createElement("section",{className:o},r.default.createElement("div",{className:"callout__inner"},t.brandingUrl?r.default.createElement("div",{className:"callout__branding"},r.default.createElement("img",{className:"callout__branding-logo",src:t.brandingUrl,alt:"Podcast logo"})):"",r.default.createElement("div",{className:"callout__main"},r.default.createElement("h2",{className:"callout__header"},i),r.default.createElement("ul",{className:"callout__links"},c&&r.default.createElement("li",null,r.default.createElement(a.default,{href:c,className:"callout__link podcast-tools__item--NPR-one",metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"npr one",clickType:"podcast standard subscribe box"}},"NPR One")),s&&r.default.createElement("li",null,r.default.createElement(a.default,{href:s,className:"callout__link podcast-tools__item--apple-podcasts",metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"itunes",clickType:"podcast standard subscribe box"}},"Apple Podcasts")),p&&r.default.createElement("li",null,r.default.createElement(a.default,{href:p,className:"callout__link podcast-tools__item--spotify",metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"spotify",clickType:"podcast standard subscribe box"}},"Spotify")),u&&r.default.createElement("li",null,r.default.createElement(a.default,{href:u,className:"callout__link podcast-tools__item--google-podcasts",metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"google podcasts",clickType:"podcast standard subscribe box"}},"Google Podcasts")),d&&r.default.createElement("li",null,r.default.createElement(a.default,{href:d,className:"callout__link podcast-tools__item--amazon-alexa",metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"amazon alexa",clickType:"podcast standard subscribe box"}},"Amazon Alexa")),l&&r.default.createElement("li",null,r.default.createElement(a.default,{href:l,className:"callout__link podcast-tools__item--rss",metricsGA4:{category:"podcast",action:"podcast_follow_click",clickName:"rss",clickType:"podcast standard subscribe box"}},"RSS"))))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),i=(c(n(4)),c(n(118))),s=c(n(31)),u=n(38),l=n(81);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=(0,l.getExperimentId)(),t=(0,l.getVariationId)(),n=String(this.props.index+1);return o.default.createElement("div",{className:"story with-image "+(this.props.hasAudio?"has-audio":""),href:this.props.url},o.default.createElement("div",null,this.props.slug?o.default.createElement(s.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:t,experementId:e,clickType:"slug",clickName:this.props.widgetText,clickPosition:n,clickUrl:this.props.url}},o.default.createElement("h2",{className:"slug"},this.props.slug)):null,o.default.createElement(s.default,{href:this.props.url,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:t,experementId:e,clickType:"story",clickName:this.props.widgetText,clickPosition:n,clickUrl:this.props.url}},o.default.createElement("h3",null,this.props.title))),o.default.createElement("figure",{className:"thumb-image"},o.default.createElement(s.default,{href:this.props.url,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:t,experementId:e,clickType:"image",clickName:this.props.widgetText,clickPosition:n,clickUrl:this.props.url}},(0,i.default)(this.props.primaryImageHtml))))}}]),t}(a.Component);t.default=d,d.defaultProps={url:"",slug:"",slugUrl:"",title:"",primaryImageHtml:"",hasAudio:!1,widgetText:"",index:0}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){window.Modernizr=function(e,t,n){function a(e,t){return(void 0===e?"undefined":r(e))===t}function o(e,t){return!!~(""+e).indexOf(t)}function i(e,t){for(var r in e){var a=e[r];if(!o(a,"-")&&E[a]!==n)return"pfx"!=t||a}return!1}function s(e,t,r){for(var o in e){var i=t[e[o]];if(i!==n)return!1===r?e[o]:a(i,"function")?i.bind(r||t):i}return!1}function u(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+y.join(r+" ")+r).split(" ");return a(t,"string")||a(t,"undefined")?i(o,t):s(o=(e+" "+h.join(r+" ")+r).split(" "),t,n)}if(e.hasOwnProperty("Modernizr"))return e.Modernizr;var l,c,d={},p=t.documentElement,f="modernizr",_=t.createElement(f),E=_.style,m=" -webkit- -moz- -o- -ms- ".split(" "),g="Webkit Moz O ms",y=g.split(" "),h=g.toLowerCase().split(" "),v={},S=[],O=S.slice,T=function(e,n,r,a){var o,i,s,u,l=t.createElement("div"),c=t.body,d=c||t.createElement("body");if(parseInt(r,10))for(;r--;)(s=t.createElement("div")).id=a?a[r]:f+(r+1),l.appendChild(s);return o=["&#173;",'<style id="s',f,'">',e,"</style>"].join(""),l.id=f,(c?l:d).innerHTML+=o,d.appendChild(l),c||(d.style.background="",d.style.overflow="hidden",u=p.style.overflow,p.style.overflow="hidden",p.appendChild(d)),i=n(l,e),c?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),p.style.overflow=u),!!i},A={}.hasOwnProperty;for(var I in c=a(A,"undefined")||a(A.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return A.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=O.call(arguments,1),r=function r(){if(this instanceof r){var a=function(){};a.prototype=t.prototype;var o=new a,i=t.apply(o,n.concat(O.call(arguments)));return Object(i)===i?i:o}return t.apply(e,n.concat(O.call(arguments)))};return r}),v.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",m.join("touch-enabled),("),f,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(e){n=9===e.offsetTop})),n},v.csstransforms3d=function(){var e=!!u("perspective");return e&&"webkitPerspective"in p.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},v.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return n},v.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return n},v)c(v,I)&&(l=I.toLowerCase(),d[l]=v[I](),S.push((d[l]?"":"no-")+l));return d.addTest=function(e,t){if("object"==(void 0===e?"undefined":r(e)))for(var a in e)c(e,a)&&d.addTest(a,e[a]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,p.className+=" "+(t?"":"no-")+e,d[e]=t}return d},function(e){E.cssText=e}(""),_=null,d._version="2.8.3",d._prefixes=m,d._domPrefixes=h,d._cssomPrefixes=y,d.mq=function(t){var n,r=e.matchMedia||e.msMatchMedia;return r?r(t)&&r(t).matches||!1:(T("@media "+t+" { #"+f+" { position: absolute; } }",(function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position})),n)},d.testProp=function(e){return i([e])},d.testAllProps=u,d.testStyles=T,p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+S.join(" "),d}(this,this.document),function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function a(e){var t=h[e[g]];return t||(t={},y++,e[g]=y,h[y]=t),t}function o(e,n,r){return n||(n=t),f?n.createElement(e):(r||(r=a(n)),!(o=r.cache[e]?r.cache[e].cloneNode():m.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e)).canHaveChildren||E.test(e)||o.tagUrn?o:r.frag.appendChild(o));var o}function i(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(v,t.frag)}function s(e){e||(e=t);var r=a(e);return v.shivCSS&&!p&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),f||i(e,r),e}function u(e){for(var t,n=e.getElementsByTagName("*"),a=n.length,o=RegExp("^(?:"+r().join("|")+")$","i"),i=[];a--;)t=n[a],o.test(t.nodeName)&&i.push(t.applyElement(l(t)));return i}function l(e){for(var t,n=e.attributes,r=n.length,a=e.ownerDocument.createElement(O+":"+e.nodeName);r--;)(t=n[r]).specified&&a.setAttribute(t.nodeName,t.nodeValue);return a.style.cssText=e.style.cssText,a}function c(e){for(var t,n=e.split("{"),a=n.length,o=RegExp("(^|[\\s,>+~])("+r().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),i="$1"+O+"\\:$2";a--;)(t=n[a]=n[a].split("}"))[t.length-1]=t[t.length-1].replace(o,i),n[a]=t.join("}");return n.join("{")}function d(e){function t(){clearTimeout(i._removeSheetTimer),r&&r.removeNode(!0),r=null}var r,o,i=a(e),s=e.namespaces,l=e.parentWindow;return!T||e.printShived||(void 0===s[O]&&s.add(O),l.attachEvent("onbeforeprint",(function(){t();for(var a,i,s,l=e.styleSheets,d=[],p=l.length,f=Array(p);p--;)f[p]=l[p];for(;s=f.pop();)if(!s.disabled&&S.test(s.media)){try{i=(a=s.imports).length}catch(e){i=0}for(p=0;i>p;p++)f.push(a[p]);try{d.push(s.cssText)}catch(e){}}d=c(d.reverse().join("")),o=u(e),r=n(e,d)})),l.attachEvent("onafterprint",(function(){(function(e){for(var t=e.length;t--;)e[t].removeNode()})(o),clearTimeout(i._removeSheetTimer),i._removeSheetTimer=setTimeout(t,500)})),e.printShived=!0),e}var p,f,_=e.html5||{},E=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",y=0,h={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",p="hidden"in e,f=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){p=!0,f=!0}}();var v={elements:_.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==_.shivCSS,supportsUnknownElements:f,shivMethods:!1!==_.shivMethods,type:"default",shivDocument:s,createElement:o,createDocumentFragment:function(e,n){if(e||(e=t),f)return e.createDocumentFragment();for(var o=(n=n||a(e)).frag.cloneNode(),i=0,s=r(),u=s.length;u>i;i++)o.createElement(s[i]);return o}};e.html5=v,s(t);var S=/^$|\b(?:all|print)\b/,O="html5shiv",T=!f&&function(){var n=t.documentElement;return void 0!==t.namespaces&&void 0!==t.parentWindow&&void 0!==n.applyElement&&void 0!==n.removeNode&&void 0!==e.attachEvent}();v.type+=" print",v.shivPrint=d,d(t)}(this,document),e.exports=Modernizr}).call(window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(8)),a=c(n(12)),o=c(n(628)),i=c(n(629)),s=c(n(21)),u=c(n(44)),l=n(260);function c(e){return e&&e.__esModule?e:{default:e}}n(631);var d=E(),p="",f=['meta[name="date"]','meta[name="description"]','link[rel="canonical"]','link[rel="alternate"]','meta[property^="og:"]','meta[property^="fb:"]','meta[name^="twitter:"]','meta[name="robots"]'];r.default.pjax.defaults.timeout=6e4,r.default.pjax.defaults.fragment="main",r.default.pjax.defaults.maxCacheLength=0;var _=s.default.getSessionInfo();function E(){return new r.default.Deferred}function m(e){i.default.progress(10),r.default.pjax({url:e,container:"main"})}s.default.isMobileNativeApp(_.renderPlatform)||((0,r.default)(document).on("submit","form.pjaxForm",(function(e){return a.default.info("Handling pjax form submission"),r.default.pjax.submit(e,"main"),!1})),(0,r.default)(document).on("click","a[href]:not([data-pjax-exempt])",(function(e){var t=e.currentTarget;if(a.default.info("Handling click",t.href),o.default.isNavigationEvent(e,location,t)){if(a.default.info("Navigation event detected",t.href),o.default.shouldOpenInNewTab(e,location,t))a.default.info("Opening link in new tab",t.href),window.open(t.href);else{if(o.default.isExemptFromPersistentNavigation(t.href))return a.default.info("Url is exempt from pjax navigation.",t.href),!0;if(e.currentTarget.classList.contains("reload-page"))return a.default.info("Url is exempt from pjax navigation.",t.href),!0;a.default.info("Beginning pjax navigation",t.href),m(u.default.mirrorProtocolAndSubDomain(location,t))}return!1}})),document.addEventListener("npr:pianoContentRecommendationsClick",(function(e){if(e&&e.detail&&e.detail.href){var t=new URL(e.detail.href);location.hostname!==t.hostname?(a.default.info("Opening link in new tab",t.href),window.open(t.href)):(a.default.info("Beginning pjax navigation",t.href),m(t=u.default.mirrorProtocolAndSubDomain(location,t)))}}))),(0,r.default)(document).on("pjax:send",(function(e,t,n){a.default.info("pjax:send"),i.default.deactivateMainContentArea(),i.default.progress(20);var r=document.createEvent("Event");r.initEvent("npr:pageUnload",!0,!0),document.dispatchEvent(r),d=E()})),(0,r.default)(document).on("pjax:beforeReplace",(function(e,t,n,o,s){a.default.info("pjax:beforeReplace"),i.default.progress(50);var u=(0,r.default)("head"),c=(0,r.default)("body"),d=(0,r.default)(r.default.parseHTML(n.responseText)),_=d.filter('link[rel="stylesheet"]:not([data-persist])').map((function(e,t){return(0,r.default)(t).attr("href")})).toArray(),E=u.find('link[rel="stylesheet"]:not([data-persist])').map((function(e,t){return(0,r.default)(t).attr("href")})).toArray(),m=(0,r.default)(),g=[];E.forEach((function(e){if(-1===_.indexOf(e)||-1!==e.indexOf("canary")){var t=(0,r.default)('link[rel="stylesheet"][href="'+e+'"]');m=m.add(t)}})),_.forEach((function(e){-1!==E.indexOf(e)&&-1===e.indexOf("canary")||g.push(e)}));var y=n.responseText.match(/<body .*?>/)[0],h=y.match(/id="(.*?)"/)[1],v=y.match(/class="(.*?)"/)[1],S=y.match(/data-pjax-modules="(.*?)"/)[1];delete window.NPR.ServerConstants,delete window.NPR.serverVars,u.find("#npr-vars").remove();var O=n.responseText.match(/<script id="npr-vars"[\s\S]*?<\/script>/)[0];(0,r.default)(O).appendTo(u),NPR&&NPR.serverVars&&NPR.serverVars.persistenceVersion!==p&&location.reload();var T=!0,A=!1,I=void 0;try{for(var b,P=f[Symbol.iterator]();!(T=(b=P.next()).done);T=!0){var R=b.value;u.find(R).remove(),u.append(d.filter(R))}}catch(e){A=!0,I=e}finally{try{!T&&P.return&&P.return()}finally{if(A)throw I}}c.find(".tp-modal").remove(),tp&&tp.offer&&(tp.offer.close(),(0,l.removeFocusTrapPianoModal)()),c.find(".global-header-cta-mount").empty(),c.find(".global-header-sticky-cta-mount").empty(),g.length>0?(a.default.info("Loading new stylesheets",g),i.default.progress(75),(0,r.default)("main").html(""),c.attr("id",h).attr("class",v).data("pjax-modules",S),m.remove(),function(e){r.default.each(e,(function(e,t){(0,r.default)("<link>",{rel:"stylesheet",href:t}).appendTo("head")}));var t=new r.default.Deferred,n=document.createElement("a");n.id="pjax-css-loaded",n.style.display="none",(0,r.default)("body").append(n);var o=(0,r.default)("#pjax-css-loaded");a.default.info("Setting interval to watch for CSS canary");var i=setInterval((function(){"cell"===o.css("cursor")&&(a.default.info("CSS canary detected; clearing interval"),o.remove(),clearInterval(i),t.resolve())}),35);return t.promise()}(g).done((function(){a.default.info("New stylesheets loaded"),i.default.progress(90),s()}))):(a.default.info("No new stylesheets to load"),c.attr("id",h).attr("class",v).data("pjax-modules",S),m.remove(),i.default.progress(90),s()),(0,r.default)(document).trigger("npr:pageReceived")})),(0,r.default)(document).on("pjax:success",(function(e,t,n,r,o){a.default.info("pjax:success"),i.default.progress(100);var s=document.createEvent("Event");s.initEvent("npr:pageLoad",!0,!0),document.dispatchEvent(s),d.resolve()})),(0,r.default)(document).on("pjax:complete",(function(e,t,n,r){i.default.activateMainContentArea()})),(0,r.default)(document).ready((function(){a.default.info("$(document).ready(): "+document.location.href),p=NPR.serverVars.persistenceVersion,(0,r.default)(document).trigger("npr:pageLoad"),d.resolve()})),t.default={getPromise:function(){return d.promise()},navigateTo:m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.default={stationSearchRequested:function(e){return{type:r.STATION_SEARCH_REQUESTED,payload:{term:e}}},stationSearchResultsLoaded:function(e,t){return{type:r.STATION_SEARCH_RESULTS_LOADED,payload:{term:e,results:t}}},stationSearchFailed:function(){return{type:r.STATION_SEARCH_FAILED}},userSelectsStation:function(e){return{type:r.USER_SELECTS_STATION,payload:{id:e}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getRewindPosition=E,t.getFastForwardPosition=m,t.getExpanded=g,t.getIsAwaitingData=h,t.reducer=v;var a=f(n(2)),o=f(n(24)),i=f(n(34)),s=f(n(252)),u=n(208),l=f(n(356)),c=n(246),d=n(110),p=n(119);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var _={env:{breakpoint:i.SMALL,width:0,hasTouchSupport:!1,country:s.PENDING,hasRightRail:!0,isPageVisible:!0},isVisible:!0,isPlayRequested:!1,isEngaged:!1,isExpanded:!1,isPaneExpanded:!1,isPlaying:!1,isAudioPlaying:!1,isLoading:!1,isAwaitingData:!1,userEverInvokedPlay:!1,position:0,returnPosition:0,isScrubbing:!1,pendingUid:"",currentUid:"",volume:.8,featuredAudio:{featuredAudioProgramUid:"",featuredAudioUid:"",featuredAudioText:"",featuredAudioImage:""},abTestRemoveNewscast:!1,hasError:!1,errorType:l.NONE,isFetchingAccessToken:!1};function E(e){return Math.max((e||0)-15,0)}function m(e,t){return Math.min((e||0)+15,t)}function g(e,t,n){return t||e===i.LARGE&&n}function y(e){return e!==o.SPONSORSHIP}function h(e){return e.player.isAwaitingData}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments[1];switch(t.type){case a.STATE_LOADED:if(!t.payload.state.player)return e;var n=t.payload,s=n.stateTime,f=n.currentTime;if((0,u.isWithinContinuityPeriod)(s,f)){var h=t.payload.state.player.currentUid,v=(0,d.isNewscastUid)(h)?0:t.payload.state.player.position,S=(0,p.getAudioMetadataForUid)(h,t.payload.state.metadata),O=null;return S&&(O=(0,p.getMetadataTypeForUid)(t.payload.state.metadata,h)),(!S||O&&!y(O))&&(h="",v=0),r({},e,t.payload.state.player,{currentUid:h,pendingUid:"",position:v,isPlaying:!1,isAudioPlaying:!1,isPlayRequested:!1,isAwaitingData:!1,userEverInvokedPlay:!1,isEngaged:!1,isPaneExpanded:!1,featuredAudio:r({},e.featuredAudio,{featuredAudioProgramUid:"",featuredAudioUid:"",featuredAudioText:"",featuredAudioImage:""}),abTestRemoveNewscast:!1,hasError:!1,errorType:l.NONE})}return e;case a.RESET_FLOW_STATE_FOR_NEW_TOKEN:return r({},e,{isVisible:!0,isPlayRequested:!1,isEngaged:!1,isExpanded:!1,isPaneExpanded:!1,isPlaying:!1,isAudioPlaying:!1,isLoading:!1,isAwaitingData:!1,userEverInvokedPlay:!1,position:0,returnPosition:0,isScrubbing:!1,pendingUid:"",currentUid:"",isFetchingAccessToken:!1});case a.INITIAL_WIDTH_DETECTED:var T=e.isExpanded;return t.payload.breakpoint===i.SMALL?T=!1:e.env.breakpoint!==t.payload.breakpoint&&(T=(0,c.getCollapsed)(t.payload.breakpoint,e.env.hasRightRail)),Object.assign({},e,{isExpanded:T,env:Object.assign({},e.env,{breakpoint:t.payload.breakpoint,width:t.payload.width}),isPaneExpanded:t.payload.breakpoint!==i.SMALL});case a.WIDTH_DETECTED:return Object.assign({},e,{isExpanded:e.env.breakpoint!==t.payload.breakpoint?(0,c.getCollapsed)(t.payload.breakpoint,e.env.hasRightRail):e.isExpanded,env:Object.assign({},e.env,{breakpoint:t.payload.breakpoint,width:t.payload.width}),isPaneExpanded:t.payload.breakpoint!==i.SMALL||e.isPaneExpanded});case a.RIGHTRAIL_DETECTED:var A=(0,c.getCollapsed)(e.env.breakpoint,t.payload),I=!!A||e.isExpanded;return Object.assign({},e,{env:Object.assign({},e.env,{hasRightRail:t.payload}),isExpanded:t.payload&&g(e.env.breakpoint,I,e.isEngaged)});case a.COUNTRY_DETECTED:return Object.assign({},e,{env:Object.assign({},e.env,{country:t.payload})});case a.TOUCH_DETECTED:return Object.assign({},e,{env:Object.assign({},e.env,{hasTouchSupport:!0})});case a.PAGE_VISIBILITY_DETECTED:return Object.assign({},e,{env:Object.assign({},e.env,{isPageVisible:t.payload})});case a.TOGGLE_EXPANDED:return Object.assign({},e,{isExpanded:!e.isExpanded,isEngaged:!0});case a.TOGGLE_PLAY:return Object.assign({},e,{isPlaying:!e.isPlaying});case a.PLAY_PAUSE_REQUESTED:var b=!t.payload.isPlaying;return Object.assign({},e,{isEngaged:!0,userEverInvokedPlay:!0,isPlayRequested:b});case a.PLAY_TOP_OF_FLOW:return r({},e,{isExpanded:e.env.breakpoint!=i.SMALL||e.isExpanded,isEngaged:e.env.breakpoint!=i.SMALL||e.isEngaged});case a.NEW_PLAY_REQUESTED:return Object.assign({},e,{position:t.payload.startPosition,isPlaying:!1});case a.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_REQUESTED:return r({},e,{pendingUid:t.payload.uid,position:0,isPlaying:!1});case a.NEW_AUDIO_SEGMENT_PLAY_REQUESTED:return r({},e,{pendingUid:t.payload.metadata.uid});case a.SPONSORSHIP_REQUESTED:return r({},e,{returnPosition:e.position||0});case a.SPONSORSHIP_LOADED:return Object.assign({},e,{position:0,isPlaying:!1});case a.SOUNDSCAPES_LOADED:return Object.assign({},e,{userEverInvokedPlay:!0,isEngaged:!0,position:0});case a.AUDIO_RECEIVED:var P=t.payload.metadata.type===o.SPONSORSHIP&&e.returnPosition||0,R=t.payload.startPosition;return 0===P&&0!==e.returnPosition&&(R=e.returnPosition),Object.assign({},e,{currentUid:t.payload.metadata.uid,isLoading:!t.payload.shouldImmediatelyPlay,isPlayRequested:!t.payload.shouldImmediatelyPlay,pendingUid:"",isPlaying:t.payload.shouldImmediatelyPlay||!1,isAudioPlaying:t.payload.shouldImmediatelyPlay||!1,position:R,returnPosition:P});case a.AUDIO_PLAYED:return Object.assign({},e,{isLoading:!1,isPlaying:!0,isPlayRequested:!1});case a.LINK_CLICKED:return Object.assign({},e,{isExpanded:(0,c.getCollapsed)(e.env.breakpoint,e.env.hasRightRail)});case a.REWIND:return Object.assign({},e,{position:E(e.position)});case a.FAST_FORWARD:return Object.assign({},e,{position:m(e.position,t.payload.duration)});case a.TIMER:return e.isAudioPlaying?Object.assign({},e,{position:e.position+t.payload.sinceLastTick/1e3}):e;case a.AUDIO_BUFFERING_STARTED:return r({},e,{isAudioPlaying:!1,isLoading:!0});case a.AUDIO_BUFFERING_FINISHED:return r({},e,{isAudioPlaying:!0,isLoading:!1});case a.AUDIO_PLAYING_STATUS_DIRECT:return Object.assign({},e,{isPlaying:t.payload.isAudioPlaying,isAudioPlaying:t.payload.isAudioPlaying,isPlayRequested:!1,isLoading:!1});case a.SKIP:case a.AUDIO_COMPLETE:return Object.assign({},e,{position:0,isPlaying:!1});case a.SPONSORSHIP_INTERRUPTED:var D=e.returnPosition||0;return r({},e,{isLoading:!1,isPlaying:!1,returnPosition:0,position:D});case a.AUDIO_ERROR:return Object.assign({},e,{isLoading:!1,isPlayRequested:!1,pendingUid:""});case a.SEEK:return Object.assign({},e,{position:t.payload.position});case a.SET_AUDIO_PLAYER_VOLUME:return r({},e,{volume:t.payload});case a.INITIALIZE_FEATURED_AUDIO_SUCCEEDED:var N=t.payload,w=N.featuredAudioProgramUid,C=N.featuredAudioUid,L=N.featuredAudioText,M=N.featuredAudioImage;return r({},e,{featuredAudio:r({},e.featuredAudio,{featuredAudioProgramUid:w,featuredAudioUid:C,featuredAudioText:L,featuredAudioImage:M})});case a.AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING:return r({},e,{abTestRemoveNewscast:!0});case a.SCRUB_BEGIN:return Object.assign({},e,{isScrubbing:!0});case a.SCRUB_END:return Object.assign({},e,{isScrubbing:!1});case a.ADD_STREAM_TO_STAGE_REQUESTED:return r({},e,{isEngaged:!0,isExpanded:!0,currentUid:t.payload.uid,pendingUid:""});case a.MOBILE_NATIVE_DID_START_LOADING:return Object.assign({},e,{currentUid:t.payload,pendingUid:"",isLoading:!0,isPlaying:!1});case a.MOBILE_NATIVE_DID_START_PLAYING:return Object.assign({},e,{currentUid:t.payload,pendingUid:"",isLoading:!1,isPlaying:!0});case a.MOBILE_NATIVE_DID_STOP_PLAYING:return Object.assign({},e,{currentUid:null,isLoading:!1,isPlaying:!1});case a.PANE_CHANGE_DIRECT:return r({},e,{isEngaged:!0});case a.PANE_CHANGE_WITH_EXPAND:case a.SUBPANE_CHANGE_WITH_EXPAND:return r({},e,{isExpanded:!0,isEngaged:!0,isPaneExpanded:!0});case a.COLLAPSE_PANE:return r({},e,{isPaneExpanded:!1});case a.ANONYMOUS_ACCESS_TOKEN_REQUESTED:return r({},e,{isFetchingAccessToken:!0});case a.ACCESS_TOKEN_RECEIVED:case a.ANONYMOUS_ACCESS_TOKEN_RECEIVED:case a.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED:case a.ANONYMOUS_ACCESS_TOKEN_REQUEST_FAILED:return r({},e,{isFetchingAccessToken:!1});case a.GENERAL_PLAYER_ERROR:return r({},e,{hasError:!0,errorType:l.GENERAL_ERROR});case a.AUTHENTICATION_PLAYER_ERROR:return r({},e,{hasError:!0,errorType:l.AUTHENTICATION_ERROR});case a.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_REQUESTED:case a.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_REQUESTED:case a.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_REQUESTED:case a.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_REQUESTED:case a.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_REQUESTED:case a.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_REQUESTED:return r({},e,{isAwaitingData:!0,userEverInvokedPlay:!0});case a.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_SKIP:case a.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_COMPLETE:case a.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_AUDIO_ERROR:return r({},e,{isLoading:!1,isPlaying:!1});case a.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_SUCCEEDED:case a.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED:case a.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED:case a.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_SUCCEEDED:return r({},e,{position:0,isAwaitingData:!1});case a.PLAY_AUDIO_FROM_PLAYLIST:var k=t.payload.startPosition;return r({},e,{position:k||0});case a.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_SUCCEEDED:case a.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_SUCCEEDED:var U=t.payload.startPosition;return r({},e,{position:U||0,isAwaitingData:!1});case a.DELETE_PLAYLIST_ITEMS_REQUESTED:case a.ADD_PLAYLIST_ITEMS_REQUESTED:case a.ADD_CHANNEL_TO_PLAYLIST_REQUESTED:case a.ADD_PLAYLIST_ITEMS_TO_TOP_REQUESTED:case a.UPDATE_PLAYLIST_UIDS_REQUESTED:case a.SEND_RATINGS_REQUESTED:return r({},e,{isAwaitingData:!0});case a.ON_RAMP_FLOW_RECOMMENDATIONS_RECEIVED:case a.DELETE_PLAYLIST_ITEMS_SUCCEEDED:case a.ADD_PLAYLIST_ITEMS_SUCCEEDED:case a.ADD_CHANNEL_TO_PLAYLIST_SUCCEEDED:case a.UPDATE_PLAYLIST_UIDS_SUCCEEDED:case a.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_FAILED:case a.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_FAILED:case a.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_FAILED:case a.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_FAILED:case a.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_FAILED:case a.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_FAILED:case a.DELETE_PLAYLIST_ITEMS_FAILED:case a.ADD_PLAYLIST_ITEMS_FAILED:case a.ADD_CHANNEL_TO_PLAYLIST_FAILED:case a.UPDATE_PLAYLIST_UIDS_FAILED:case a.SEND_RATINGS_FAILED:case a.FLOW_RECOMMENDATIONS_RECEIVED:return r({},e,{isAwaitingData:!1});case a.FORCE_PLAY_AUDIO_FOR_PREVIEW:var x=t.payload.metadata.uid;return r({},e,{isVisible:!0,isPlayRequested:!1,isEngaged:!0,isExpanded:!0,isPaneExpanded:!0,isPlaying:!0,isAudioPlaying:!0,isLoading:!1,isAwaitingData:!1,userEverInvokedPlay:!0,position:0,returnPosition:0,isScrubbing:!1,pendingUid:"",currentUid:x,volume:.8,abTestRemoveNewscast:!1,hasError:!1,errorType:"NONE",isFetchingAccessToken:!1});default:return e}}t.default={reducer:v,getIsAwaitingData:h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NONE="NONE",t.GENERAL_ERROR="GENERAL_ERROR",t.AUTHENTICATION_ERROR="AUTHENTICATION_ERROR"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPONSORSHIP_INTERVAL=720},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var o=function(e){return e.programData||{}},i={programId:"",programAudioContainer:null,forceOnAir:!1,AudioMessageElement:null,audioSegmentUrls:[],zipFilename:""};t.default={getAudioSegmentUrls:function(e){return o(e).audioSegmentUrls||[]},getProgramId:function(e){return o(e).programId},getZipFilename:function(e){return o(e).zipFilename||""},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case a.PAGE_DETECTED:return r({},e,i);case a.PROGRAM_PAGE_INIT_SUCCEEDED:return r({},e,{programId:t.payload.programId,programAudioContainer:t.payload.programAudioContainer,forceOnAir:t.payload.forceOnAir,AudioMessageElement:t.payload.AudioMessageElement});case a.AUDIO_SEGMENT_URLS_RECEIVED:var n=t.payload,o=n.audioSegmentUrls,s=n.zipFilename;return r({},e,{audioSegmentUrls:o,zipFilename:s});default:return e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(679)),a=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}function i(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function s(e){if(i())return window.localStorage.getItem(e);throw new r.default("localStorage is not supported on this browser.")}t.default={isSupported:i,get:s,set:function(e,t){if(!i())throw new r.default("localStorage is not supported on this browser.");try{window.localStorage.setItem(e,t)}catch(e){a.default.warning("localStorage.setItem failed: may be full",{},e)}},isSet:function(e){if(i())return null!==s(e);throw new r.default("localStorage is not supported on this browser.")},remove:function(e){if(!i())throw new r.default("localStorage is not supported on this browser.");window.localStorage.removeItem(e)},clear:function(){if(!i())throw new r.default("localStorage is not supported on this browser.");window.localStorage.clear()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(8),o=(r=a)&&r.__esModule?r:{default:r};t.default={fireScrollOffsetReset:function(){(0,o.default)(document).trigger("npr:fireScrollOffsetReset")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLUS_EXCLUSIVE_TRAILER="PLUS_EXCLUSIVE_TRAILER",t.PLUS_TRAILER_AVAILABLE="PLUS_TRAILER_AVAILABLE",t.PLUS_EXCLUSIVE_BONUS="PLUS_EXCLUSIVE_BONUS",t.PLUS_BONUS_AVAILABLE="PLUS_BONUS_AVAILABLE",t.PLUS_UNSPONSORED_AVAILABLE="PLUS_UNSPONSORED_AVAILABLE",t.PLUS_EXCLUSIVE_EARLY_ACCESS_OR_FULL="PLUS_EXCLUSIVE_EARLY_ACCESS_OR_FULL"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsGlobalAlertLastSeenToday=void 0;var r=n(207),a=n(122);t.getIsGlobalAlertLastSeenToday=(0,r.createSelector)([function(e){return e.globalAlerts}],(function(e){return null!==e.globalAlertLastDisplayed&&new Date(e.globalAlertLastDisplayed).toDateString()===new Date(a.currentDay).toDateString()}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(703),i=(r=o)&&r.__esModule?r:{default:r};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=i.default.getAuthCookieData();this.isLoggedIn=!!t,this.userId=t?t.u:null,this.userName=t?t.a:null,this.emailAddrsss=t?t.e:null}return a(e,[{key:"getUserId",value:function(){return this.userId}},{key:"getIsLoggedIn",value:function(){return this.isLoggedIn}},{key:"getUserName",value:function(){return this.userName}},{key:"getEmailAddress",value:function(){return this.emailAddrsss}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.centerStageAdStatusDetermined=t.onPageCalloutDeterminationSucceeded=t.onPageCalloutDeterminationRequested=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.onPageCalloutDeterminationRequested=function(){return{type:r.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED}},t.onPageCalloutDeterminationSucceeded=function(e,t){return{type:r.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED,payload:{centerStageVariant:e,endOfStoryVariant:t}}},t.centerStageAdStatusDetermined=function(e){return{type:r.CENTER_STAGE_AD_STATUS_DETERMINED,payload:{calloutType:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizedStationId=t.dataManagementPlatform=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=n(5),i=(r=o)&&r.__esModule?r:{default:r};var s="1 (NPR)",u=t.dataManagementPlatform=function(e){var t=e.getState;return function(e){return function(n){var r=e(n),o=t();return n.type!==a.GET_LOCAL_STATIONS_SUCCEEDED&&n.type!==a.GET_LOCAL_STATIONS_FAILED&&n.type!==a.PRE_EXISTING_LOCAL_STATIONS_DETECTED&&n.type!==a.GET_LOCAL_STATIONS_SKIPPED||(s=(0,i.default)(o,"user.org.id"),document.dispatchEvent(new CustomEvent("npr:LocalizationCompleted"))),r}}};t.getLocalizedStationId=function(){return s};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecosystemDetected=function(e){return{type:r.ECOSYSTEM_DETECTED,payload:e}},t.pageDetected=function(e,t){return{type:r.PAGE_DETECTED,payload:{type:e,href:t}}},t.mobileNativeDetected=function(){return{type:r.MOBILE_NATIVE_DETECTED}},t.themeDetected=function(e){return{type:r.THEME_DETECTED,payload:{themeId:e}}},t.bingeModeParamDetected=function(e){return{type:r.BINGE_MODE_PARAM_DETECTED,payload:{bingeModeId:e}}},t.layoutDetected=function(e){return{type:r.LAYOUT_DETECTED,payload:{layoutName:e}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.default={storyPageDetected:function(e){return{type:r.STORY_PAGE_DETECTED,payload:{storyId:e}}},endOfStoryRecommendationRequested:function(e){return{type:r.END_OF_STORY_RECOMMENDATION_REQUESTED,payload:{storyId:e}}},endOfStoryRecommendationCompleted:function(e){return{type:r.END_OF_STORY_RECOMMENDATION_COMPLETED,payload:{recommendations:e}}},endOfStoryRecommendationFailed:function(){return{type:r.END_OF_STORY_RECOMMENDATION_FAILED}},endOfStoryRecommendationsReset:function(){return{type:r.END_OF_STORY_RECOMMENDATIONS_RESET}}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={FIFTEEN_SECONDS:15e3,TWENTY_SECONDS:2e4,ONE_MINUTE:6e4,ONE_HOUR:36e5}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.name="UnavailableContentError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.name="RemoteResourceVersionError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.name="BadDataError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.name="PayloadTooLargeError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LISTEN="listen now",t.QUEUE="add to queue",t.LEAVE_BEHIND_LISTEN="leavebehind listen",t.LEAVE_BEHIND_QUEUE="leavebehind queue"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userLoader=t.createAnonymousUserToken=t.getAccessTokenWithAnonymousCreationFallback=void 0;t.getAccessTokenWithAnonymousCreationFallback=(r=I(regeneratorRuntime.mark((function e(t,n,r){var a,s,u,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:W-1;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=_.default.getExistingAccessTokenFromSessionState(n))){e.next=3;break}return e.abrupt("return",a);case 3:if(l){e.next=5;break}return e.abrupt("return","");case 5:return s=(0,i.default)(n,"org.id",null),Y||(Y=function(){return o(t,s,r,c)}),e.next=9,Y();case 9:return u=e.sent,Y=null,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)});var r,a,o=t.createAnonymousUserToken=(a=I(regeneratorRuntime.mark((function e(t,n,r){var a,i,s,l,c,d,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:W-1;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H>=V&&(B=!0),!B){e.next=3;break}throw new v.default("createAnonymousUserToken - problem accessing and storing token for user");case 3:return H+=1,r(u.anonymousAccessTokenRequested()),a=null,e.prev=6,e.next=9,_.default.createAnonymousAccessTokenData(n);case 9:return a=e.sent,i=a.tokenData.access_token,s=a.tokenData.refresh_token,l=a.tokenData.token_type,c=a.tokenData.expires_in,r(u.anonymousAccessTokenReceived(i,s,l,c,t,a.userId,a.stationMessage)),e.abrupt("return",i);case 18:if(e.prev=18,e.t0=e.catch(6),!(p>0)){e.next=29;break}return d=Math.min(1e3*Math.pow(2,p-1)),e.next=24,new Promise((function(e){return setTimeout(e,d)}));case 24:return e.next=26,o(t,n,r,p-1);case 26:return e.abrupt("return",e.sent);case 29:throw r(u.anonymousAccessTokenRequestFailed()),B=!0,new v.default("createAnonymousUserToken - max retries reached - : "+e.t0,{cause:e.t0});case 32:case"end":return e.stop()}}),e,this,[[6,18]])}))),function(e,t,n){return a.apply(this,arguments)}),i=A(n(5)),s=T(n(2)),u=(T(n(56)),T(n(67))),l=T(n(203)),c=T(n(259)),d=T(n(93)),p=T(n(256)),f=A(n(121)),_=A(n(92)),E=A(n(12)),m=A(n(8)),g=n(68),y=T(g),h=n(260),v=A(n(209)),S=n(35),O=A(n(21));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function I(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var b,P=_.default.isUserLoggedIn,R=_.default.getUserFromIdentity,D=_.default.getUserFromIdentityById,N=_.default.getUserEmailHashFromIdentity,w=_.default.getStoredAmazonHEMData,C=_.default.getStoredOpenwrapHEMData,L=_.default.setStoredHEMData,M=_.default.clearHemData,k=_.default.revokeAuthenticatedAccessToken,U=_.default.isValidUserStation,x=_.default.setStationsForUser,F=_.default.doesUserHaveAnImproperLoginState,G=_.default.killNprAuthCookies,j=!1,B=!1,H=0,W=2,V=4,Y=null,q=function(e){f.default.getForcedLocalizationStationId().then((function(t){return e(u.stationChangeRequested(t))})).catch((function(e){}))},Q=function(e){var t=(0,i.default)(e,"org.id",null);return Boolean(U(t))},K=(b=I(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=w(),a=C(),!y.strictHasConsentedTo(y.TARGETING_AND_SPONSOR)||r&&a){e.next=18;break}return o=(0,S.getSessionSource)(n),i=(0,S.getSessionUserId)(n),s=(0,S.getSessionUnique)(n),e.prev=6,e.next=9,(0,g.userIsInHEMCountry)();case 9:e.sent?o&&i&&s&&"npr_newsletter"===o&&(M(r,a),t(u.getUserEmailHashFromRefferalRequested(i,s))):M(r,a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),E.default.info("could not fetch geolocation data. "+e.t0);case 16:e.next=33;break;case 18:if(y.strictHasConsentedTo(y.TARGETING_AND_SPONSOR)){e.next=22;break}M(r,a),e.next=33;break;case 22:if(!r&&!a){e.next=33;break}return e.prev=23,e.next=26,(0,g.userIsInHEMCountry)();case 26:e.sent||M(r,a),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(23),E.default.info("could not fetch geolocation data. "+e.t1);case 33:case"end":return e.stop()}}),e,void 0,[[6,13],[23,30]])}))),function(e,t){return b.apply(this,arguments)});function z(e,t,n,r,a){var o=_.default.getAndClearTemporaryAccessTokenFromCookieCredentials();o?(j=!0,e(u.accessTokenReceived(o,n))):P(t,a)?e(u.userViewLoadRequested()):F(t)?(e(u.userLogoutRequested()),Q(t)||q(e)):_.default.getExistingAccessTokenFromSessionState(t)?e(u.userViewLoadRequested()):Q(t)||q(e),function(e){(0,m.default)(document).on("npr:userViewLoadRequested",(function(){e(u.userViewLoadRequested())}))}(e)}t.userLoader=function(e){var t=e.dispatch,n=e.getState;return function(e){return r=I(regeneratorRuntime.mark((function r(a){var o,f,m,v,T,A,I,b,F,B,H,W,V,Y,Q,J,X,Z,$,ee,te,ne,re,ae,oe,ie,se,ue,le,ce,de,pe,fe,_e,Ee,me,ge,ye,he,ve,Se,Oe,Te,Ae,Ie,be;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n(),o=e(a),f=n(),m=(0,i.default)(f,"user",{}),v=(0,i.default)(f,"time.now",null),T=_.default.getExistingAccessTokenFromSessionState(m),(0,i.default)(f,"user.oauth.grantType",null),A=(0,i.default)(f,"user.view.data.attributes.email",null),I=(0,i.default)(f,"user.org.id",null),b=O.default.isMobileNativeApp((0,S.getRenderPlatform)(f)),a.type===s.STATE_DETECTION_COMPLETED&&z(t,m,v,0,b),a.type!==s.USER_VIEW_LOAD_FAILED&&a.type!==s.MOBILE_NATIVE_USER_LOAD_FAILED||(j=!1),a.type!==s.USER_VIEW_LOAD_REQUESTED){r.next=33;break}if(!P(m,b)){r.next=17;break}R(T).then((function(e){var n=(0,i.default)(e,"attributes.organizations[0].id",null);n&&(n=parseInt(n,10)),t(u.userViewLoadCompleted(e)),U(n)?t(u.stationChangeCompleted(n)):U(I)?t(u.stationChangeRequested(I)):q(t)})).catch((function(){t(u.userViewLoadFailed()),q(t)})),r.next=33;break;case 17:if(!T){r.next=33;break}return F=null,r.prev=19,r.next=22,R(T);case 22:F=r.sent,(B=(0,i.default)(F,"attributes.organizations[0].id",null))&&(B=parseInt(B,10)),t(u.userViewLoadCompleted(F)),U(B)?t(u.stationChangeCompleted(B)):U(I)?t(u.stationChangeRequested(I)):q(t),r.next=33;break;case 29:r.prev=29,r.t0=r.catch(19),t(u.userViewLoadFailed()),q(t);case 33:if(a.type===s.SESSION_LOADED&&K(t,f),a.type!==s.DATA_CONSENT_UPDATED){r.next=52;break}if(H=w(),W=C(),!_.default.isUserLoggedIn(m,b)||!y.strictHasConsentedTo(y.TARGETING_AND_SPONSOR)||H&&W){r.next=51;break}return M(H,W),r.prev=39,r.next=42,(0,g.userIsInHEMCountry)();case 42:r.sent&&t(u.getUserEmailHashRequested()),r.next=49;break;case 46:r.prev=46,r.t1=r.catch(39),E.default.info("could not fetch geolocation data. "+r.t1);case 49:r.next=52;break;case 51:y.strictHasConsentedTo(y.TARGETING_AND_SPONSOR)||M(H,W);case 52:if(a.type!==s.USER_VIEW_LOAD_COMPLETED){r.next=86;break}if(j&&A&&t(c.JWTRequested(A)),V=w(),Y=C(),!(_.default.isUserLoggedIn(m,b)&&y.strictHasConsentedTo(y.TARGETING_AND_SPONSOR)&&j)){r.next=70;break}return M(V,Y),r.prev=58,r.next=61,(0,g.userIsInHEMCountry)();case 61:r.sent&&t(u.getUserEmailHashRequested()),r.next=68;break;case 65:r.prev=65,r.t2=r.catch(58),E.default.info("could not fetch geolocation data. "+r.t2);case 68:r.next=85;break;case 70:if(y.strictHasConsentedTo(y.TARGETING_AND_SPONSOR)){r.next=74;break}M(V,Y),r.next=85;break;case 74:if(!V&&!Y){r.next=85;break}return r.prev=75,r.next=78,(0,g.userIsInHEMCountry)();case 78:r.sent||M(V,Y),r.next=85;break;case 82:r.prev=82,r.t3=r.catch(75),E.default.info("could not fetch geolocation data. "+r.t3);case 85:j=!1;case 86:if(a.type===s.MOBILE_NATIVE_USER_LOAD_SUCCEEDED&&(j=!1),a.type===s.MOBILE_NATIVE_USER_MODEL_AND_TOKEN_RECEIVED&&(j=!1,Q=a.payload.user,J=a.payload.token,X=a.payload.updateDate,Z=(0,i.default)(Q,"attributes.email",null),t(Z?u.mobileNativeAccessTokenReceived(J,X,l.GRANT_TYPE_AUTHENTICATED):u.mobileNativeAccessTokenReceived(J,X,l.GRANT_TYPE_ANONYMOUS))),a.type!==s.MOBILE_NATIVE_USER_LOAD_REQUESTED){r.next=108;break}if($=a.payload.token,ee=a.payload.updateDate,T){r.next=108;break}return r.prev=92,r.next=95,R($);case 95:te=r.sent,(ne=(0,i.default)(te,"attributes.organizations[0].id",null))&&(ne=parseInt(ne,10)),re=(0,i.default)(te,"attributes.email",null),t(re?u.mobileNativeAccessTokenReceived($,ee,l.GRANT_TYPE_AUTHENTICATED):u.mobileNativeAccessTokenReceived($,ee,l.GRANT_TYPE_ANONYMOUS)),t(u.mobileNativeUserLoadSucceeded(te)),U(ne)?t(u.stationChangeCompleted(ne)):U(I)?t(u.stationChangeRequested(I)):q(t),r.next=108;break;case 104:r.prev=104,r.t4=r.catch(92),t(u.mobileNativeUserLoadFailed()),q(t);case 108:if(a.type!==s.GET_USER_EMAIL_HASH_REQUESTED){r.next=120;break}if(!T){r.next=120;break}return r.prev=110,r.next=113,N(T);case 113:ae=r.sent,t(u.getUserEmailHashSucceeded(ae)),r.next=120;break;case 117:r.prev=117,r.t5=r.catch(110),t(u.getUserEmailHashFailed());case 120:if(a.type!==s.GET_USER_EMAIL_HASH_FROM_REFFERAL_REQUESTED){r.next=136;break}if(oe=a.payload.userId,ie=a.payload.unique,!oe||!ie){r.next=136;break}return r.prev=124,r.next=127,D(oe,ie);case 127:se=r.sent,ue=(0,i.default)(se,"attributes.hash",null),t(u.getUserEmailHashFromRefferalSucceeded(ue)),r.next=136;break;case 132:r.prev=132,r.t6=r.catch(124),t(u.getUserEmailHashFromRefferaFailed()),E.default.info("could not fetch hash with userId. "+r.t6);case 136:if(a.type===s.GET_USER_EMAIL_HASH_SUCCEEDED&&(le=a.payload.attributes.hash,L(le)),a.type===s.GET_USER_EMAIL_HASH_FROM_REFFERAL_SUCCEEDED&&(ce=a.payload,L(ce)),a.type,s.GET_USER_EMAIL_HASH_FAILED,a.type,s.GET_USER_EMAIL_HASH_FROM_REFFERAL_FAILED,a.type===s.ACCESS_TOKEN_RECEIVED&&(t(d.resetFlowStateForNewToken()),t(u.userViewLoadRequested())),a.type===s.ANONYMOUS_ACCESS_TOKEN_RECEIVED&&t(u.userViewLoadRequested()),a.type===s.USER_LOGOUT_REQUESTED&&t(u.logoutRevokeAccessTokenRequested()),a.type!==s.LOGOUT_REVOKE_ACCESS_TOKEN_REQUESTED){r.next=153;break}return r.prev=144,r.next=147,k(T);case 147:t(u.logoutRevokeAccessTokenSucceeded()),r.next=153;break;case 150:r.prev=150,r.t7=r.catch(144),t(u.logoutRevokeAccessTokenFailed());case 153:if(a.type===s.LOGOUT_REVOKE_ACCESS_TOKEN_SUCCEEDED&&t(c.logoutDeleteJWTRequested()),a.type===s.LOGOUT_REVOKE_ACCESS_TOKEN_FAILED&&t(c.logoutDeleteJWTRequested()),a.type===s.LOGOUT_DELETE_JWT_REQUESTED&&t(c.logoutDeleteJWTSucceeded()),a.type===s.LOGOUT_DELETE_JWT_SUCCEEDED&&t(u.logoutClearLoginCookiesRequested()),a.type===s.LOGOUT_CLEAR_LOGIN_COOKIES_REQUESTED&&(G(),t(u.logoutClearLoginCookiesSucceeded())),a.type===s.LOGOUT_CLEAR_LOGIN_COOKIES_SUCCEEDED&&t(d.logoutResetFlowStateRequested()),a.type===s.LOGOUT_RESET_FLOW_STATE_REQUESTED&&t(d.logoutResetFlowStateSucceeded()),a.type===s.LOGOUT_RESET_FLOW_STATE_SUCCEEDED&&t(u.userLogoutCompleted()),a.type===s.NEWSLETTER_ACQUISITION_REQUESTED&&(de=a.payload,pe=de.email,fe=de.newsletterId,_e=de.pianoIframeId,Ee=de.metricsLocation,_.default.webSubscribeUser(pe,null,fe,I).then((function(e){t(u.newsletterAcquisitionCompleted(pe,fe,Ee)),_e&&(y.hasConsentedTo(y.TARGETING_AND_SPONSOR)&&t(c.JWTRequestSucceeded(e.token,e.exp,pe)),(0,h.sendPostMessageToPiano)(_e,!0,""))})).catch((function(){t(u.newsletterAcquisitionFailed(pe,fe,Ee)),_e&&(0,h.sendPostMessageToPiano)(_e,!1,"An error has occurred. Please try subscribing again.")}))),a.type===s.NEWSLETTER_ACQUISITION_COMPLETED&&P(m,b)&&t(u.userViewLoadRequested()),a.type!==s.STATION_CHANGE_REQUESTED){r.next=183;break}if(me=a.payload.id,!P(m,b)){r.next=169;break}x(T,[me]).then((function(){t(u.userViewLoadRequested())})).catch((function(e){E.default.info(e,{storedToken:T,orgId:me}),t(u.stationChangeCompleted(me))})),r.next=183;break;case 169:if(!T){r.next=182;break}return r.prev=170,r.next=173,x(T,[me]);case 173:t(u.userViewLoadRequested()),r.next=180;break;case 176:r.prev=176,r.t8=r.catch(170),E.default.info(r.t8,{storedToken:T,orgId:me}),t(u.stationChangeCompleted(me));case 180:r.next=183;break;case 182:t(u.stationChangeCompleted(me));case 183:return a.type===s.SESSION_LOADED&&(ge=a.payload.userId,ye=a.payload.orgId,ge&&!ye&&I&&y.hasConsentedTo(y.TARGETING_AND_SPONSOR)&&_.default.webSubscribeUser(null,ge,null,I).catch((function(e){return E.default.error(e)})),NPR.serverVars.sfUserEmail&&(he=NPR.serverVars,ve=he.sfUserEmail,Se=he.isPlusSubscriber,Oe=he.plusOptInDate,Te=he.stations,Ae=he.userId,Ie=he.sfToken,be={email:ve,isPlusSubscriber:Se,plusOptInDate:Oe,station:Te[0],userId:parseInt(Ae,10),sfToken:Ie},t(p.plusDataLoaded(be)))),r.abrupt("return",o);case 185:case"end":return r.stop()}}),r,void 0,[[19,29],[39,46],[58,65],[75,82],[92,104],[110,117],[124,132],[144,150],[170,176]])}))),function(e){return r.apply(this,arguments)};var r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.default={hpLocalStoriesRequested:function(e,t){return{type:r.HP_LOCAL_STORIES_REQUESTED,payload:{orgId:e,serviceId:t}}},hpLocalStoriesSucceeded:function(e,t){return{type:r.HP_LOCAL_STORIES_SUCCEEDED,payload:{orgId:e,stories:t}}},hpLocalStoriesFailed:function(e){return{type:r.HP_LOCAL_STORIES_FAILED,payload:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(5)),a=s(n(363)),o=s(n(41)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(29));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){try{return void 0!==e?e.join(","):e}catch(e){return}}var l=function(){this.storyId=null,this.storyTitle=null,this.topicIds=null,this.primaryTopic=null,this.theme=null,this.programId=null,this.aggIds=null,this.tagIds=null,this.byline=null,this.contentPartnerOrg=null,this.publisherOrgId=null,this.pubDate=null,this.pageTypeId=null,this.distributedContentPartner=null,this.homePageMetrics=null,this.localizedStation=null,this.favoriteStation=null,this.localizedStationId=null,this.isLoggedIn=null,this.userId=null};l.prototype.gtmLoadNprServerVarData=function(){if(void 0!==window.NPR.serverVars){var e=window.NPR.serverVars;this.storyId=e.storyId,this.storyTitle=e.title,this.topicIds=u(e.topicIds),this.primaryTopic=e.primaryTopic,this.theme=e.theme,this.programId=e.programId,this.aggIds=u(e.aggIds),this.tagIds=u(e.tagIds),this.byline=u(function(e){if(void 0!==e)return e.map((function(e){var t=e.indexOf(",");return e.substring(0,-1!==t?t:e.length)}))}(e.byline)),this.contentPartnerOrg=e.contentPartnerOrgFullName,this.publisherOrgId=e.publisherOrgId,this.pubDate=e.pubDate,this.pageTypeId=e.pageTypeId,this.homePageMetrics=e.homePageMetrics}},l.prototype.loadUserData=function(){var e=new a.default;this.isLoggedIn=e.getIsLoggedIn(),this.userId=e.getUserId()},l.prototype.createLocalStationInformationSetter=function(e,t){return function(){var n=(0,o.default)().getState(),a=(0,r.default)(n,"user.org.status"),s=t,u=(0,r.default)(n,"user.org.id"),l=(0,r.default)(n,"org"),c=(0,r.default)(l,""+u);if(a===i.FAILED)s.localizedStationId="notlocalized",e(s);else if(a===i.RESOLVED)if(c){var d=(0,r.default)(c,"callLetters");s.localizedStationId=u.toString()+" | "+d,e(s)}else s.localizedStationId="notlocalized",e(s)}},l.prototype.loadPageviewData=function(){var e=this;return this.gtmLoadNprServerVarData(),this.loadUserData(),new Promise((function(t){var n=void 0;new Promise((function(t){n=(0,o.default)().subscribe(e.createLocalStationInformationSetter(t,e))})).then((function(){n(),t(e)}))}))},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NPR_AUDIO_COMPLETE="npr:AUDIO_COMPLETE",t.NPR_ADD_PLAYLIST_ITEMS_SUCCEEDED="npr:ADD_PLAYLIST_ITEMS_SUCCEEDED",t.NPR_AUDIO_RECEIVED__NEWSCAST="npr:AUDIO_RECEIVED--newscast",t.NPR_AUDIO_RECEIVED__STREAM="npr:AUDIO_RECEIVED--stream",t.NPR_AUDIO_RECEIVED__SEGMENT="npr:AUDIO_RECEIVED--segment"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r,a;r=[n(20),n(8),n(1340)],void 0===(a=function(e,t){var n=e.create();n.name="flexmenu",n.onReady=function(){t("body").hasClass("id1032")||t(".subtopics ul").flexMenu({linkText:"More...",showOnHover:!1,cutoff:0})},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=s(a),i=(s(n(4)),s(n(91)));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onClick",value:function(){this.props.onLinkClick(this.props.metricsGA4),this.props.callback()}},{key:"render",value:function(){return o.default.createElement("a",{className:this.props.linkClass,href:this.props.href,onClick:this.onClick},this.props.children)}}]),t}(a.Component);t.default=u,u.defaultProps={onLinkClick:function(){},callback:function(){}}},function(e,t,n){"use strict";(function(e){var r,a,o=i(n(8));i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}r=[n(20)],void 0===(a=function(e){var t=e.create();function n(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("story-id"))&&f((0,o.default)(this).data("story-id"));return!1}function r(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("share-facebook"))&&p((0,o.default)(this).data("share-facebook").storyId);return!1}function a(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("share-twitter"))&&c((0,o.default)(this).data("share-twitter").storyId);return!1}function i(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("share-flipboard"))&&d((0,o.default)(this).data("share-flipboard").storyId);return!1}function s(){(0,o.default)(".share-tools__email-link").on("click",n),(0,o.default)("button[data-share-facebook]").on("click",r),(0,o.default)("button[data-share-twitter]").on("click",a),(0,o.default)("button[data-share-flipboard]").on("click",i)}function u(){(0,o.default)(".share-tools__email-link").off("click",n),(0,o.default)("button[data-share-facebook]").off("click",r),(0,o.default)("button[data-share-twitter]").off("click",a),(0,o.default)("button[data-share-flipboard]").off("click",i)}function l(e,t,n){var r="";NPR.Event&&(r=NPR.Event.getQuerystring("station"));var a=r||(0,o.default)("#modelFullUrl"+e).attr("value"),i=-1!==a.indexOf("?")?"&":"?";return a+i+"utm_campaign=storyshare&utm_source="+t+"&utm_medium="+n}function c(e){var t=l(e,"twitter.com","social"),n=(0,o.default)("#shortTitle"+e).attr("value");n||(n=(0,o.default)("#title"+e).attr("value")),function(e){var t=window.open(e,"twitterAuthentication","height=400,width=800,location=yes,rel=noopener");t&&window.focus&&t.focus()}("https://twitter.com/share?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(n))}function d(e){var t=l(e,"flipboard.com","referral"),n=(0,o.default)("#shortTitle"+e).attr("value");n||(n=(0,o.default)("#title"+e).attr("value")),function(e){var t=window.open(e,"flipboardAuthentication","height=600,width=800,location=yes,rel=noopener");t&&window.focus&&t.focus()}("https://share.flipboard.com/bookmarklet/popout?v=2&title="+encodeURIComponent(n)+"&url="+encodeURIComponent(t))}function p(e){var t=l(e,"facebook.com","social");!function(e){var t=window.open(e,"sharer","toolbar=0,status=0,width=580,height=400,rel=noopener");window.focus&&t.focus()}("https://www.facebook.com/dialog/feed?link="+encodeURIComponent(t)+"&display=popup&app_id="+NPR.serverVars.facebookAppId+"&redirect_uri="+NPR.ServerConstants.webHost+encodeURIComponent("/templates/socialmedia/close.html"))}function f(e){var t="/emailafriend?storyId="+e,n=window.open(t,"sharer","toolbar=0,scrollbars=1,status=0,width=580,height=800");window.focus&&n.focus()}return t.name="social/share",t.onReady=s,t.onUnload=u,t.register(),{initSocialShare:s,deinitSocialShare:u,shareOnFacebook:p,shareOnTwitter:c,shareOnFlipboard:d,shareViaEmail:f}}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=u(a),i=(u(n(4)),u(n(345))),s=u(n(31));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return o.default.createElement(s.default,{className:this.props.overrideClasses||"station__link station__link--change",href:i.default.STATION_FINDER,onClickHandler:this.props.onClick},this.props.overrideText||"Set station")}}]),t}(a.Component);t.default=l},function(e,t,n){"use strict";(function(e){var r,a,o,i=n(12),s=(o=i)&&o.__esModule?o:{default:o};r=[n(8),n(20)],void 0===(a=function(e,t){var n=t.create();n.name="images/lazy-load";var r="source.lazyOnLoad, img.lazyOnLoad",a="li:nth-child(n+4) img, li:nth-child(n+4) source",o="div[id^='slideshow__gallery--']",i=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches;function u(){l(!0)}function l(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(r).each((function(){try{var t=e(this),n=t.data("original"),r=t.data("template"),a=t.data("format"),o=(u=[],e.each([".imagewrap",".bucketwrap"],(function(e,n){var r=t.closest(n);if(r.length>0)return u=r.get(0),!1})),e(u)),i=c(o.length>0?o.width():t.width());r?n=f(n,r,i,85,a):(n=p(n,"s",i),n=p(n,"c",85)),e(this).attr("data-original",n)}catch(e){s.default.error(e)}var u})),d(t)}function c(e){var t=e*(i?2:1);return t<100?100:t>3e3?3e3:100*Math.ceil(t/100)}function d(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(){e(this).hide(),"source"===this.nodeName.toLowerCase()?e(this).attr("srcset",e(this).attr("data-original")):e(this).attr("src",e(this).attr("data-original")),e(this).show()},i=function(t){var n=t.find(".slideshow__button--forward, .slideshow__button--back, .slideshow__button--fullscreen"),r=function(){e(t).trigger("interaction"),o()},a=function(e){e.preventDefault(),r()},o=function(){n.off("click",a),t.off("click",a),t.off("tap touchstart",r)};n.click(a),t.on("click",a),t.on("tap touchstart",r)},u=e(o);t||e(u).each((function(){var t=e(this);i(t);var r=t.find(a);t.bind("interaction",(function(){e(r).each((function(){n.apply(this)}))})),e(r).each((function(){e(this).removeClass("lazyOnLoad")}))})),e(r).each((function(){try{e(this).attr("src")?e(this).attr("src",e(this).attr("data-original")).removeAttr("data-original").removeClass("lazyOnLoad"):e(this).attr("srcset")&&e(this).attr("srcset",e(this).attr("data-original")).removeAttr("data-original").removeClass("lazyOnLoad")}catch(e){s.default.error(e)}}))}function p(e,t,n){var r=document.createElement("a");r.href=e;var a=r.pathname;if(n){for(var o=a.substring(0,a.lastIndexOf(".")),i=a.substring(a.lastIndexOf(".")),s=o.split("-"),u=null,l=1;l<s.length;l++){var c=s[l];if(0===c.indexOf(t)&&c.length>1&&c.length<6){var d=c.substring(1);isNaN(d)||(u=c)}}a=u?a.replace("-"+u,"-"+t+n):o+"-"+t+n+i}var p=a.replace(/^\/*/g,"");return"//"+r.hostname+"/"+p}function f(e,t,n,r,a){return t.indexOf("{width}")>=0&&n&&(t=t.replace("{width}",n)),t.indexOf("{quality}")>=0&&r&&(t=t.replace("{quality}",r)),t.indexOf("{format}")>=0&&a&&(t=t.replace("{format}",a)),t}return n.onReady=function(){l(),e(document).on("npr:doImageLazyLoad",u)},n.onUnload=function(){e(document).off("npr:doImageLazyLoad",u),e(o,o+" *").off()},n.register(),{lazyLoad:l,lazyLoadHiddenImages:function(){e('img[src*="-s100"]').addClass("lazyOnLoad"),l()},addParameterInImageUrl:p,applyHrefTemplate:f}}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=l(a),i=(l(n(4)),l(n(5))),s=l(n(44)),u=l(n(31));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=(0,i.default)(this.props.org,"name"),t=(0,i.default)(this.props.org,"orgUrl"),n=(0,i.default)(this.props.org,"id"),r=(0,i.default)(this.props.org,"callLetters");if(!t||""===t)return o.default.createElement("b",{className:this.props.overrideClasses},this.props.children||e);var a=s.default.addUrlParameter(t,"utm_campaign","click station website");return a=s.default.addUrlParameter(a,"utm_term",this.props.metricsCategory.replace(/ /g,"-")),o.default.createElement(u.default,{className:this.props.overrideClasses,href:a,metricsGA4:{category:"stations",action:"click_station_website",localizedStation:n+" | "+r,clickUrl:t},onClickHandler:this.props.onClick,tabIndex:this.props.tabIndex},this.props.children||e)}}]),t}(a.Component);t.default=c,c.defaultProps={tabIndex:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(1)),a=(p(n(4)),n(10)),o=p(n(5)),i=n(38),s=p(n(92)),u=p(n(31)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39)),c=n(35),d=p(n(21));function p(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.connect)((function(e){return{user:e.user,isRenderingForMobileApp:d.default.isMobileNativeApp((0,c.getRenderPlatform)(e))}}))((function(e){var t=(0,s.default.isUserLoggedIn)(e.user,e.isRenderingForMobileApp),n="",a="sign in/register",c=l.PROXY_API_HOST+"/account/login";e.noReturnUrl||(c=c+"?returnUrl="+encodeURIComponent(window.location.href));var d=c,p="Sign in or create an account",f=" to see your station everywhere you enjoy NPR.";return t&&(n=(0,o.default)(e.user,"view.data.attributes.id"),p="Visit your profile",f=" to update your station and access it across all your devices.",d=l.PROXY_API_HOST+"/account/profile?uid="+n,a="profile link"),r.default.createElement("p",{className:"localization__profile-or-register"},r.default.createElement(u.default,{href:d,metricsGA4:{category:e.metricsCategory,action:i.LOCAL_BOX_CLICK,clickType:"station_card",clickName:a,clickUrl:d}},p),r.default.createElement("span",null,f))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),a=o(n(121));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return e&&e.name?e.name:a.default.getCallFrequencyBand(e)}t.default={getStationIdentifier:i,renderBranding:function(e){var t=i(e);return e.logoUrl?r.default.createElement("span",{className:"logo"},r.default.createElement("img",{alt:t,src:e.logoUrl})):e.name.length>8?r.default.createElement("span",{className:"call-letters call-letters--small"},e.name):r.default.createElement("span",{className:"call-letters"},e.name)},renderMetadata:function(e){var t=i(e);return r.default.createElement("span",{className:"text"},t,r.default.createElement("br",null),r.default.createElement("span",{"data-id":e.id,className:"market"},e.marketCity,", ",e.marketState))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this._getMetricsObjectGA4(),t=this.props.onClick||this.onClick;return a.default.createElement("input",{autoFocus:this.props.autoFocus,type:this.props.type,value:this.props.value,className:this.props.className,onClick:t,"data-metrics-ga4":e})}}]),t}(i(n(240)).default);t.default=s,s.defaultProps={onClick:function(){return null},autoFocus:!1},s.propTypes={type:o.default.string.isRequired,value:o.default.string,onClick:o.default.func,autoFocus:o.default.bool}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{id:4,name:"Afghanistan",alpha2:"AF",alpha3:"AFG"},{id:8,name:"Albania",alpha2:"AL",alpha3:"ALB"},{id:12,name:"Algeria",alpha2:"DZ",alpha3:"DZA"},{id:20,name:"Andorra",alpha2:"AD",alpha3:"AND"},{id:24,name:"Angola",alpha2:"AO",alpha3:"AGO"},{id:28,name:"Antigua and Barbuda",alpha2:"AG",alpha3:"ATG"},{id:32,name:"Argentina",alpha2:"AR",alpha3:"ARG"},{id:51,name:"Armenia",alpha2:"AM",alpha3:"ARM"},{id:36,name:"Australia",alpha2:"AU",alpha3:"AUS"},{id:40,name:"Austria",alpha2:"AT",alpha3:"AUT"},{id:31,name:"Azerbaijan",alpha2:"AZ",alpha3:"AZE"},{id:44,name:"Bahamas",alpha2:"BS",alpha3:"BHS"},{id:48,name:"Bahrain",alpha2:"BH",alpha3:"BHR"},{id:50,name:"Bangladesh",alpha2:"BD",alpha3:"BGD"},{id:52,name:"Barbados",alpha2:"BB",alpha3:"BRB"},{id:112,name:"Belarus",alpha2:"BY",alpha3:"BLR"},{id:56,name:"Belgium",alpha2:"BE",alpha3:"BEL"},{id:84,name:"Belize",alpha2:"BZ",alpha3:"BLZ"},{id:204,name:"Benin",alpha2:"BJ",alpha3:"BEN"},{id:64,name:"Bhutan",alpha2:"BT",alpha3:"BTN"},{id:68,name:"Bolivia (Plurinational State of)",alpha2:"BO",alpha3:"BOL"},{id:70,name:"Bosnia and Herzegovina",alpha2:"BA",alpha3:"BIH"},{id:72,name:"Botswana",alpha2:"BW",alpha3:"BWA"},{id:76,name:"Brazil",alpha2:"BR",alpha3:"BRA"},{id:96,name:"Brunei Darussalam",alpha2:"BN",alpha3:"BRN"},{id:100,name:"Bulgaria",alpha2:"BG",alpha3:"BGR"},{id:854,name:"Burkina Faso",alpha2:"BF",alpha3:"BFA"},{id:108,name:"Burundi",alpha2:"BI",alpha3:"BDI"},{id:132,name:"Cabo Verde",alpha2:"CV",alpha3:"CPV"},{id:116,name:"Cambodia",alpha2:"KH",alpha3:"KHM"},{id:120,name:"Cameroon",alpha2:"CM",alpha3:"CMR"},{id:124,name:"Canada",alpha2:"CA",alpha3:"CAN"},{id:140,name:"Central African Republic",alpha2:"CF",alpha3:"CAF"},{id:148,name:"Chad",alpha2:"TD",alpha3:"TCD"},{id:152,name:"Chile",alpha2:"CL",alpha3:"CHL"},{id:156,name:"China",alpha2:"CN",alpha3:"CHN"},{id:170,name:"Colombia",alpha2:"CO",alpha3:"COL"},{id:174,name:"Comoros",alpha2:"KM",alpha3:"COM"},{id:178,name:"Congo",alpha2:"CG",alpha3:"COG"},{id:180,name:"Congo, Democratic Republic of the",alpha2:"CD",alpha3:"COD"},{id:188,name:"Costa Rica",alpha2:"CR",alpha3:"CRI"},{id:384,name:"Cte d'Ivoire",alpha2:"CI",alpha3:"CIV"},{id:191,name:"Croatia",alpha2:"HR",alpha3:"HRV"},{id:192,name:"Cuba",alpha2:"CU",alpha3:"CUB"},{id:196,name:"Cyprus",alpha2:"CY",alpha3:"CYP"},{id:203,name:"Czechia",alpha2:"CZ",alpha3:"CZE"},{id:208,name:"Denmark",alpha2:"DK",alpha3:"DNK"},{id:262,name:"Djibouti",alpha2:"DJ",alpha3:"DJI"},{id:212,name:"Dominica",alpha2:"DM",alpha3:"DMA"},{id:214,name:"Dominican Republic",alpha2:"DO",alpha3:"DOM"},{id:218,name:"Ecuador",alpha2:"EC",alpha3:"ECU"},{id:818,name:"Egypt",alpha2:"EG",alpha3:"EGY"},{id:222,name:"El Salvador",alpha2:"SV",alpha3:"SLV"},{id:226,name:"Equatorial Guinea",alpha2:"GQ",alpha3:"GNQ"},{id:232,name:"Eritrea",alpha2:"ER",alpha3:"ERI"},{id:233,name:"Estonia",alpha2:"EE",alpha3:"EST"},{id:748,name:"Eswatini",alpha2:"SZ",alpha3:"SWZ"},{id:231,name:"Ethiopia",alpha2:"ET",alpha3:"ETH"},{id:242,name:"Fiji",alpha2:"FJ",alpha3:"FJI"},{id:246,name:"Finland",alpha2:"FI",alpha3:"FIN"},{id:250,name:"France",alpha2:"FR",alpha3:"FRA"},{id:266,name:"Gabon",alpha2:"GA",alpha3:"GAB"},{id:270,name:"Gambia",alpha2:"GM",alpha3:"GMB"},{id:268,name:"Georgia",alpha2:"GE",alpha3:"GEO"},{id:276,name:"Germany",alpha2:"DE",alpha3:"DEU"},{id:288,name:"Ghana",alpha2:"GH",alpha3:"GHA"},{id:300,name:"Greece",alpha2:"GR",alpha3:"GRC"},{id:308,name:"Grenada",alpha2:"GD",alpha3:"GRD"},{id:320,name:"Guatemala",alpha2:"GT",alpha3:"GTM"},{id:324,name:"Guinea",alpha2:"GN",alpha3:"GIN"},{id:624,name:"Guinea-Bissau",alpha2:"GW",alpha3:"GNB"},{id:328,name:"Guyana",alpha2:"GY",alpha3:"GUY"},{id:332,name:"Haiti",alpha2:"HT",alpha3:"HTI"},{id:340,name:"Honduras",alpha2:"HN",alpha3:"HND"},{id:348,name:"Hungary",alpha2:"HU",alpha3:"HUN"},{id:352,name:"Iceland",alpha2:"IS",alpha3:"ISL"},{id:356,name:"India",alpha2:"IN",alpha3:"IND"},{id:360,name:"Indonesia",alpha2:"ID",alpha3:"IDN"},{id:364,name:"Iran (Islamic Republic of)",alpha2:"IR",alpha3:"IRN"},{id:368,name:"Iraq",alpha2:"IQ",alpha3:"IRQ"},{id:372,name:"Ireland",alpha2:"IE",alpha3:"IRL"},{id:376,name:"Israel",alpha2:"IL",alpha3:"ISR"},{id:380,name:"Italy",alpha2:"IT",alpha3:"ITA"},{id:388,name:"Jamaica",alpha2:"JM",alpha3:"JAM"},{id:392,name:"Japan",alpha2:"JP",alpha3:"JPN"},{id:400,name:"Jordan",alpha2:"JO",alpha3:"JOR"},{id:398,name:"Kazakhstan",alpha2:"KZ",alpha3:"KAZ"},{id:404,name:"Kenya",alpha2:"KE",alpha3:"KEN"},{id:296,name:"Kiribati",alpha2:"KI",alpha3:"KIR"},{id:408,name:"Korea (Democratic People's Republic of)",alpha2:"KP",alpha3:"PRK"},{id:410,name:"Korea, Republic of",alpha2:"KR",alpha3:"KOR"},{id:414,name:"Kuwait",alpha2:"KW",alpha3:"KWT"},{id:417,name:"Kyrgyzstan",alpha2:"KG",alpha3:"KGZ"},{id:418,name:"Lao People's Democratic Republic",alpha2:"LA",alpha3:"LAO"},{id:428,name:"Latvia",alpha2:"LV",alpha3:"LVA"},{id:422,name:"Lebanon",alpha2:"LB",alpha3:"LBN"},{id:426,name:"Lesotho",alpha2:"LS",alpha3:"LSO"},{id:430,name:"Liberia",alpha2:"LR",alpha3:"LBR"},{id:434,name:"Libya",alpha2:"LY",alpha3:"LBY"},{id:438,name:"Liechtenstein",alpha2:"LI",alpha3:"LIE"},{id:440,name:"Lithuania",alpha2:"LT",alpha3:"LTU"},{id:442,name:"Luxembourg",alpha2:"LU",alpha3:"LUX"},{id:450,name:"Madagascar",alpha2:"MG",alpha3:"MDG"},{id:454,name:"Malawi",alpha2:"MW",alpha3:"MWI"},{id:458,name:"Malaysia",alpha2:"MY",alpha3:"MYS"},{id:462,name:"Maldives",alpha2:"MV",alpha3:"MDV"},{id:466,name:"Mali",alpha2:"ML",alpha3:"MLI"},{id:470,name:"Malta",alpha2:"MT",alpha3:"MLT"},{id:584,name:"Marshall Islands",alpha2:"MH",alpha3:"MHL"},{id:478,name:"Mauritania",alpha2:"MR",alpha3:"MRT"},{id:480,name:"Mauritius",alpha2:"MU",alpha3:"MUS"},{id:484,name:"Mexico",alpha2:"MX",alpha3:"MEX"},{id:583,name:"Micronesia (Federated States of)",alpha2:"FM",alpha3:"FSM"},{id:498,name:"Moldova, Republic of",alpha2:"MD",alpha3:"MDA"},{id:492,name:"Monaco",alpha2:"MC",alpha3:"MCO"},{id:496,name:"Mongolia",alpha2:"MN",alpha3:"MNG"},{id:499,name:"Montenegro",alpha2:"ME",alpha3:"MNE"},{id:504,name:"Morocco",alpha2:"MA",alpha3:"MAR"},{id:508,name:"Mozambique",alpha2:"MZ",alpha3:"MOZ"},{id:104,name:"Myanmar",alpha2:"MM",alpha3:"MMR"},{id:516,name:"Namibia",alpha2:"NA",alpha3:"NAM"},{id:520,name:"Nauru",alpha2:"NR",alpha3:"NRU"},{id:524,name:"Nepal",alpha2:"NP",alpha3:"NPL"},{id:528,name:"Netherlands",alpha2:"NL",alpha3:"NLD"},{id:554,name:"New Zealand",alpha2:"NZ",alpha3:"NZL"},{id:558,name:"Nicaragua",alpha2:"NI",alpha3:"NIC"},{id:562,name:"Niger",alpha2:"NE",alpha3:"NER"},{id:566,name:"Nigeria",alpha2:"NG",alpha3:"NGA"},{id:807,name:"North Macedonia",alpha2:"MK",alpha3:"MKD"},{id:578,name:"Norway",alpha2:"NO",alpha3:"NOR"},{id:512,name:"Oman",alpha2:"OM",alpha3:"OMN"},{id:586,name:"Pakistan",alpha2:"PK",alpha3:"PAK"},{id:585,name:"Palau",alpha2:"PW",alpha3:"PLW"},{id:591,name:"Panama",alpha2:"PA",alpha3:"PAN"},{id:598,name:"Papua New Guinea",alpha2:"PG",alpha3:"PNG"},{id:600,name:"Paraguay",alpha2:"PY",alpha3:"PRY"},{id:604,name:"Peru",alpha2:"PE",alpha3:"PER"},{id:608,name:"Philippines",alpha2:"PH",alpha3:"PHL"},{id:616,name:"Poland",alpha2:"PL",alpha3:"POL"},{id:620,name:"Portugal",alpha2:"PT",alpha3:"PRT"},{id:634,name:"Qatar",alpha2:"QA",alpha3:"QAT"},{id:642,name:"Romania",alpha2:"RO",alpha3:"ROU"},{id:643,name:"Russian Federation",alpha2:"RU",alpha3:"RUS"},{id:646,name:"Rwanda",alpha2:"RW",alpha3:"RWA"},{id:659,name:"Saint Kitts and Nevis",alpha2:"KN",alpha3:"KNA"},{id:662,name:"Saint Lucia",alpha2:"LC",alpha3:"LCA"},{id:670,name:"Saint Vincent and the Grenadines",alpha2:"VC",alpha3:"VCT"},{id:882,name:"Samoa",alpha2:"WS",alpha3:"WSM"},{id:674,name:"San Marino",alpha2:"SM",alpha3:"SMR"},{id:678,name:"Sao Tome and Principe",alpha2:"ST",alpha3:"STP"},{id:682,name:"Saudi Arabia",alpha2:"SA",alpha3:"SAU"},{id:686,name:"Senegal",alpha2:"SN",alpha3:"SEN"},{id:688,name:"Serbia",alpha2:"RS",alpha3:"SRB"},{id:690,name:"Seychelles",alpha2:"SC",alpha3:"SYC"},{id:694,name:"Sierra Leone",alpha2:"SL",alpha3:"SLE"},{id:702,name:"Singapore",alpha2:"SG",alpha3:"SGP"},{id:703,name:"Slovakia",alpha2:"SK",alpha3:"SVK"},{id:705,name:"Slovenia",alpha2:"SI",alpha3:"SVN"},{id:90,name:"Solomon Islands",alpha2:"SB",alpha3:"SLB"},{id:706,name:"Somalia",alpha2:"SO",alpha3:"SOM"},{id:710,name:"South Africa",alpha2:"ZA",alpha3:"ZAF"},{id:728,name:"South Sudan",alpha2:"SS",alpha3:"SSD"},{id:724,name:"Spain",alpha2:"ES",alpha3:"ESP"},{id:144,name:"Sri Lanka",alpha2:"LK",alpha3:"LKA"},{id:729,name:"Sudan",alpha2:"SD",alpha3:"SDN"},{id:740,name:"Suriname",alpha2:"SR",alpha3:"SUR"},{id:752,name:"Sweden",alpha2:"SE",alpha3:"SWE"},{id:756,name:"Switzerland",alpha2:"CH",alpha3:"CHE"},{id:760,name:"Syrian Arab Republic",alpha2:"SY",alpha3:"SYR"},{id:762,name:"Tajikistan",alpha2:"TJ",alpha3:"TJK"},{id:834,name:"Tanzania, United Republic of",alpha2:"TZ",alpha3:"TZA"},{id:764,name:"Thailand",alpha2:"TH",alpha3:"THA"},{id:626,name:"Timor-Leste",alpha2:"TL",alpha3:"TLS"},{id:768,name:"Togo",alpha2:"TG",alpha3:"TGO"},{id:776,name:"Tonga",alpha2:"TO",alpha3:"TON"},{id:780,name:"Trinidad and Tobago",alpha2:"TT",alpha3:"TTO"},{id:788,name:"Tunisia",alpha2:"TN",alpha3:"TUN"},{id:792,name:"Turkey",alpha2:"TR",alpha3:"TUR"},{id:795,name:"Turkmenistan",alpha2:"TM",alpha3:"TKM"},{id:798,name:"Tuvalu",alpha2:"TV",alpha3:"TUV"},{id:800,name:"Uganda",alpha2:"UG",alpha3:"UGA"},{id:804,name:"Ukraine",alpha2:"UA",alpha3:"UKR"},{id:784,name:"United Arab Emirates",alpha2:"AE",alpha3:"ARE"},{id:826,name:"United Kingdom of Great Britain and Northern Ireland",alpha2:"GB",alpha3:"GBR"},{id:840,name:"United States of America",alpha2:"US",alpha3:"USA"},{id:858,name:"Uruguay",alpha2:"UY",alpha3:"URY"},{id:860,name:"Uzbekistan",alpha2:"UZ",alpha3:"UZB"},{id:548,name:"Vanuatu",alpha2:"VU",alpha3:"VUT"},{id:862,name:"Venezuela (Bolivarian Republic of)",alpha2:"VE",alpha3:"VEN"},{id:704,name:"Viet Nam",alpha2:"VN",alpha3:"VNM"},{id:887,name:"Yemen",alpha2:"YE",alpha3:"YEM"},{id:894,name:"Zambia",alpha2:"ZM",alpha3:"ZMB"},{id:716,name:"Zimbabwe",alpha2:"ZW",alpha3:"ZWE"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(1)),o=(s(n(4)),s(n(31))),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=i.PROXY_API_HOST+"/account/login";e.noReturnUrl||(t=t+"?returnUrl="+encodeURIComponent(window.location.href)),e.identityServiceUserId&&t.indexOf("?")>0?t=t+"&userId="+e.identityServiceUserId:e.identityServiceUserId&&(t=t+"?userId="+e.identityServiceUserId);var n={};return e.tabIndex&&(n.tabIndex=e.tabIndex),a.default.createElement(o.default,r({className:e.overrideClasses,href:t,onClickHandler:e.onClick},n),e.overrideText||"Sign in or register")}},function(e,t,n){"use strict";var r=n(8);!function(e){e.fn.hoverIntent=function(t,n){var a,o,i,s,u={sensitivity:7,interval:100,timeout:0};u=e.extend(u,n?{over:t,out:n}:t);var l=function(e){a=e.pageX,o=e.pageY},c=function(t){var n=r.extend({},t),c=this;c.hoverIntent_t&&(c.hoverIntent_t=clearTimeout(c.hoverIntent_t)),"mouseenter"==t.type?(i=n.pageX,s=n.pageY,e(c).bind("mousemove",l),1!=c.hoverIntent_s&&(c.hoverIntent_t=setTimeout((function(){!function t(n,r){if(r.hoverIntent_t=clearTimeout(r.hoverIntent_t),Math.abs(i-a)+Math.abs(s-o)<u.sensitivity)return e(r).unbind("mousemove",l),r.hoverIntent_s=1,u.over.apply(r,[n]);i=a,s=o,r.hoverIntent_t=setTimeout((function(){t(n,r)}),u.interval)}(n,c)}),u.interval))):(e(c).unbind("mousemove",l),1==c.hoverIntent_s&&(c.hoverIntent_t=setTimeout((function(){!function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,u.out.apply(t,[e])}(n,c)}),u.timeout)))};return this.bind("mouseenter",c).bind("mouseleave",c)}}(r),e.exports=r.fn.hoverIntent},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HOME_PAGE=1002,t.ETHICS_SERIES=688409791,t.MEMMOS_BLOG=603375090,t.MUSIC_HOMEPAGE=1039,t.CONCERTS_TOPIC=1109,t.MUSIC_VIDEO_TOPIC=1110,t.TINY_DESK=92071316,t.TRAINING_BLOG="g-s1-63321",t.ALL_SONGS=164710643,t.MUSIC_LIVE_EVENT=314884013},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.modalType;return o.default.createElement("div",{className:"donation"===t?"donation-form donation-form--loading":"localization"===t?"localization-form--loading":null},o.default.createElement("header",{className:"loading-header"},o.default.createElement("img",{alt:"Loading...",src:"//media.npr.org/chrome/loader.gif"})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(1)),o=(f(n(4)),f(n(343))),i=f(n(188)),s=f(n(345)),u=n(38),l=f(n(509)),c=f(n(505)),d=f(n(514)),p=n(55);function f(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){return _(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props.source,t=0!==this.props.stories.length?" has-local-stories":"",n=this.props.userOrg.marketCity,r=this.props.userOrg.marketState,f=this.props.isLoggedIn;return a.default.createElement("div",{className:"localization-container "+t},e===p.STATION_DRAWER&&a.default.createElement("div",{className:"localization localization--localized"},this.props.logoUrl&&a.default.createElement("img",{className:"localization__logo",src:this.props.logoUrl,alt:this.props.name+" logo"}),this.props.logoUrl&&a.default.createElement("div",{className:"localization__station-name"},this.props.name),!this.props.logoUrl&&a.default.createElement("span",{className:"localization__station-call-letters"},this.props.orgCall),a.default.createElement("ul",{className:"localization__options"},this.props.audio&&this.props.audio.primary&&a.default.createElement("li",{className:""},a.default.createElement("div",{className:"bucketwrap resaudio"},a.default.createElement(o.default,{handlers:this.props.handlers,audio:this.props.audio,currentPage:this.props.currentPage,isCardMessageHidden:this.props.isCardMessageHidden,listenCta:"Listen Live",metricsPlayedFrom:e}))),this.props.donateUrl&&a.default.createElement("li",null,a.default.createElement(i.default,{org:{callLetters:this.props.orgCall,donateUrl:this.props.donateUrl},creativeSlot:"station drawer",overrideText:"donate",metricsCategory:e,overrideClasses:"localization__action localization__action--donate"})),a.default.createElement("li",null,a.default.createElement("a",{href:s.default.STATION_FINDER,className:"localization__change-station"},"Change"))),!this.props.isLoggedIn&&a.default.createElement("p",{className:"localization__sign-in"},a.default.createElement(l.default,{metricsCategory:"registration-login",noReturnUrl:!0,overrideClasses:"",identityServiceUserId:this.props.identityServiceUserId})," ","to see your station everywhere you enjoy NPR.")),e!==p.STATION_DRAWER&&a.default.createElement("div",{className:"localization localization--localized"},a.default.createElement("div",{className:"localization__card-upper"},a.default.createElement("span",{className:"localization__card-header--wrap"},a.default.createElement("div",{className:"localization__card-header"},0===this.props.stories.length?a.default.createElement("h2",null,"Local Radio "):a.default.createElement("h2",null,"Local Headlines "),this.props.name&&a.default.createElement("span",null,a.default.createElement("p",{className:"localization__card-header--station-letters"},a.default.createElement("a",{href:"/stations","data-metrics-ga4":JSON.stringify({category:"recirculation",action:u.LOCAL_BOX_CLICK,clickName:"station link",clickType:"station_card",clickUrl:"/stations",logged_in_session:f.toString()})},this.props.name)," in ",n,", ",r)))),a.default.createElement("span",{className:"localization__card-navigation"},a.default.createElement("ul",{className:"localization__options"},this.props.audio&&this.props.audio.primary&&a.default.createElement("li",null,a.default.createElement("div",{className:"bucketwrap resaudio"},a.default.createElement(o.default,{handlers:this.props.handlers,audio:this.props.audio,currentPage:this.props.currentPage,isCardMessageHidden:this.props.isCardMessageHidden,listenCta:"Listen Live",metricsPlayedFrom:e}))),this.props.donateUrl&&a.default.createElement("li",null,a.default.createElement(i.default,{org:{callLetters:this.props.orgCall,donateUrl:this.props.donateUrl},creativeSlot:"station card",overrideText:"donate",metricsCategory:e,overrideClasses:"localization__action localization__action--donate-local-box"}))),a.default.createElement("div",{className:"local-stories__sign-in-wrap--desktop"},a.default.createElement(c.default,{metricsCategory:"recirculation",noReturnUrl:!0,isLoggedIn:f,identityServiceUserId:this.props.identityServiceUserId})))),0!==this.props.stories.length&&a.default.createElement("div",{className:"local-stories-wrap"},a.default.createElement(d.default,{stories:this.props.stories})),a.default.createElement("div",{className:"local-stories__sign-in-wrap"},a.default.createElement(c.default,{metricsCategory:"recirculation",noReturnUrl:!0,isLoggedIn:f,identityServiceUserId:this.props.identityServiceUserId}))))}}]),t}(a.default.PureComponent);m.defaultProps={currentPage:"",logoUrl:"",donateUrl:"",listenCta:"Listen",stories:[],isCardMessageHidden:!1},t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=(s(n(4)),s(n(31))),i=s(n(44));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("local-story__image"),t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){a.value.setAttribute("loading","lazy")}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"render",value:function(){var e=this.props.stories,t="";1===(e=this.props.stories.slice(0,4)).length&&(t="local-stories--one-up");var n=e.map((function(t,n){var r=i.default.addUrlParameter(t.href,"utm_source","npr.org");r=i.default.addUrlParameter(r,"utm_medium","referral"),r=i.default.addUrlParameter(r,"utm_campaign","local_headlines");var s={category:"recirculation",action:"homepage_curation_click",clickType:"station card",clickPosition:n+1,clickUrl:r=i.default.addUrlParameter(r,"utm_content","homepage"),clickOptionsAvailable:e.length};return a.default.createElement("li",{key:t.id,className:"local-story"},a.default.createElement(o.default,{metricsGA4:s,href:r},t.imageUrl&&a.default.createElement("figure",{className:"thumb-image"},a.default.createElement("div",{className:"image-container"},a.default.createElement("img",{className:"local-story__image",src:t.imageUrl,alt:t.imageTitle}),e.length>1&&t.imageUrl&&a.default.createElement("div",{className:"credit-caption"},a.default.createElement("span",{className:"credit","aria-label":"Image credit"},t.imageRightsUrl&&a.default.createElement("a",{href:t.imageRightsUrl},t.imageRights),!t.imageRightsUrl&&t.imageRights))),1===e.length&&t.imageUrl&&a.default.createElement("div",{className:"credit-caption"},a.default.createElement("span",{className:"credit","aria-label":"Image credit"},t.imageRightsUrl&&a.default.createElement("a",{href:t.imageRightsUrl},t.imageRights),!t.imageRightsUrl&&t.imageRights))),a.default.createElement("div",{className:"local-story__title--wrap"},a.default.createElement("h3",{className:"title"},t.title),1===e.length&&t.teaser&&a.default.createElement("p",{className:"teaser"},t.teaser))))}));return a.default.createElement("div",{className:"local-stories "+t},a.default.createElement("ul",null,n))}}]),t}(a.default.PureComponent);c.defaultProps={stories:[]},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=g(n(8)),o=g(n(20)),i=g(n(516)),s=g(n(169)),u=g(n(41)),l=g(n(5)),c=g(n(12)),d=m(n(536)),p=m(n(357)),f=m(n(149)),_=m(n(167)),E=m(n(38));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y=o.default.create();y.name="jw";var h=[],v=function(){var e=(0,a.default)("ul.playlist").height(),t=(0,a.default)(".playlist-item"),n=null,r=null;t.each((function(o,i){var s=(0,a.default)(this).position().top,u=(0,a.default)(this).height();s>-1&&null==n?(n=this,(0,a.default)(this).addClass("first").siblings().removeClass("first")):s+u>e&&null==r&&(r=(0,a.default)(t[o-1]),(0,a.default)(t[o]).addClass("last").siblings().removeClass("last"))}))},S=function(e,t){var n=void 0,r=void 0;return t.title?(n=t.title,r=O(t.file)):(r=O(e.playlist[0].sources[0].file),n=NPR.serverVars.title),[n,r]},O=function(e){return e=(e=e.substring(e.lastIndexOf("/")+1,e.length)).substring(0,e.indexOf("."))},T=function(e,t){return(Date.now()/1e3-e>=p.SPONSORSHIP_INTERVAL||!e)&&0===t},A=function(e,t,o){var p=arguments.length>3&&void 0!==arguments[3]&&arguments[3],m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";n.e(103).then(function(g){var y=n(94);void 0===window.jwplayer&&(window.jwplayer=y),window.jwplayer.key=i.default.getKey(NPR.serverVars.aggIds);var v=window.jwplayer(e).setup(t);p&&(v.NPR_isVerticalVideo=!0),m&&(v.NPR_videoSlot=m),h.push(v);var O=!1,A=!1,I=!1,b=!1,P=0,D=1/0,N=!1;function C(){var e=v.getPlaylistItem(),n=Math.floor(v.getDuration()),a=Math.floor(v.getPosition()),o=S(t,e),i=r(o,2),s=i[0],u=i[1],l=_.getVideoCustomDimensions({duration:n,mediaId:u,provider:"jw player",currentTime:a,title:s}),c=f.createVideoVars(l);f.sendGTMEvent(E.VIDEO_SELECT_COMING_UP,c)}function L(e){var n=v.getPlaylistItem(),a=(v.getDuration(),Math.floor(v.getDuration())),o=Math.round(e.offset),i=Math.round(o-D),s=(n.resId&&n.resId.toString(),S(t,n)),u=r(s,2),l=u[0],c=u[1],d=_.getVideoCustomDimensions({currentTime:D,duration:a,mediaId:c,provider:"jw player",seekAmount:i,title:l,videoSlot:m}),p=f.createVideoVars(d);f.sendGTMEvent(E.VIDEO_SEEK,p),D=1/0}v.on("play",(0,s.default)((function(n){!function(e){for(var t=document.querySelectorAll(".jwplayer"),n=0;n<t.length;n++){var r=t[n].id;if(r!==e){var a=jwplayer(r);"playing"!==a.getState()&&"buffering"!==a.getState()||a.pause(!0)}}}(e),(0,a.default)("#"+e+" .jw-controlbar.jw-reset").css("display","block");var o=v.getPlaylistItem(),i=Math.floor(v.getDuration()),s=Math.floor(v.getPosition()),u=S(t,o),l=r(u,2),c=l[0],d=l[1];if(s>0&&N){var p=_.getVideoCustomDimensions({duration:i,mediaId:d,provider:"jw player",currentTime:s,title:c,videoSlot:m}),g=f.createVideoVars(p);f.sendGTMEvent(E.VIDEO_RESUME,g)}else if(0===s){O=!1,A=!1,I=!1,b=!1,N=!1;var y=_.getVideoCustomDimensions({duration:i,mediaId:d,provider:"jw player",title:c,videoSlot:m}),h=f.createVideoVars(y);f.sendGTMEvent(E.VIDEO_START,h)}}),500)),v.on("ready",(function(){var e=v.getContainer().querySelector(".jw-nextup-container");e&&e.addEventListener("click",C)})),v.on("remove",(function(){var e=v.getContainer().querySelector(".jw-nextup-container");e&&(e.onclick=function(){e.removeEventListener("click",C)})})),v.on("pause",(function(){N=!0;var e=v.getPlaylistItem(),n=Math.floor(v.getDuration()),a=Math.floor(v.getPosition()),o=S(t,e),i=r(o,2),s=i[0],u=i[1],l=_.getVideoCustomDimensions({duration:n,mediaId:u,provider:"jw player",currentTime:a,title:s,videoSlot:m}),c=f.createVideoVars(l);f.sendGTMEvent(E.VIDEO_PAUSE,c)})),v.on("complete",(function(){var e=v.getPlaylistItem(),n=Math.floor(v.getDuration()),a=S(t,e),o=r(a,2),i=o[0],s=o[1],u=_.getVideoCustomDimensions({duration:n,mediaId:s,provider:"jw player",title:i,videoSlot:m}),l=f.createVideoVars(u);f.sendGTMEvent(E.VIDEO_COMPLETE,l),v.NPR_isVerticalVideo&&document.dispatchEvent(new CustomEvent("npr:modalVerticalVideoEnded"))})),v.on("buffer",(0,s.default)((function(e){var n=v.getPlaylistItem(),a=Math.floor(v.getDuration()),o=Math.floor(v.getPosition()),i=S(t,n),s=r(i,2),u=s[0],l=s[1],c=_.getVideoCustomDimensions({duration:a,mediaId:l,provider:"jw player",currentTime:o,title:u,videoSlot:m}),d=f.createVideoVars(c);f.sendGTMEvent(E.VIDEO_BUFFER,d)}),500)),v.on("time",(function(){var e=Math.floor(v.getPosition()),n=Math.floor(v.getDuration()),a=Math.floor(n/10),o=Math.floor(n/4),i=Math.floor(n/2),s=Math.floor(n/4*3);if(O||e!==a)if(A||e!==o)if(I||e!==i){if(!b&&e===s){var u=v.getPlaylistItem(),l=S(t,u),c=r(l,2),d=c[0],p=c[1],g=_.getVideoCustomDimensions({duration:n,mediaId:p,provider:"jw player",currentTime:e,percent:75,title:d,videoSlot:m}),y=f.createVideoVars(g);f.sendGTMEvent(E.VIDEO_PROGRESS,y),b=!0}}else{var h=v.getPlaylistItem(),T=S(t,h),P=r(T,2),R=P[0],D=P[1],N=_.getVideoCustomDimensions({duration:n,mediaId:D,provider:"jw player",currentTime:e,percent:50,title:R,videoSlot:m}),w=f.createVideoVars(N);f.sendGTMEvent(E.VIDEO_PROGRESS,w),I=!0}else{var C=v.getPlaylistItem(),L=S(t,C),M=r(L,2),k=M[0],U=M[1],x=_.getVideoCustomDimensions({duration:n,mediaId:U,provider:"jw player",currentTime:e,percent:25,title:k,videoSlot:m}),F=f.createVideoVars(x);f.sendGTMEvent(E.VIDEO_PROGRESS,F),A=!0}else{var G=v.getPlaylistItem(),j=S(t,G),B=r(j,2),H=B[0],W=B[1],V=_.getVideoCustomDimensions({duration:n,mediaId:W,provider:"jw player",currentTime:e,percent:10,title:H,videoSlot:m}),Y=f.createVideoVars(V);f.sendGTMEvent(E.VIDEO_PROGRESS,Y),O=!0}})),v.on("beforePlay",(function(){var e=(0,u.default)().getState(),n=(0,l.default)(e,"sponsorship").videoLastPlayedTimestamp;if(t.videoPrerollAdUrl&&T(n,v.getCurrentTime())){var r=t.duration?t.duration:v.getDuration();if(r&&r<60)c.default.info("JW: Skipping sponsorship for video length < 60s");else{var a=R(t.videoPrerollAdUrl,r);c.default.info("JW: adUrl "+a),c.default.info("JW: Attempting to play an ad. Last played timestamp: "+n),v.playAd(a)}}else c.default.info("JW: Not playing sponsorship. Last played at: "+n)})),v.on("adComplete",(function(){c.default.info("JW: Preroll ad complete."),(0,u.default)().dispatch(d.videoPrerollEnded())})),v.on("levelsChanged",(function(e){var n=v.getPlaylistItem(),a=(v.getDuration(),Math.floor(v.getDuration())),o=e.levels[e.currentQuality].label,i=Math.floor(v.getPosition()),s=(n.resId&&n.resId.toString(),S(t,n)),u=r(s,2),l=u[0],c=u[1],d=_.getVideoCustomDimensions({currentTime:i,duration:a,mediaId:c,provider:"jw player",videoPixelQuality:o,title:l,videoSlot:m}),p=f.createVideoVars(d);f.sendGTMEvent(E.VIDEO_CHANGE_QUALITY,p)})),v.on("fullscreen",(function(){var e=v.getPlaylistItem(),n=(v.getDuration(),Math.floor(v.getDuration())),a=jwplayer().getFullscreen()?"click fullscreen":"exit fullscreen",o=Math.floor(v.getPosition()),i=(e.resId&&e.resId.toString(),S(t,e)),s=r(i,2),u=s[0],l=s[1],c=_.getVideoCustomDimensions({currentTime:o,duration:n,mediaId:l,provider:"jw player",title:u,videoSlot:m}),d=f.createVideoVars(c);"click fullscreen"==a?f.sendGTMEvent(E.VIDEO_FULLSCREEN,d):f.sendGTMEvent(E.VIDEO_EXIT_FULLSCREEN,d)})),v.on("seek",(function(e){D===1/0&&(D=Math.floor(v.getPosition())),clearTimeout(P),P=setTimeout((function(e,t){e(t)}),1e3,L,e)})),v.on("volume",(0,s.default)((function(e){var n=v.getPlaylistItem(),a=(v.getDuration(),Math.floor(v.getDuration())),o=Math.floor(v.getPosition()),i=(n.resId&&n.resId.toString(),S(t,n)),s=r(i,2),u=s[0],l=s[1],c=_.getVideoCustomDimensions({currentTime:o,duration:a,mediaId:l,provider:"jw player",volumePosition:e.volume,title:u,videoSlot:m}),d=f.createVideoVars(c);f.sendGTMEvent(E.VIDEO_ADJUST_VOLUME,d)}),500)),o&&w(v,o)}.bind(null,n)).catch(n.oe)},I=window.matchMedia("(min-width: 768px)"),b=function(e,t){I.matches&&(0,a.default)(".playlist-wrapper").fadeIn().css("height",(0,a.default)(t).height());(0,a.default)(e+" ul.playlist");v(),(0,a.default)(e+" ul.playlist").scroll((function(){(0,a.default)("ul.playlist").scrollTop()>4?(0,a.default)(e+" .playlist__gradient--top").fadeIn():(0,a.default)(e+" .playlist__gradient--top").fadeOut(),(0,a.default)("ul.playlist")[0].scrollHeight-(0,a.default)("ul.playlist").height()<=(0,a.default)("ul.playlist").scrollTop()?(0,a.default)(".playlist__gradient--bottom").fadeOut():(0,a.default)(".playlist__gradient--bottom").fadeIn(),v()}))};function P(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,a.default)("[data-jwplayer]").each((function(t,n){var r=i.default.loadFromDiv(n).getConfig();if(r){var o=(0,a.default)(n);A(o.attr("id"),r,!1,e,r.videoSlot),o.removeAttr("data-jwplayer")}}))}var R=function(e,t){var n=new URL(e),r=n.searchParams.get("cust_params"),a=[];return r&&(a=r.split("&")),t?(n.searchParams.set("vid_d",t),a.push("video_has_duration=true")):a.push("video_has_duration=false"),n.searchParams.set("cust_params",a.join("&")),n.toString()},D=function(e,t,n){var r=(0,a.default)(n.target).closest("a").data("mediaid"),o=e.findIndex((function(e){return r===e.mediaid}));n.preventDefault(),t.playlistItem(o)},N=function(e,t){var n=t.item.mediaid,r=(0,a.default)(e+" .playlist").find("[data-mediaid='"+n+"']").closest("li");r.addClass("active").siblings().removeClass("active");var o=(0,a.default)(e+" ul.playlist").scrollTop()+r.offset().top;if(o-=(0,a.default)(e+" ul.playlist").offset().top,I.matches)(0,a.default)(e+" ul.playlist").animate({scrollTop:o},400);else{var i=(0,a.default)(e+" ul.playlist").scrollLeft()+r.offset().left;i-=(0,a.default)(e+" ul.playlist").offset().left+10,(0,a.default)(e+" ul.playlist").animate({scrollLeft:i},400)}},w=function(e,t){var n={};n.playlist=e.getPlaylist(),(0,a.default)(t+" .playlist-wrapper").on("click",".playlist-item-link",D.bind(void 0,n.playlist,e)),e.on("playlistItem",N.bind(void 0,t))};function C(){var e=this;(0,a.default)("[data-jwplayer-playlist]").each((function(t,n){var r=i.default.loadPlaylistFromDiv(n).getPlaylistConfig();if(r){var o=(0,a.default)(n),s=o.attr("data-player-id"),u="#"+s,l="#"+o.attr("data-playlist-id");A(s,r,l),function e(t,n){(0,a.default)(t).height()?n():setTimeout((function(){e(t,n)}),100)}(u,b.bind(e,l,u)),o.removeAttr("data-jwplayer-playlist"),window.onresize=function(){I.matches?(0,a.default)(".playlist-wrapper").fadeIn().css("height",(0,a.default)("#"+s).height()):(0,a.default)(".playlist-wrapper").css("height","auto")}}}))}(0,a.default)(".playlist").keydown((function(e){13===e.which?document.activeElement.click():40===e.which?(0,a.default)(".playlist-item.active").next().find("a").trigger("click"):38===e.which&&(0,a.default)(".playlist-item.active").prev().find("a").trigger("click")})),y.onReady=function(){C(),P()},y.onUnload=function(){var e=void 0;if(h.length){for(e=0;e<h.length;e+=1)h[e].remove();h=[]}},y.register(),t.default={initPlayers:P,getPlayers:function(){return h}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(8)),a=i(n(109)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(511));function i(e){return e&&e.__esModule?e:{default:e}}var s={JW_KEY:"Su8xStwAXR9gtor+0mdECJBHFZPPRE5MZo9e4feYE9O8a9Gg",JW_MUSIC_KEY:"GdFmEh97a/VGRu/sVb+wXsioVUZxKEoYiOF7lWfzEcW4Uznb"},u=[o.MUSIC_HOMEPAGE,o.CONCERTS_TOPIC,o.MUSIC_VIDEO_TOPIC,o.TINY_DESK,o.ALL_SONGS,o.MUSIC_LIVE_EVENT],l=function(e){this.skinSource=e.skinSource,this.width=e.width,this.height=e.height,this.image=e.image,this.sources=e.sources,this.videoPrerollAdUrl=e.videoPrerollAdUrl,this.shareUrl=e.shareUrl,this.embedLink=e.embedLink,this.tracks=e.tracks,this.webHost=e.webHost,this.resId=e.resId,this.aspectRatio=e.aspectRatio,this.videoSlot=e.videoSlot,this.title=e.title,this.duration=e.duration};l.prototype.getConfig=function(){var e=this._getBaseConfig();return e.playlist=[{image:this.image,sources:this.sources,tracks:this.tracks,title:this.title?this.title:null}],e},l.prototype._getBaseConfig=function(){var e={controls:!0,aspectratio:this.aspectRatio?this.aspectRatio:"16:9",repeat:!1,width:this.width,height:this.height,videoSlot:this.videoSlot,duration:this.duration};return this.aspectRatio&&(e.stretching="exactfit"),e=this._addSkin(e),e=this._addSharing(e),e=this._addSponsorship(e)},l.prototype.getPlaylistConfig=function(){var e=this._getBaseConfig();return e.playlist=this.playlist,this.playlist&&(e.repeat=!0,e=this._addSharingForPlaylist(e)),e},l.prototype._addSkin=function(e){return e.skin={name:"npr",url:this.skinSource},e},l.prototype._addSharing=function(e){if(this.embedLink){var t="news";if("undefined"!=typeof URL&&"undefined"!=typeof window&&"undefined"!==window.location){var n=new URL(window.location).searchParams.get("jwMediaType");(0,a.default)(n)||(t=n),NPR.serverVars.aggIds&&NPR.serverVars.aggIds.some((function(e){return u.indexOf(parseInt(e,10))>=0}))&&(t="music")}e.sharing={link:this.webHost+"MEDIAID?jwsource=cl",code:'<iframe id="jw_embed" width="600" height="338" src="'+this.embedLink+"&jwMediaType="+t+'" frameborder="0" scrolling="no"></iframe>'}}return e},l.prototype._addSharingForPlaylist=function(e){return this.embedLink&&(e.sharing={link:this.webHost+"MEDIAID?jwsource=cl"}),e},l.prototype._addSponsorship=function(e){return this.videoPrerollAdUrl&&(e.advertising={client:"googima",admessage:"Sponsor Message. Your video will begin shortly."},e.videoPrerollAdUrl=this.videoPrerollAdUrl),e};t.default={JWModel:l,loadFromDiv:function(e){return new l((0,r.default)(e).data("jwplayer"))},loadPlaylistFromDiv:function(e){var t=(0,r.default)(e).data("jwplayer-playlist"),n=new l(t[0]),a=function(e){var t=[];return e.forEach((function(e){var n=e.resId;isNaN(Number(n))||(n=parseInt(e.resId,10)),t.push({image:e.image,sources:e.sources,tracks:e.tracks,title:e.title,description:e.description,duration:e.duration,mediaid:e.mediaid,resId:n})})),t}(t);return n.playlist=a,n},getVerticalVideoPlaylistIdFromDiv:function(e){return(0,r.default)(e).data("playlist-id")},getKey:function(e){if("undefined"!=typeof URL&&"undefined"!==window&&"undefined"!==window.location){var t=new URL(window.location).searchParams.get("jwMediaType");if(!e&&"music"!==t)return s.JW_KEY;if(e&&e.some((function(e){return u.indexOf(parseInt(e,10))>=0}))||"music"===t)return s.JW_MUSIC_KEY}return s.JW_KEY},Constants:s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=f(a),i=(f(n(4)),n(10)),s=p(n(28)),u=p(n(43)),l=f(n(554)),c=n(64),d=n(144);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,d.getBoundHandlers)(n,["onAudioPlayingStatusDirect","onAudioBufferingStarted","onAudioBufferingFinished","onAudioComplete","onAudioDurationChange","onAudioError","onAudioLoaded"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onAudioPlayingStatusDirect",value:function(e,t){this.props.dispatch(s.audioPlayingStatusDirect(e,t))}},{key:"onAudioBufferingStarted",value:function(e){this.props.dispatch(s.audioBufferingStarted(e))}},{key:"onAudioBufferingFinished",value:function(e){this.props.dispatch(s.audioBufferingFinished(e))}},{key:"onAudioComplete",value:function(e){this.props.dispatch(s.audioComplete(e))}},{key:"onAudioDurationChange",value:function(e,t){this.props.dispatch(u.audioDurationChange(e,t))}},{key:"onAudioLoaded",value:function(e){this.props.dispatch(s.audioPlayed(e))}},{key:"onAudioError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.dispatch(s.audioError(e,t))}},{key:"render",value:function(){var e={};return this.props.player.currentUid&&this.props.metadata[this.props.player.currentUid]&&(e=this.props.metadata[this.props.player.currentUid]),e?o.default.createElement(l.default,{player:this.props.player,handlers:this.handlers,audio:e}):null}}]),t}(a.Component);t.default=(0,i.connect)((function(e){return{player:e.player,metadata:(0,c.getDerivedMetadata)(e)}}))(_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mountAudioModules=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p(e,t),f(e)},t.unmountAudioModules=function(){d.map((function(e){return e.unmountModules()}))};c(n(5));var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(43)),a=c(n(555)),o=c(n(558)),i=c(n(562)),s=c(n(563)),u=c(n(21)),l=n(35);function c(e){return e&&e.__esModule?e:{default:e}}var d=[a.default,o.default,i.default,s.default];function p(e,t){var n,a=d.map((function(n){return n.retrieveMetadataFromDOM(e,t)})),o=(n=[]).concat.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a)),i=null;if(e){var s=e.getState();if(s.player&&s.player.currentUid&&(i=s.player.currentUid),!u.default.isMobileNativeApp((0,l.getRenderPlatform)(s))&&i&&o&&s.metadata&&s.metadata[i]){var c=o.findIndex((function(e){return e.uid==i}));c>=0&&o.splice(c,1)}}e.dispatch(r.metadatasLoaded(o))}function f(e){d.map((function(t){return t.mountModules(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){l=e,window.addEventListener("resize",d),t=window.innerWidth,n=(0,r.default)(c,(function(e){return e.min<=t&&t<=e.max})),void l(i.initialWidthDetected(t,n.name)),void(a.default.hasTouch()&&l(i.touchDetected())),void 0!==document.hidden&&(document.addEventListener("visibilitychange",p),p());var t,n};var r=u(n(155)),a=u(n(143)),o=s(n(34)),i=s(n(28));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var l=void 0,c=[{name:o.SMALL,min:a.default.BREAKPOINT.SMALL.MIN,max:a.default.BREAKPOINT.SMALL.MAX},{name:o.MEDIUM,min:a.default.BREAKPOINT.MEDIUM.MIN,max:a.default.BREAKPOINT.MEDIUM.MAX},{name:o.LARGE,min:a.default.BREAKPOINT.LARGE.MIN,max:1/0}];function d(){var e=window.innerWidth,t=(0,r.default)(c,(function(t){return t.min<=e&&e<=t.max}));l(i.widthDetected(e,t.name))}function p(){l(i.pageVisibilityDetected(!document.hidden))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){i=e,o=function(){if("undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.now)return function(){return window.performance.now()};return Date.now}(),a=o(),setInterval(s,1e3),s()};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(565));var a=void 0,o=void 0,i=void 0;function s(){var e=Date.now(),t=o(),n=t-a;i(r.timerTick(e,n)),a=t}},function(e,t,n){"use strict";var r,a,o=i(n(12));i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}r=[n(8)],void 0===(a=function(e){var t=!1,n=[],r=0;function a(){t?t=!1:((n=n.slice(0,r)).push(e(window).scrollTop()),r=n.length)}function i(){"number"==typeof n[r]&&e(window).scrollTop(n[r])}function s(){0===e("#ad-backstage-wrap").length&&0===e("#ad-mainstage-wrap").length&&0===e("#ad-centerstage-wrap").length&&i()}"scrollRestoration"in history&&(history.scrollRestoration="manual",e(document).on("pjax:send",a),e(document).on("npr:fireScrollOffsetReset",i),e(document).on("pjax:success",s),e(document).on("pjax:popstate",(function(a){"forward"===a.detail.direction?(n[r]=e(window).scrollTop(),r++,t=!0):"back"===a.detail.direction?(n[r]=e(window).scrollTop(),r--,t=!0):o.default.warning("Unrecognized direction received in pjax:popstate handler",a)})))}.apply(t,r))||(e.exports=a)},function(e,t,n){"use strict";var r=l(n(20)),a=l(n(12)),o=n(248),i=u(o),s=u(n(68));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var c=r.default.create();c.name="header-bidding";var d=!0,p={},f=!1,_=!1,E=!1,m=!1,g={openWrapJsIsReady:!1,dfpIsListeningForBids:!1,consentHasBeenGiven:!1,geolocationDataFetchCompleted:!1};function y(){f||(f=!0,function(){a.default.info("HeaderBidding: condition fulfilled for aps"),i.injectApsTag(),i.initializeApsTag();var e=i.getSlotConfigs();i.requestApsBids(e)}(),h("consentHasBeenGiven"))}function h(e){if(g[e]=!0,g.consentHasBeenGiven&&g.geolocationDataFetchCompleted&&!E&&(E=!0,a.default.info("HeaderBidding: condition fulfilled '"+e+"'"),i.injectOpenWrap(s.isCountryCodeGdpr(p&&p.country||""))),g.openWrapJsIsReady&&g.dfpIsListeningForBids&&!m){m=!0,a.default.info("HeaderBidding: condition fulfilled '"+e+"'");var t=i.getSlotConfigs();i.requestOpenwrapBids(t)}}s.fetchGeolocationData().then((function(e){p=e,h("geolocationDataFetchCompleted")})).catch((function(e){a.default.info("HeaderBidding: could not fetch geolocation data. "+e),h("geolocationDataFetchCompleted")})),c.init=function(){if((0,o.isEnabled)()){window.PWT=window.PWT||{},window.PWT.jsLoaded=function(){_||(_=!0,h("openWrapJsIsReady"))},document.addEventListener("npr:dfpIsListeningForBids",(function(){h("dfpIsListeningForBids")}));s.strictHasConsentedTo(s.TARGETING_AND_SPONSOR)?(a.default.info("HeaderBidding: Already has consent."),y()):(a.default.info("HeaderBidding: waiting for user consent. OnetrustActiveGroups:",window.OnetrustActiveGroups),document.addEventListener("npr:DataConsentChanged",(function e(){a.default.info("HeaderBidding: consent changed."),s.strictHasConsentedTo(s.TARGETING_AND_SPONSOR)&&(document.removeEventListener("npr:DataConsentChanged",e),y())})),document.addEventListener("npr:DataConsentAvailable",(function e(){a.default.info("HeaderBidding: consent available. OnetrustActiveGroups:",window.OnetrustActiveGroups),s.strictHasConsentedTo(s.TARGETING_AND_SPONSOR)&&(document.removeEventListener("npr:DataConsentAvailable",e),y())})))}},c.onReady=function(){if(d)d=!1;else if((0,o.isEnabled)()){i.initializeApsTag();var e=i.getSlotConfigs();i.requestOpenwrapBids(e),i.requestApsBids(e)}},c.onUnload=function(){window.PWT.bidIdMap={},window.PWT.adUnits={}},c.register()},function(e,t,n){"use strict";var r=i(n(12)),a=i(n(524)),o=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}var s=[];function u(e){1e3===s.length&&s.shift(),s.push(e)}function l(e){return e.toString()}(0,o.default)(r.default).on("npr:log:info",(function(e,t){u(new a.default({level:"INFO",message:t.message,data:t.data}))})),(0,o.default)(r.default).on("npr:log:warning",(function(e,t){u(new a.default({level:"WARNING",message:t.message,data:t.data,exception:t.exception}))})),(0,o.default)(r.default).on("npr:log:error",(function(e,t){u(new a.default({level:"ERROR",exception:t.exception,data:t.data}))})),void 0===window.NPR&&(window.NPR={}),window.NPR.Log={get:function(e){return"string"!=typeof e?s.map(l):s.filter((function(t){return t.level===e})).map(l)}}},function(e,t,n){"use strict";function r(e){this.level=e.level,this.message=e.message,this.exception=e.exception,this.data=e.data}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype={toString:function(){var e=this.level+": ";return this.message&&(e+=this.message),this.exception&&(e=e+"\n"+JSON.stringify(this.exception)),this.data&&(e=e+"\n"+JSON.stringify(this.data)),e}},t.default=r},function(e,t,n){"use strict";var r=E(n(20)),a=E(n(526)),o=E(n(528)),i=E(n(530)),s=E(n(41)),u=n(65),l=n(10),c=E(n(1)),d=E(n(8)),p=E(n(143)),f=(E(n(170)),E(n(169)),E(n(153))),_=E(n(192));function E(e){return e&&e.__esModule?e:{default:e}}var m=r.default.create();m.name="navigation/global-navigation";var g=(0,_.default)("#main-menu"),y=new WeakMap;function h(e,t){var n=document.getElementById(t);if(n){var r=y.get(n);if(!r){r=(0,u.createRoot)(n),y.set(n,r);var a=(0,s.default)();r.render(c.default.createElement(l.Provider,{store:a},e))}}}m.onReady=function(){f.default.registerOnChange(v,"intent"),(0,d.default)(document).on("npr:navOverlayOpened",A),(0,d.default)(document).on("npr:navOverlayClosed",I),h(c.default.createElement(a.default,null),"navigation__station-mount"),h(c.default.createElement(i.default,{creativeSlot:"global navigation"}),"navigation__station-donate-mount"),h(c.default.createElement(o.default,null),"user-account-dropdown-mount"),h(c.default.createElement(o.default,null),"user-account-dropdown-mount-two")};var v=function(e){p.default.isScreenLargerOrEqual(p.default.BREAKPOINT.LARGE)&&("keyboard"===e?S():"mouse"===e&&T())},S=function(){var e=document.querySelectorAll(".menu__item--has-submenu");Array.prototype.forEach.call(e,(function(e){e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded")}));var t=document.querySelectorAll(".npr-header .submenu.is-expanded");Array.prototype.forEach.call(t,(function(e){e.classList.remove("is-expanded")}));var n=document.querySelectorAll(".menu__toggle-submenu");Array.prototype.forEach.call(n,(function(e){e.addEventListener("click",O),e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","false")}))};function O(e){var t=e.target,n=e.target.parentNode.nextElementSibling;t.classList.toggle("is-expanded"),"false"===t.getAttribute("aria-expanded")?t.setAttribute("aria-expanded","true"):t.setAttribute("aria-expanded","false");var r=n.classList[2],a=document.querySelectorAll(".menu__item--has-submenu");Array.prototype.forEach.call(a,(function(e){var t=e.querySelectorAll(".submenu")[0],n=t.classList[2],a=t.classList.contains("is-expanded");n!==r&&a&&(e.querySelectorAll(".submenu")[0].classList.toggle("is-expanded"),e.querySelectorAll(".menu__toggle-submenu")[0].classList.toggle("is-expanded"))})),n.classList.toggle("is-expanded")}var T=function(){var e=document.querySelectorAll(".menu__toggle-submenu");Array.prototype.forEach.call(e,(function(e){e.removeEventListener("click",O),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.classList.remove("is-expanded")}));var t=document.querySelectorAll(".submenu.is-expanded");Array.prototype.forEach.call(t,(function(e){e.classList.remove("is-expanded")}))},A=function(){g.activate()},I=function(){g.deactivate()};(0,d.default)("body").hasClass("utility")||m.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=m(a),i=(m(n(4)),n(10)),s=m(n(153)),u=m(n(527)),l=E(n(28)),c=E(n(43)),d=E(n(247)),p=n(64),f=n(35),_=m(n(21));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.navigation.isStationDropdownExpanded||n.toggleDropDown()},n.handleMouseLeave=function(){n.props.navigation.isStationDropdownExpanded&&n.toggleDropDown()},n.toggleDropDown=function(){n.props.dispatch(d.stationDropdownToggled())},n.onLinkClick=function(e){n.props.dispatch(d.stationDropdownToggled())},n.onSwitchInputIntent=function(e){n.props.dispatch(d.closeStationSubnavs())},n.onNowOnStreamsRegistrationRequested=function(e){n.props.dispatch(c.nowOnStreamsRegistrationRequested(e))},n.onNowOnStreamsUnregistrationRequested=function(e){n.props.dispatch(c.nowOnStreamsUnregistrationRequested(e))},n.onPlayPauseRequested=function(e,t){n.props.dispatch(l.playPauseRequested(e,t)),n.props.dispatch(d.stationDropdownToggled())},n.onAudioModuleMounted=function(){n.props.dispatch(l.audioModuleMounted())},n.onMetadataLoaded=function(e){n.props.dispatch(c.metadataLoaded(e))},n.processIntentChange=function(e){n.onSwitchInputIntent()},n.handlers={onNowOnStreamsRegistrationRequested:n.onNowOnStreamsRegistrationRequested,onNowOnStreamsUnregistrationRequested:n.onNowOnStreamsUnregistrationRequested,onPlayPauseRequested:n.onPlayPauseRequested,onAudioModuleMounted:n.onAudioModuleMounted,onMetadataLoaded:n.onMetadataLoaded,toggleDropDown:n.toggleDropDown,handleMouseEnter:n.handleMouseEnter,handleMouseLeave:n.handleMouseLeave},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){s.default.registerOnChange(this.processIntentChange,"intent")}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.org,r=e.metadata,a=e.navigation,i=e.site,s=e.isRenderingForMobileApp;return o.default.createElement(u.default,{metadata:r,org:n,user:t,navigation:a,site:i,handlers:this.handlers,isRenderingForMobileApp:s})}}]),t}(a.Component);t.default=(0,i.connect)((function(e){var t=e.user,n=e.org,r=e.navigation,a=e.site,o=e.localStations,i=_.default.isMobileNativeApp((0,f.getRenderPlatform)(e));return{navigation:r,org:n,site:a,user:t,localStations:o,metadata:(0,p.getDerivedMetadata)(e),isRenderingForMobileApp:i}}))(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(1)),a=(p(n(4)),p(n(5))),o=(p(n(143)),d(n(151))),i=d(n(29)),s=p(n(92)),u=p(n(166)),l=(p(n(502)),p(n(513))),c=n(55);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.navigation,n=e.metadata,d=e.org,p=e.user,f=e.handlers,_=e.site,E=e.isRenderingForMobileApp,m=(0,a.default)(t,"isStationDropdownExpanded"),g=s.default.isUserLoggedIn;if((0,a.default)(p,"org.status")===i.PENDING)return r.default.createElement(u.default,null);var y=(0,a.default)(p,"org.id"),h=d[y],v=void 0;if(h){var S=h.logoUrl?h.logoUrl:"",O=(_.currentPage,o.HOME_PAGE_NEWS,function(e,t,n){var a=e.callLetters,o=""!==t,i="station-text";return a.length>20&&(i+=" has-long-name"),o?r.default.createElement("b",null,r.default.createElement("img",{src:t,alt:"Station Logo"})):r.default.createElement("b",{className:i},a)}(h,S));h.callLetters;v=r.default.createElement("button",{onClick:f.toggleDropDown},O)}var T=y?" is-localized":" is-not-localized";T+=m?" chosen":"";var A,I=g(p,E),b=d[p.org.id]||{},P=(0,a.default)(b,"streams[0]"),R=P&&n?n[P]:null,D=document.querySelector("#navigation__station-mount");return v&&D.children.length<2?r.default.createElement("div",{className:"stations"+T,onMouseEnter:f.handleMouseEnter,onMouseLeave:f.handleMouseLeave},v,r.default.createElement("div",{className:"subnav subnav-stations"},r.default.createElement(l.default,{org:d,userOrg:b,logoUrl:(A=b,A.logoUrl),orgCall:b.callLetters,name:b.name,donateUrl:b.donateUrl,metadata:n,handlers:f,audio:R,isLoggedIn:I,source:c.STATION_DRAWER,identityServiceUserId:p.view.data.attributes.id}))):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),n(10)),s=d(n(5)),u=d(n(529)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(247)),c=n(144);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,c.getBoundHandlers)(n,["onLinkClick","onUserLoginRequested"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onLinkClick",value:function(){this.props.dispatch(l.closeStationSubnavs())}},{key:"onUserLoginRequested",value:function(){var e=this.props,t=e.site,n=e.user,r=(0,s.default)(t,"currentHref")?(0,s.default)(t,"currentHref"):"",a=encodeURIComponent(""+r),o=(0,s.default)(n,"view.data.attributes.id"),i=(0,s.default)(NPR,"ServerConstants.webHost")+"/account/login?returnUrl="+a;o&&(i+="&userId="+o),window.location.href=i}},{key:"render",value:function(){var e=this.props,t=e.navigation,n=e.user,r=e.site;return o.default.createElement(u.default,{navigation:t,user:n,handlers:this.handlers,currentPage:r.currentPage})}}]),t}(a.Component);t.default=(0,i.connect)((function(e){return{navigation:e.navigation,user:e.user,site:e.site}}))(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),a=(u(n(4)),u(n(5))),o=n(38),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(203)),s=u(n(31));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){e.navigation;var t=e.user,n=e.handlers,u=(e.currentPage,(0,a.default)(t,"view.data.attributes.id")),l=(0,a.default)(t,"oauth.token"),c=(0,a.default)(t,"view.data.attributes.firstName"),d=(0,a.default)(t,"oauth.grantType")===i.GRANT_TYPE_AUTHENTICATED,p="/account/profile?uid="+u,f=(window.location.pathname,(0,a.default)(NPR,"ServerConstants.webHost","")+"/account/login");return l&&d?r.default.createElement("div",{className:"user-account is-logged-in"},r.default.createElement(s.default,{className:"user-account__profile",href:p,metricsGA4:{category:"recirculation",action:o.GLOBAL_NAVIGATION_CLICK,clickType:"global navigation",clickName:"profile link",clickUrl:p},onClickHandler:n.onLinkClick},"My Profile"),r.default.createElement("span",{className:"user-account__message"},"Welcome back",c&&", "+c)):r.default.createElement("div",{className:"user-account"},r.default.createElement(s.default,{href:"#",className:"user-account__sign-in",onClickHandler:n.onUserLoginRequested,metricsGA4:{category:"recirculation",action:o.GLOBAL_NAVIGATION_CLICK,clickType:"global navigation",clickName:"sign in/register",clickUrl:f}},"Sign In"),r.default.createElement("span",{className:"user-account__message"},"Personalize Your Experience"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=p(a),i=(p(n(4)),n(10)),s=p(n(5)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(67)),l=p(n(188)),c=n(55),d=n(108);function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDonateLinkClick=function(){var e=n.getOrgId();e&&n.props.dispatch(u.stationChangeRequested(e))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getOrgId",value:function(){var e=this.props.user;return(0,s.default)(e,"org.id")}},{key:"render",value:function(){var e=this.props.org,t=(0,s.default)(e,""+this.getOrgId());return o.default.createElement(l.default,{metricsCategory:c.GLOBAL_NAVIGATION,onClick:this.onDonateLinkClick,org:t,overrideText:"Donate",creativeSlot:this.props.creativeSlot,isSmallBreakpointAndInNav:this.props.isSmallBreakpoint})}}]),t}(a.Component);t.default=(0,i.connect)((function(e){return{user:e.user,org:e.org,isSmallBreakpoint:(0,d.isSmallBreakpoint)(e)}}))(f)},function(e,t,n){"use strict";(function(e){var r,a,o,i=n(143),s=(o=i)&&o.__esModule?o:{default:o};r=[n(20),n(8),n(352),n(510)],void 0===(a=function(e,t,n){var r=e.create();function a(e,n){e.children("ul").fadeIn(300),t(n).each((function(e,n){o(t(n).parent("li"))}))}function o(e){e.children("ul").fadeOut()}r.name="globalfooter",r.onReady=function(){var e,r={over:function(){return a(t(this)),!1},timeout:0,out:function(){return o(t(this)),!1},interval:50};n.touch||s.default.isOnPhone()||s.default.isOnTablet()?(e=t(".primary > ul > li.has-subnav > a","#nprfooter")).on("click",(function(n){n.preventDefault();var r=t(this).parent("li"),i=this,s=t.grep(e,(function(e){return e!==i}));r.children("ul").is(":visible")?o(r):a(r,s)})):(e=t(".primary > ul > li.has-subnav","#nprfooter")).hoverIntent(r)},r.onUnload=function(){t(".primary > ul > li","#nprfooter").off("click")},r.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";var r=o(n(8)),a=o(n(20));function o(e){return e&&e.__esModule?e:{default:e}}n(533);var i=a.default.create();i.name="fitvids",i.onReady=function(){try{(0,r.default)(".bucketwrap.statichtml").fitVids({customSelector:'iframe[src^="https://www.facebook.com/plugins/video"], iframe[src*="www.funnyordie.com"]'})}catch(e){}},i.register()},function(e,t,n){(function(){
/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
!function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("div");a.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',r.appendChild(a.childNodes[1])}return t&&e.extend(n,t),this.each((function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&t.push(n.customSelector);var r=e(this).find(t.join(","));(r=r.not("object object")).each((function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var n=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("id")){var r="fitvid"+Math.floor(999999*Math.random());t.attr("id",r)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),t.removeAttr("height").removeAttr("width")}}))}))}}(n(8)||window.Zepto)}).call(window)},function(e,t,n){"use strict";var r=i(n(8)),a=i(n(20)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(68));function i(e){return e&&e.__esModule?e:{default:e}}var s=a.default.create();s.name="nielsen";var u=!1;function l(){var e;o.hasConsentedTo(o.TARGETING_AND_SPONSOR)&&!u&&((e=new Image(1,1)).onerror=e.onload=function(){e.onerror=e.onload=null},e.src=["//secure-us.imrworldwide.com/cgi-bin/m?ci=us-803244h&cg=0&cc=1&si=",encodeURIComponent(window.location.href),"&rp=",encodeURIComponent(document.referrer),"&ts=compact&rnd=",(new Date).getTime()].join(""),u=!0)}s.onReady=function(){l(),(0,r.default)(document).on("npr:DataConsentChanged",l)},s.onUnload=function(){(0,r.default)(document).off("npr:DataConsentChanged",l),u=!1},s.register()},function(e,t,n){"use strict";var r,a=n(20);var o=((r=a)&&r.__esModule?r:{default:r}).default.create();function i(){return window.NPR&&window.NPR.serverVars&&window.NPR.serverVars.storyId?window.NPR.serverVars.storyId:""}function s(){switch(i()){case"1002":return"homep0";case"1001":return"newsn0";case"1008":return"artsn0";case"129554188":return"npr_e0";case"376751684":return"podca0";case"":switch(document.location.pathname){case"/programs":case"/programs/":return"progr0";case"/podcasts/organizations/1":case"/podcasts/organizations/s1":case"/podcasts/organizations/1/":case"/podcasts/organizations/s1/":return"podca00";default:return""}default:return"NPR Extra"===(window.NPR&&window.NPR.serverVars&&window.NPR.serverVars.blog?window.NPR.serverVars.blog:"")?"npr_e0":""}}o.name="metrics/doubleclickFloodlight",o.onReady=function(){var e=s();if(e){var t="1002"===i()?"homep0":"secti0",n=(1e13*Math.random()).toString().split(".")[0],r=document.createElement("iframe");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("frameborder","0"),r.setAttribute("style","display:none"),r.setAttribute("src","https://6635101.fls.doubleclick.net/activityi;src=6635101;type="+t+";cat="+e+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+n+"?");var a=document.getElementsByTagName("main");a.length&&a[0].appendChild(r)}},o.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoPrerollEnded=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.videoPrerollEnded=function(){return{type:r.VIDEO_PREROLL_ENDED}}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=p(n(20)),o=p(n(8)),i=p(n(363)),s=n(365),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(68)),l=p(n(201)),c=p(n(92)),d=p(n(12));function p(e){return e&&e.__esModule?e:{default:e}}var f=a.default.create();f.name="data-management-platform";var _=!1,E=!1,m=function(){if(!E){d.default.info("DMP: Injecting permutive JS"),E=!0;var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.id="permutive-js-tag",e.src="https://e1cef1f0-495f-4973-ba1c-880786e73a66.edge.permutive.app/e1cef1f0-495f-4973-ba1c-880786e73a66-web.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},g=function(){},y=function(){if(u.strictHasConsentedTo(u.TARGETING_AND_SPONSOR)&&!_){window.permutive.consent({opt_in:!0,token:"CONSENT_CAPTURED"}),d.default.info("DMP: sending permutive events"),_=!0;var e=O(),t=[],n=(new i.default).getUserId();n&&t.push({id:n,tag:"userid",priority:0});var r=c.default.getStoredOpenwrapHEMData();r&&t.push({id:r,tag:"email_sha256",priority:1}),localStorage.getItem("33acrossId")&&t.push({tag:"33across",id:localStorage.getItem("33acrossId"),priority:4}),(t=t.concat(S())).length&&window.permutive.identify(t),window.permutive.addon("web",{page:e}),m()}},h=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){if(0===window.googletag.pubads().getTargeting("permutive").length){d.default.info("DMP: setting permutive targeting"),window.headertag=window.headertag||{},window.headertag.cmd=window.headertag.cmd||[],window.headertag.cmd.push((function(){try{var e=JSON.parse(localStorage._pdfps||"[]").slice(0,250);window.headertag.setUserKeyValueData({segments:{permutive:e}})}catch(e){d.default.info("DMP: Error setting user key value data "+e)}}));var e=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[]);var t=window.localStorage.getItem("permutive-id");t&&(window.googletag.pubads().setTargeting("puid",t),window.googletag.pubads().setTargeting("ptime",Date.now().toString())),window.permutive.config.viewId&&window.googletag.pubads().setTargeting("prmtvvid",window.permutive.config.viewId),window.permutive.config.workspaceId&&window.googletag.pubads().setTargeting("prmtvwid",window.permutive.config.workspaceId)}}))},v=function(){window.permutive.readyWithTimeout=window.permutive.readyWithTimeout||function(e,t,n){var r=!1,a=function(){r||(e(),r=!0)};(n=n||1/0)!==1/0&&window.setTimeout(a,n),permutive.ready(a,t)}},S=function(){return[{tag:"rampID",cookie_name:"idl_env",priority:4},{tag:"ATSrampID",cookie_name:"_lr_env",priority:3},{tag:"amzn_token",cookie_name:"AMZN-Token",priority:3},{tag:"pubcid",cookie_name:"_pubcid",priority:4},{tag:"id5",cookie_name:"id5",priority:4},{tag:"panoramaID",cookie_name:"panoramaId",priority:4},{tag:"criteoID",cookie_name:"cto_bidid",priority:4}].flatMap((function(e){var t=l.default.get(e.cookie_name);return t?[{tag:e.tag,id:t,priority:e.priority}]:[]}))},O=function(){var e,t=NPR.serverVars.contentPartnerOrgFullName?NPR.serverVars.contentPartnerOrgFullName.split("|")[0]:"1",n=NPR.serverVars.aggIds?NPR.serverVars.aggIds:[],r=NPR.serverVars.byline?NPR.serverVars.byline:[],a=NPR.serverVars.title,i="not active - collapsed";return(0,o.default)(".has-expanded-engaged-player").length>0&&(i="active"),{playerState:i,content:{Type:NPR.serverVars.pageTypeId,byline:r,parents:n,publishTime:(e=NPR.serverVars.pubDate,null!=e?e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)+"T"+e.substr(8,2)+":00:00-05:00":(new Date).toISOString()),publisher:t,storyId:NPR.serverVars.storyId,title:a}}},T=function(){d.default.info("DMP: Data consent changed"),u.hasConsentedTo(u.TARGETING_AND_SPONSOR)?(window.permutive.consent({opt_in:!0,token:"CONSENT_CAPTURED"}),v(),m(),h(),g()):(window.permutive.readyWithTimeout=void 0,window.googletag&&window.googletag.pubads&&(window.googletag.pubads().clearTargeting("permutive"),window.googletag.pubads().clearTargeting("puid"),window.googletag.pubads().clearTargeting("ptime"),window.googletag.pubads().clearTargeting("prmtvvid"),window.googletag.pubads().clearTargeting("prmtvwid")),window.permutive&&window.permutive.consent({opt_in:!1}))};f.init=function(){!function(e,t){var n="https://api.permutive.com/ctx/v1/segment?k="+e,a=new window.XMLHttpRequest;a.open("POST",n,!0),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=void 0;try{e=JSON.parse(a.responseText)}catch(e){return}window.permutive.addon("contextual",e),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){var t=(e.gam||[]).concat("rts");window.googletag.pubads().setTargeting("prmtvctx",t)}))}},a.send(JSON.stringify({pageProperties:function(e){try{var t={client:{url:document.URL,referrer:document.referrer,type:"web",user_agent:navigator.userAgent,domain:window.location.hostname,title:document.title}};return"object"!==(void 0===e?"undefined":r(e))||Array.isArray(e)?t:Object.assign({},e,t)}catch(e){return{}}}(t),url:document.URL}))}("12730e07-f09d-4a69-93da-99b43983b663",O()),document.addEventListener("npr:LocalizationCompleted",(function(){(0,s.getLocalizedStationId)(),y(),g=function(){return y()}})),document.addEventListener("npr:DataConsentChanged",T),u.strictHasConsentedTo(u.TARGETING_AND_SPONSOR)&&(window.permutive.consent({opt_in:!0,token:"CONSENT_CAPTURED"}),v())},f.onReady=function(){u.strictHasConsentedTo(u.TARGETING_AND_SPONSOR)&&(h(),g())},f.onUnload=function(){_=!1},f.register()},function(e,t,n){"use strict";var r=f(n(1)),a=n(65),o=n(10),i=f(n(8)),s=f(n(20)),u=f(n(41)),l=f(n(539)),c=f(n(517)),d=n(518);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var _=[p(n(519)),p(n(615)),p(n(520)),p(n(566)),p(n(567)),p(n(569)),p(n(570))],E=s.default.create();E.name="persistent-audio";var m=(0,u.default)();E.init=function(){if(_.map((function(e){return e.init(m.dispatch)})),(0,i.default)(document).on("newAudioModules",(function(){return(0,d.mountAudioModules)(m)})),(0,i.default)("#globalheader").length){(0,i.default)("#globalheader").before('<div id="player-react-mount" class="player-react-mount"></div>');var e=document.getElementById("player-react-mount");(0,a.createRoot)(e).render(r.default.createElement("div",{className:"player-react-mount-inner"},r.default.createElement(o.Provider,{store:m},r.default.createElement(c.default,null)),r.default.createElement(o.Provider,{store:m},r.default.createElement(l.default,null))))}},E.onReady=function(){(0,d.mountAudioModules)(m)},E.onUnload=function(){(0,d.unmountAudioModules)()},E.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=x(a),i=(x(n(4)),n(10)),s=x(n(192)),u=U(n(28)),l=U(n(43)),c=U(n(200)),d=U(n(90)),p=U(n(257)),f=U(n(67)),_=U(n(190)),E=U(n(346)),m=U(n(24)),g=U(n(147)),y=U(n(191)),h=x(n(540)),v=x(n(547)),S=x(n(548)),O=x(n(344)),T=x(n(551)),A=x(n(552)),I=U(n(34)),b=U(n(120)),P=x(n(553)),R=n(64),D=n(108),N=n(144),w=n(146),C=n(39),L=n(15),M=x(n(166)),k=U(n(93));function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}var F=o.default.lazy((function(){return Promise.all([n.e(10),n.e(99)]).then(n.t.bind(null,1266,7))})),G=o.default.lazy((function(){return Promise.all([n.e(10),n.e(98)]).then(n.t.bind(null,1267,7))})),j=o.default.lazy((function(){return n.e(102).then(n.t.bind(null,1268,7))})),B=o.default.lazy((function(){return n.e(101).then(n.t.bind(null,1269,7))})),H=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,N.getBoundHandlers)(n,["onToggleExpanded","onTogglePlay","onRewind","onFastForward","onScrubBegin","onSeek","onScrubEnd","onPreviousAudioPlayRequested","onSkip","onSponsorshipSlotAvailable","onMobileSponsorshipSlotAvailable","onSoundscapesBannerClick","onMetadataLoaded","onPlayPauseRequested","onAddToQueue","onRemoveFromQueue","onLinkClick","onDonateLinkClick","onNowOnStreamsRegistrationRequested","onNowOnStreamsUnregistrationRequested","newscastRequested","onAutoplayEnabled","onAutoplayDisabled","onSetAudioPlayerVolume","onPaneSelectedStreaming","onChangeStationSmallBp","onLoadMorePlaylistItems"]),n.focusTrap=(0,s.default)("#player-react-mount"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onToggleExpanded",value:function(){this.props.dispatch(u.toggleExpanded())}},{key:"onTogglePlay",value:function(e){this.props.dispatch(u.playPauseRequested(e,{playedFrom:"from play head"}))}},{key:"onRewind",value:function(e){this.props.dispatch(u.rewind(e))}},{key:"onFastForward",value:function(e){this.props.dispatch(u.fastForward(e))}},{key:"onScrubBegin",value:function(e){this.props.dispatch(u.scrubBegin(e))}},{key:"onSeek",value:function(e,t){this.props.dispatch(u.seek(e,t))}},{key:"onScrubEnd",value:function(e){this.props.dispatch(u.scrubEnd(e))}},{key:"onPreviousAudioPlayRequested",value:function(){this.props.dispatch(p.previousAudioPlayReceived())}},{key:"onSkip",value:function(){this.props.dispatch(u.skip())}},{key:"onSponsorshipSlotAvailable",value:function(){this.props.dispatch(c.sponsorshipSlotAvailable())}},{key:"onMobileSponsorshipSlotAvailable",value:function(){this.props.dispatch(c.setMobileSponsorshipSlotAvailable())}},{key:"onSoundscapesBannerClick",value:function(){this.props.dispatch(c.soundscapesBannerClicked(this.props.player.currentUid))}},{key:"onMetadataLoaded",value:function(e){this.props.dispatch(l.metadataLoaded(e))}},{key:"onPlayPauseRequested",value:function(e,t){this.props.dispatch(u.playPauseRequested(e,t))}},{key:"onAddToQueue",value:function(e){this.props.dispatch(k.queueButtonPressed(e,y.PLAYER,this.props.currentPlaylistEtag,this.props.currentPlaylistId))}},{key:"onLinkClick",value:function(e){this.props.dispatch(d.linkClicked(e))}},{key:"onDonateLinkClick",value:function(e){this.props.dispatch(f.stationChangeRequested(e))}},{key:"onAutoplayEnabled",value:function(){this.props.dispatch(E.enableContinuousListening())}},{key:"onAutoplayDisabled",value:function(){this.props.dispatch(E.disableContinuousListening())}},{key:"onSetAudioPlayerVolume",value:function(e){this.props.dispatch(u.setAudioPlayerVolume(e))}},{key:"onNowOnStreamsRegistrationRequested",value:function(e){this.props.dispatch(l.nowOnStreamsRegistrationRequested(e))}},{key:"onNowOnStreamsUnregistrationRequested",value:function(e){this.props.dispatch(l.nowOnStreamsUnregistrationRequested(e))}},{key:"onPaneSelectedStreaming",value:function(){this.props.dispatch(d.streamingPaneSelectedWithPlay())}},{key:"onChangeStationSmallBp",value:function(){this.props.dispatch(d.paneChangeWithExpand(g.STREAMING))}},{key:"getLocalStationCount",value:function(){return this.props.localStations.stations.length}},{key:"onRemoveFromQueue",value:function(e){return this.props.dispatch(k.deletePlaylistItemsRequested(this.props.currentPlaylistId,[e],this.props.currentPlaylistEtag))}},{key:"onLoadMorePlaylistItems",value:function(){var e=this.findHighestIndexPlaylistVisualRecommendation(this.props.playlistVisualRecommendations);return this.props.dispatch(k.loadVisualPlaylistRecommendationsRequested(this.props.currentPlaylistId,e+1))}},{key:"findHighestIndexPlaylistVisualRecommendation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length-1;return t<0?-1:e[t].hasOwnProperty("uid")?t:this.findHighestIndexPlaylistVisualRecommendation(e,t-1)}},{key:"getPlayerControls",value:function(e,t){var n=!this.props.queue.length,r=!this.props.history.length||this.props.historyHeadPosition===this.props.history.length;switch(e.type){case m.SEGMENT:return o.default.createElement(a.Suspense,{fallback:o.default.createElement(O.default,{player:this.props.player,handlers:t})},o.default.createElement(F,{handlers:t,player:this.props.player,site:this.props.site,audio:e,isQueueEmpty:n,isHistoryEmpty:r,ecosystem:this.props.site.ecosystem,isMobileDevice:this.props.isMobileDevice,playMode:this.props.playMode,isAwaitingData:this.props.isAwaitingData,isAutoplayEnabled:this.props.isAutoplayEnabled}));case m.STREAM:return o.default.createElement(a.Suspense,{fallback:o.default.createElement(O.default,{player:this.props.player,handlers:t})},o.default.createElement(G,{handlers:t,player:this.props.player,site:this.props.site,audio:e,org:this.props.org,currentAudio:e,ecosystem:this.props.site.ecosystem}));case m.SPONSORSHIP:return e.subtype===m.SOUNDSCAPES?o.default.createElement(a.Suspense,{fallback:o.default.createElement(O.default,{player:this.props.player,handlers:t})},o.default.createElement(B,{handlers:t,player:this.props.player,audio:e,sponsorship:this.props.sponsorship})):o.default.createElement(a.Suspense,{fallback:o.default.createElement(O.default,{player:this.props.player,handlers:t})},o.default.createElement(j,{handlers:t,player:this.props.player,audio:e}));default:return o.default.createElement("div",null)}}},{key:"newscastRequested",value:function(e){this.props.dispatch(_.newscastRequested(e))}},{key:"render",value:function(){var e=new Set,t=!this.props.sponsorshipDiv&&this.props.player.env.breakpoint!==I.SMALL,n=this.props.player.env.breakpoint===I.SMALL&&(this.props.sponsorship.isPlayingSponsorship||this.props.player.isExpanded);this.props.player.isEngaged&&(e.add("has-engaged-player"),this.props.player.isExpanded&&e.add("has-expanded-engaged-player"));var r=this.props.sponsorshipDiv,a=this.props.leaveBehindDiv,i=this.props.player.isEngaged,s={};this.props.player.currentUid&&this.props.metadata[this.props.player.currentUid]&&(s=this.props.metadata[this.props.player.currentUid]);var u=void 0;if(this.props.sponsorship.loadCustomAdBackground){var l=(0,w.getUidFromAdSlotName)(b.PLAYER_PRIMARY,this.props.sponsorshipDiv);u=this.props.metadata[l]}var c=!!this.props.player.currentUid&&this.getPlayerControls(s,this.handlers),d=new Set;return s.type===m.STREAM&&d.add("has-live-radio"),this.props.sponsorship.isPlayingSponsorship&&d.add("is-playing-sponsorship"),this.props.mobileSponsorshipDiv&&d.add("has-mobile-sponsorship"),this.props.player.isPaneExpanded&&d.add("has-expanded-pane"),this.props.player.isExpanded&&this.props.player.env.breakpoint===I.SMALL?this.focusTrap.activate():this.focusTrap.deactivate(),o.default.createElement("div",{className:"player-wrap-outer "+Array.from(e).join(" ")},o.default.createElement("div",{className:"player-wrap-inner"},this.props.player.hasError?o.default.createElement(P.default,{player:this.props.player,handlers:this.handlers},o.default.createElement(M.default,null)):"",this.props.player.hasError?"":o.default.createElement(P.default,{player:this.props.player,handlers:this.handlers},o.default.createElement("section",{id:"npr-player",className:"npr-player "+Array.from(d).join(" "),"aria-label":"NPR audio player"},o.default.createElement("div",{className:"npr-player__programmatic-buttons","aria-hidden":"true"},o.default.createElement("button",{id:"npr-player__stream-initiated"}),o.default.createElement("button",{id:"npr-player__segment-initiated"}),o.default.createElement("button",{id:"npr-player__newscast-initiated"}),o.default.createElement("button",{id:"npr-player__add-playlist-items-succeeded"}),o.default.createElement("button",{id:"npr-player__audio-complete"})),(!i||!this.props.player.currentUid)&&o.default.createElement(h.default,{metadata:this.props.metadata,localOrg:this.props.org[this.props.user.org.id],orgStatus:this.props.user.org.status,site:this.props.site,handlers:this.handlers,queue:this.props.playlistVisualRecommendations,player:this.props.player,localStationCount:this.getLocalStationCount(),audio:s,isAwaitingDataGlobally:this.props.isAwaitingData}),i&&c,o.default.createElement(v.default,{onRemoveFromQueue:this.onRemoveFromQueue,onLoadMorePlaylistItems:this.onLoadMorePlaylistItems}),o.default.createElement(S.default,null),this.props.mobileSponsorshipDiv&&o.default.createElement("div",null,!this.props.sponsorship.isPlayingSponsorship&&o.default.createElement("p",{className:"mobile-sponsorship-message"},"Sponsor Message"),o.default.createElement(T.default,{show:n,handlers:this.handlers,isMobileSlot:this.props.player.env.breakpoint===I.SMALL,divName:this.props.mobileSponsorshipDiv,leaveBehind:""})),r&&(u?o.default.createElement(A.default,{key:r,metadata:u,divName:r,handlers:this.handlers}):o.default.createElement(T.default,{show:!0,key:r,divName:r,handlers:this.handlers})),a&&o.default.createElement("div",{key:a,className:"ad-leave-behind-container"},o.default.createElement("div",{className:"ad-leave-behind"},o.default.createElement(T.default,{show:t,divName:a,handlers:this.handlers}),t&&o.default.createElement("div",{className:"sponsorship-info"},o.default.createElement("b",null,"Sponsor Message"),o.default.createElement("a",{href:(0,C.getWebHost)()+"/about-npr/186948703/corporate-sponsorship"},"Become an NPR sponsor"))))))))}}]),t}(a.Component);t.default=(0,i.connect)((function(e){var t=e.player,n=e.org,r=e.site,a=e.sponsorship,o=e.user,i=e.localStations;return{player:t,org:n,site:r,queue:(0,L.getActiveFlowRecommendations)(e),history:(0,L.getPlayerHistory)(e),historyHeadPosition:(0,L.getCurrentPlayerHistoryHeadPosition)(e),sponsorship:a,user:o,localStations:i,metadata:(0,R.getDerivedMetadata)(e),isMobileDevice:(0,D.isMobileDevice)(e),playMode:(0,L.getPlayMode)(e),currentPlaylistId:(0,L.getCurrentPlaylistId)(e),currentPlaylistEtag:(0,L.getCurrentPlaylistEtag)(e),playlistVisualRecommendations:(0,L.getPlaylistVisualRecommendations)(e),isAwaitingData:(0,L.getIsAwaitingData)(e),isAutoplayEnabled:(0,L.isAutoplayEnabled)(e),leaveBehindDiv:a.leaveBehindDiv,sponsorshipDiv:a.sponsorshipDiv,mobileSponsorshipDiv:a.mobileSponsorshipDiv}}),null,null)(H)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=m(a),i=(m(n(4)),m(n(168))),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(29)),u=m(n(541)),l=m(n(542)),c=m(n(543)),d=m(n(544)),p=m(n(166)),f=n(545),_=m(n(546)),E=m(n(344));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){return g(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getInitialComponent",value:function(){if(this.props.player.isFetchingAccessToken||this.props.player.isEngaged&&this.props.player.isPaneExpanded&&this.props.audio.isPlayRequested||this.props.isAwaitingDataGlobally)return o.default.createElement("div",null,o.default.createElement(E.default,{player:this.props.player,handlers:this.props.handlers}));if(this.props.player.currentUid){var e=this.props.metadata[this.props.player.currentUid];if((0,f.canResumeAudio)(e,this.props.player.position))return o.default.createElement(c.default,{handlers:this.props.handlers,audioToResume:e,player:this.props.player,audio:this.props.audio})}if(this.props.queue&&this.props.queue.length){var t=(0,i.default)(this.props.queue);return o.default.createElement(l.default,{handlers:this.props.handlers,headOfQueue:t,player:this.props.player,audio:this.props.audio})}if(this.props.player.featuredAudio.featuredAudioProgramUid&&this.props.metadata[this.props.player.featuredAudio.featuredAudioUid]&&!this.props.localOrg){var n=this.props.metadata[this.props.player.featuredAudio.featuredAudioUid];return o.default.createElement(_.default,{handlers:this.props.handlers,audioToFeature:n,player:this.props.player,audio:this.props.audio})}return this.props.orgStatus!==s.PENDING&&this.props.localStationCount>0&&!this.props.localOrg?o.default.createElement("div",null,o.default.createElement(d.default,{handlers:this.props.handlers,player:this.props.player,metadata:this.props.metadata,audio:this.props.audio})):this.props.orgStatus!==s.PENDING?o.default.createElement("div",null,o.default.createElement(u.default,{handlers:this.props.handlers,localOrg:this.props.localOrg,metadata:this.props.metadata,player:this.props.player,audio:this.props.audio})):o.default.createElement(p.default,null)}},{key:"render",value:function(){return o.default.createElement("div",{className:"player-initial"},this.getInitialComponent())}}]),t}(a.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=_(a),i=(_(n(4)),n(623)),s=n(624),u=n(625),l=f(n(152)),c=_(n(107)),d=f(n(34)),p=n(89);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){if(e.localOrg){var t=(0,i.pick)(e.metadata,e.localOrg.streams);return(0,u.find)(t,{primary:!0})}},m=function(e){var t=E(e);t&&e.handlers.onNowOnStreamsRegistrationRequested(t)},g=function(e){var t=E(e);t&&e.handlers.onNowOnStreamsUnregistrationRequested(t)},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.bindAll)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){c.default.bind(["mod+shift+space"],this.onClick),m(this.props)}},{key:"componentDidUpdate",value:function(e){var t=E(e),n=E(this.props);!t||!t.uid||n&&n.uid===t.uid||g(e),!n||!n.uid||t&&t.uid===n.uid||m(this.props)}},{key:"componentWillUnmount",value:function(){c.default.unbind(["mod+shift+space"],this.onClick),g(this.props)}},{key:"onClick",value:function(e){e.preventDefault();var t=E(this.props)||l.STREAM_24_HOUR_PROGRAM_METADATA;this.props.handlers.onPlayPauseRequested(t,{playedFrom:"from initial state station stream"})}},{key:"getNowPlayingText",value:function(){var e=E(this.props);return e&&e.nowPlayingText}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0;E(this.props)?(e=this.props.localOrg.name,t=this.getNowPlayingText()||"On Air Now"):(e=l.STREAM_24_HOUR_PROGRAM_METADATA.title,t="On Air Now",n="program-stream");var r=["play-initial",this.props.audio&&this.props.audio.isPlayRequested?(0,p.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying,this.props.audio.isAwaitingData,this.props.audio.isPlayRequested):""];return o.default.createElement("article",{className:"player-item item-initial item-news"},this.props.player.env.breakpoint===d.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:r.join(" "),onClick:this.onClick},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one "+n},e),o.default.createElement("b",{className:"tag-two"},t))))}}]),t}(a.Component);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),i=(c(n(4)),c(n(91))),s=c(n(107)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(34)),l=n(89);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.handlers.onPlayPauseRequested(this.props.headOfQueue,{playedFrom:"from initial state first item in queue"})}},{key:"componentDidMount",value:function(){s.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){s.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){var e=["play-initial",this.props.audio&&this.props.audio.isPlayRequested?(0,l.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying,this.props.audio.isAwaitingData,this.props.audio.isPlayRequested):""];return o.default.createElement("article",{className:"player-item item-initial item-play-queue"},this.props.player.env.breakpoint===u.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:e.join(" "),onClick:this.onClick},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one"},"Start Listening"),o.default.createElement("b",{className:"tag-two"},"Play Your Playlist"))))}}]),t}(a.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),i=(c(n(4)),c(n(91))),s=c(n(107)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(34)),l=n(89);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.handlers.onPlayPauseRequested(this.props.audioToResume,{playedFrom:"from initial state - resume"})}},{key:"componentDidMount",value:function(){s.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){s.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){var e=["play-initial",this.props.audio&&this.props.audio.isPlayRequested?(0,l.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying,this.props.audio.isAwaitingData,this.props.audio.isPlayRequested):""];return o.default.createElement("article",{className:"player-item item-initial item-resume"},this.props.player.env.breakpoint===u.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:e.join(" "),onClick:this.onClick},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one"},"Resume Listening"),o.default.createElement("b",{className:"tag-two"},this.props.audioToResume.title))))}}]),t}(a.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=l(a),i=(l(n(4)),l(n(107))),s=n(89),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(34));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){i.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){i.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){var e=["play-initial",this.props.audio&&this.props.audio.isPlayRequested?(0,s.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying,this.props.audio.isAwaitingData,this.props.audio.isPlayRequested):""];return o.default.createElement("article",{className:"player-item item-initial item-liveradio"},this.props.player.env.breakpoint===u.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},"Close")),this.props.player.env.breakpoint===u.SMALL&&o.default.createElement("button",{className:"toggle-expanded-initial-player toggle-expanded-initial-player--two",onClick:this.props.handlers.onPaneSelectedStreaming,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},"Open"),o.default.createElement("button",{className:e.join(" "),onClick:this.props.handlers.onPaneSelectedStreaming},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one"},o.default.createElement("span",null,"Play Live Radio")))))}}]),t}(a.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canResumeAudio=function(e,t){return e&&(e.type===r.STREAM||e.duration-t>10)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(24))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),i=(c(n(4)),c(n(91))),s=c(n(107)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(34)),l=n(89);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.handlers.onPlayPauseRequested(this.props.audioToFeature,{playedFrom:"from initial state - featured audio"})}},{key:"componentDidMount",value:function(){s.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){s.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){var e=["play-initial","player-initial--featured-audio",this.props.audio&&this.props.audio.isPlayRequested?(0,l.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying,this.props.audio.isAwaitingData,this.props.audio.isPlayRequested):""];return o.default.createElement("article",{className:"player-item item-initial item-featured-audio"},this.props.player.env.breakpoint===u.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:e.join(" "),onClick:this.onClick},o.default.createElement("b",{className:"tag-wrapper-featured-audio"},o.default.createElement("b",{className:"tag-one tag-one--featured-audio"},"Today's Top Headlines In"===this.props.player.featuredAudio.featuredAudioText?this.props.player.featuredAudio.featuredAudioText+=" "+Math.floor(this.props.audioToFeature.duration/60).toString()+" Minutes.":this.props.player.featuredAudio.featuredAudioText),o.default.createElement("b",{className:"image-wrapper-featured-audio"},o.default.createElement("img",{className:"image-featured-audio",src:this.props.player.featuredAudio.featuredAudioImage})))))}}]),t}(a.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=D(a),i=(D(n(4)),n(10)),s=D(n(109)),u=R(n(147)),l=R(n(191)),c=R(n(24)),d=R(n(56)),p=R(n(28)),f=R(n(200)),_=R(n(90)),E=R(n(67)),m=R(n(346)),g=R(n(43)),y=R(n(190)),h=R(n(93)),v=n(64),S=n(108),O=D(n(92)),T=R(n(34)),A=n(35),I=D(n(21)),b=n(15),P=n(355);function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=O.default.isUserLoggedIn,L=o.default.lazy((function(){return n.e(95).then(n.t.bind(null,1270,7))})),M=o.default.lazy((function(){return Promise.all([n.e(96),n.e(94)]).then(n.t.bind(null,1271,7))})),k=o.default.lazy((function(){return n.e(97).then(n.t.bind(null,1272,7))})),U=function(e){function t(){var e,n,r;N(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onSoundscapesBannerClick=function(){r.props.onSoundscapesBannerClick(r.props.player.currentUid)},r.onAddUidToQueue=function(e){r.props.onAddToQueue(e,r.props.currentPlaylistId,r.props.currentPlaylistEtag)},r.getCurrentAudioMetadata=function(){return r.props.player.currentUid&&r.props.metadata[r.props.player.currentUid]?r.props.metadata[r.props.player.currentUid]:{}},r.getContentForPanel=function(){var e=!(r.props.player.env.breakpoint===T.SMALL&&(!r.props.userOrg||(0,s.default)(r.props.userOrg))&&!r.props.player.currentUid);switch(r.props.currentPane){case u.STREAMING:return o.default.createElement(L,{metadata:r.props.metadata,orgs:r.props.org,localStations:r.props.localStations,userOrg:r.props.userOrg,onPlayPauseRequested:r.props.onPlayPauseRequested,onNowOnStreamsRegistrationRequested:r.props.onNowOnStreamsRegistrationRequested,onNowOnStreamsUnregistrationRequested:r.props.onNowOnStreamsUnregistrationRequested,breakpoint:r.props.player.env.breakpoint,isPaneExpanded:!0===r.props.player.isPaneExpanded,collapsePane:r.props.collapsePane,stationChangeRequested:r.props.stationChangeRequested,findAnotherStationCallback:r.findAnotherStationCallback,onLinkClick:r.props.onLinkClick,availableLocalNewscastId:r.props.availableLocalNewscastId,shouldRenderOverlayCloseButton:e});case u.ON_DEMAND:return o.default.createElement(M,{metadata:r.props.metadata,queue:r.props.queue,isAudioRecommendationFunc:r.props.isAudioRecommendationFunc,history:r.props.history,isAutoplayEnabled:r.props.isAutoplayEnabled,onPlayPauseRequested:r.props.onPlayPauseRequested,onAddToQueue:r.onAddUidToQueue,onRemoveFromQueue:r.props.onRemoveFromQueue,onLinkClick:r.props.onLinkClick,onAutoplayEnabled:r.props.onAutoplayEnabled,onAutoplayDisabled:r.props.onAutoplayDisabled,isSmallBreakpoint:r.props.isSmallBreakpoint,currentUid:r.props.player.currentUid,onNprOneMixStartListeningClick:r.props.onNprOneMixStartListeningClick,onFeaturedCardPlayClick:r.props.onFeaturedCardPlayClick,playMode:r.props.playMode,isUserLoggedIn:r.getIsUserLoggedIn(),onSubpaneChange:r.props.onSubpaneChange,currentSubpane:r.props.currentSubpane,playlistVisualRecommendations:r.props.playlistVisualRecommendations,onLoadMorePlaylistItems:r.props.onLoadMorePlaylistItems,isWorkingOnPlaylistUpdate:r.props.isWorkingOnPlaylistUpdate,isAwaitingData:r.props.isAwaitingData,isPlaying:r.props.player.isPlaying,isRenderingForMobileApp:r.props.isRenderingForMobileApp});case u.NEWSCAST:return o.default.createElement(k,{metadata:r.props.metadata,onPlayPauseRequested:r.props.onPlayPauseRequested,onNewscastRequested:r.props.newscastRequested,orgs:r.props.org,userOrg:r.props.userOrg,isPlaying:r.props.player.isPlaying,onLinkClick:r.props.onLinkClick,isAutoplayEnabled:r.props.isAutoplayEnabled,onAutoplayEnabled:r.props.onAutoplayEnabled,onAutoplayDisabled:r.props.onAutoplayDisabled,isMobileDevice:r.props.isMobileDevice,isSmallBreakpoint:r.props.isSmallBreakpoint});default:return null}},r.findAnotherStationCallback=function(){r.props.player.env.breakpoint===T.SMALL&&r.props.collapsePane()},r.shouldRenderContentArea=function(){var e=r.getCurrentAudioMetadata(),t=r.props.player,n=t.isEngaged,a=t.isExpanded,o=t.isPaneExpanded;return n&&a&&o&&e.type!==c.SPONSORSHIP},r.getIsUserLoggedIn=function(){return C(r.props.user,r.props.isRenderingForMobileApp)},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return o.default.createElement(a.Suspense,{fallback:o.default.createElement("div",{className:"player-details player-details--lazy","aria-label":"loading"})},this.shouldRenderContentArea()&&this.getContentForPanel())}}]),t}(a.Component);t.default=(0,i.connect)((function(e){var t=e.player,n=e.org,r=e.localStations,a=e.user,o=(0,b.getUserOrgId)(e),i=null;o?i=(0,b.getAvailableLocalNewscastId)(e,o):o=d.NPR;var s=(0,b.getOrgById)(e,o)||{},u=I.default.isMobileNativeApp((0,A.getRenderPlatform)(e));return{availableLocalNewscastId:i,player:t,org:n,user:a,userOrg:s,userOrgId:o,localStations:r,isAudioRecommendationFunc:function(t){return(0,b.isAudioRecommendation)(e,t)},currentPane:(0,b.getCurrentPane)(e),currentSubpane:(0,b.getCurrentSubpane)(e),queue:(0,b.getConstructedQueue)(e),history:(0,b.getPlayerHistory)(e),metadata:(0,v.getDerivedMetadata)(e),isSmallBreakpoint:(0,S.isSmallBreakpoint)(e),isMobileDevice:(0,S.isMobileDevice)(e),isAutoplayEnabled:(0,b.isAutoplayEnabled)(e),playMode:(0,b.getPlayMode)(e),playlistVisualRecommendations:(0,b.getPlaylistVisualRecommendations)(e),isWorkingOnPlaylistUpdate:(0,b.isWorkingOnPlaylistUpdate)(e),currentPlaylistId:(0,b.getCurrentPlaylistId)(e),currentPlaylistEtag:(0,b.getCurrentPlaylistEtag)(e),isAwaitingData:(0,P.getIsAwaitingData)(e),isRenderingForMobileApp:u}}),(function(e){return{onSoundscapesBannerClick:function(t){return e(f.soundscapesBannerClicked(t))},onPlayPauseRequested:function(t,n){return e(p.playPauseRequested(t,n))},onAddToQueue:function(t,n,r){return e(h.queueButtonPressed(t,l.PLAYER,r,n))},onLinkClick:function(t){return e(_.linkClicked(t))},onAutoplayEnabled:function(){return e(m.enableContinuousListening())},onAutoplayDisabled:function(){return e(m.disableContinuousListening())},onNowOnStreamsRegistrationRequested:function(t){return e(g.nowOnStreamsRegistrationRequested(t))},onNowOnStreamsUnregistrationRequested:function(t){return e(g.nowOnStreamsUnregistrationRequested(t))},newscastRequested:function(t){return e(y.newscastRequested(t))},collapsePane:function(){return e(_.collapsePane())},stationChangeRequested:function(t){return e(E.stationChangeRequested(t))},onNprOneMixStartListeningClick:function(){return e(h.getListeningRecommendationsDefaultOnRampRequested())},onFeaturedCardPlayClick:function(t){return e(h.getPromoCardAudioAndSubsequentlyPlayRequested(t))},onSubpaneChange:function(t){return e(_.subpaneChangeDirect(t))}}}))(U)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=m(a),i=(m(n(4)),n(10)),s=E(n(34)),u=m(n(549)),l=m(n(550)),c=E(n(90)),d=E(n(93)),p=n(110),f=E(n(190)),_=E(n(56));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;g(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.getCurrentAudioMetadata=function(){return r.props.player.currentUid&&r.props.metadata[r.props.player.currentUid]?r.props.metadata[r.props.player.currentUid]:{}},r.getAvailableLocalNewscastId=function(){var e=r.props.user.org.id;return r.props.metadata[(0,p.getNewscastUidForOrg)(e)]?e:0},r.getContentForPanel=function(){var e=r.props.player.env.breakpoint,t=r.getCurrentAudioMetadata(),n=r.props.user.org.id,a=n&&n!==_.NPR?r.props.org[n]:{};return e!==s.SMALL?o.default.createElement(u.default,{onPaneSelectedStreaming:r.props.onPaneSelectedStreaming,onPaneSelectedOnDemand:r.props.onPaneSelectedOnDemand,onPaneSelectedNewscast:r.props.onPaneSelectedNewscast,panes:r.props.panes}):o.default.createElement(l.default,{onPaneSelectedStreaming:r.props.onPaneSelectedStreaming,onNewscastPaneSelectedWithPlaySmallBp:r.props.onNewscastPaneSelectedWithPlaySmallBp,onNewscastRequested:r.props.newscastRequested,currentAudio:t,availableLocalOrgId:r.getAvailableLocalNewscastId(),userOrg:a,panes:r.props.panes})},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return o.default.createElement("span",{className:"player-extras-wrap"},this.getContentForPanel())}}]),t}(a.Component);t.default=(0,i.connect)((function(e){return{panes:e.panes,player:e.player,metadata:e.metadata,user:e.user,org:e.org}}),(function(e){return{onPaneSelectedStreaming:function(){return e(c.streamingPaneSelectedWithPlay())},onPaneSelectedOnDemand:function(){return e(c.onDemandPaneSelected())},onPaneSelectedNewscast:function(){return e(d.getNewscastRecommendationsOnRampRequested())},onNewscastPaneSelectedWithPlaySmallBp:function(t){return e(c.newscastPaneSelectedWithPlaySmallBp(t))},newscastRequested:function(t){return e(f.newscastRequested(t))}}}))(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),a=(o(n(4)),o(n(142)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.onPaneSelectedStreaming,n=e.onPaneSelectedOnDemand,o=e.onPaneSelectedNewscast,i=e.panes;return r.default.createElement("ul",{className:"player-extras",role:"navigation","aria-label":"audio player navigation"},r.default.createElement("li",null,r.default.createElement(a.default,{metricsGA4:{category:"player",action:"player_click_pane",clickType:"hourly news",currentPane:i.currentPane,currentSubpane:i.currentSubpane},onClick:o,className:"btn-newscast"},r.default.createElement("b",null,"Hourly News"))),r.default.createElement("li",null,r.default.createElement(a.default,{metricsGA4:{category:"player",action:"player_click_pane",clickType:"listen live",currentPane:i.currentPane,currentSubpane:i.currentSubpane},onClick:t,className:"btn-live-radio"},r.default.createElement("b",null,"Listen Live"))),r.default.createElement("li",null,r.default.createElement(a.default,{metricsGA4:{category:"player",action:"player_click_pane",clickType:"playlist",currentPane:i.currentPane,currentSubpane:i.currentSubpane},onClick:n,className:"btn-playlist"},r.default.createElement("b",null,"My Playlist"))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),d(n(142))),s=c(n(24)),u=c(n(56)),l=n(110);d(n(109));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onNewscastSelected=function(e){return function(){n.props.onNewscastPaneSelectedWithPlaySmallBp(e)}},n.getContent=function(){var e=n.props.currentAudio,t=e.type,r=e.subtype,a=e.uid,c=[],d=o.default.createElement("li",{key:1},o.default.createElement(i.default,{metricsGA4:{category:"audio",action:"player_click_pane",clickType:"listen live",currentPane:n.props.panes.currentPane,currentSubpane:n.props.panes.currentSubpane},onClick:n.props.onPaneSelectedStreaming,className:"btn-live-radio"},o.default.createElement("b",null,"Listen Live"))),p=o.default.createElement("li",{key:2},o.default.createElement(i.default,{metricsGA4:{category:"audio",action:"player_click_pane",clickType:"hourly news",currentPane:n.props.panes.currentPane,currentSubpane:n.props.panes.currentSubpane},onClick:n.onNewscastSelected(u.NPR),className:"btn-newscast"},o.default.createElement("b",null,"Hourly News"))),f=n.props.availableLocalOrgId?o.default.createElement("li",{key:3},o.default.createElement(i.default,{metricsGA4:{category:"audio",action:"player_click_pane",clickType:"local news",currentPane:n.props.panes.currentPane,currentSubpane:n.props.panes.currentSubpane},onClick:n.onNewscastSelected(n.props.availableLocalOrgId),className:"btn-newscast"},o.default.createElement("b",null,"Local News"))):null;return n.props.currentAudio?t!==s.SPONSORSHIP&&(t===s.SEGMENT?(c.push(d),r===s.SEGMENT_NEWSCAST?a===(0,l.getNewscastUidForOrg)(u.NPR)?c.push(f):c.push(p):c.push(f,p)):c.push(f,p)):c.push(d,f,p),c.filter((function(e){return!!e}))},n.state={stationOrgId:null,isWaitingOnOrgId:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.userOrg&&this.props.userOrg.id&&!this.state.stationOrgId?this.setState({stationOrgId:this.props.userOrg.id},(function(){e.props.onNewscastRequested(e.props.userOrg.id)})):this.setState({isWaitingOnOrgId:!0}),this.props.onNewscastRequested(u.NPR)}},{key:"componentDidUpdate",value:function(){var e=this;this.props.userOrg&&this.props.userOrg.id&&this.state.isWaitingOnOrgId&&(!this.state.stationOrgId||this.state.stationOrgId&&this.state.stationOrgId!==this.props.userOrg)&&this.setState({stationOrgId:this.props.userOrg.id,isWaitingOnOrgId:!1},(function(){e.props.onNewscastRequested(e.props.userOrg.id)}))}},{key:"render",value:function(){return o.default.createElement("ul",{className:"player-extras",role:"navigation","aria-label":"audio player navigation"},this.getContent())}}]),t}(a.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=i(a);i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.isMobileSlot?this.props.handlers.onMobileSponsorshipSlotAvailable():this.props.handlers.onSponsorshipSlotAvailable()}},{key:"render",value:function(){var e=this.props.isMobileSlot?["ad-player-mobile"]:["ad-player"];return this.props.show||e.push("hidden"),o.default.createElement("div",{className:e.join(" "),id:this.props.divName})}}]),t}(a.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(1));o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return a.default.createElement("div",{className:"ad-player",id:this.props.divName},a.default.createElement("div",{className:"custom-sponsorship-slot"},a.default.createElement("div",{className:"iframe-container"},a.default.createElement("iframe",{src:this.props.metadata.animationIframeUrl,scrolling:"no"})),a.default.createElement("div",{className:"sponsor-clickthrough full-height"},a.default.createElement("a",{href:this.props.metadata.sponsorClickthrough,rel:"noopener noreferrer",target:"_blank",onClick:this.props.handlers.onSoundscapesBannerClick},"")),a.default.createElement("div",{className:"custom-audio-help-link"}," ","What's this?"),a.default.createElement("div",{className:"sponsorship-disclaimer"},"The message you are hearing is from the sponsor, which is solely responsible for the content.")))}}]),t}(a.default.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(1)),o=(d(n(4)),n(246)),i=c(n(34)),s=d(n(31)),u=d(n(12)),l=c(n(356));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasError:!1,errorType:e.player.errorType},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),u.default.error("NPR - error - player-container-error-boundary.jsx componentDidCatch: ","error: "+e+" errorInfo: "+t)}},{key:"componentDidMount",value:function(){this.props.player.hasError&&(this.setState({hasError:!0,errorType:this.props.player.errorType}),u.default.error("NPR - error - player-container-error-boundary.jsx componentDidMount "+this.props.player.errorType))}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.player.env.breakpoint!==i.LARGE||(0,o.canCollapse)(this.props.player.env.breakpoint,this.props.player.env.hasRightRail)?"":"has-engaged-player has-expanded-engaged-player";if(this.state.errorType===l.GENERAL_ERROR)return a.default.createElement("div",{className:"player-wrap-outer "+e},a.default.createElement("div",{className:"player-wrap-inner"},a.default.createElement("section",{id:"npr-player",className:"npr-player","aria-label":"NPR audio player"},a.default.createElement("div",{className:"player-basic-wrap player-basic-wrap--error"},a.default.createElement("div",{className:"player-basic"},(0,o.canCollapse)(this.props.player.env.breakpoint,this.props.player.env.hasRightRail)&&a.default.createElement("button",{className:"toggle-expanded-engaged-player",onClick:this.props.handlers.onToggleExpanded,"aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close"),this.props.player.env.breakpoint!==i.SMALL&&a.default.createElement("b",{className:"player-play-pause-stop error","aria-label":"Error"},"Error"),a.default.createElement("div",{className:"player-controls"},a.default.createElement("b",{className:"player-previous previous-inactive","aria-hidden":"true"},"Inactive control: Previous"),a.default.createElement("b",{className:"player-rewind rewind-inactive","aria-hidden":"true"},"Inactive control: Rewind"),this.props.player.env.breakpoint===i.SMALL&&a.default.createElement("b",{className:"player-play-pause-stop error","aria-label":"Error"},"Error"),a.default.createElement("b",{className:"player-fast-forward fast-forward-inactive","aria-hidden":"true"},"Inactive control: Fast Forward"),a.default.createElement("b",{className:"player-skip skip-inactive","aria-hidden":"true"},"Inactive control: Skip")),a.default.createElement("div",{className:"audio-info"},a.default.createElement("b",{className:"audio-program-label"},"Sorry, an error occurred"),a.default.createElement("b",{className:"audio-title"},"Please reload the page and try again.")),a.default.createElement("b",{className:"track"},a.default.createElement("b",{className:"track-inner"})))))));if(this.state.errorType===l.AUTHENTICATION_ERROR)return a.default.createElement("div",{className:"player-wrap-outer "+e},a.default.createElement("div",{className:"player-wrap-inner"},a.default.createElement("section",{id:"npr-player",className:"npr-player","aria-label":"NPR audio player"},a.default.createElement("div",{className:"player-basic-wrap player-basic-wrap--error"},a.default.createElement("div",{className:"player-basic"},(0,o.canCollapse)(this.props.player.env.breakpoint,this.props.player.env.hasRightRail)&&a.default.createElement("button",{className:"toggle-expanded-engaged-player",onClick:this.props.handlers.onToggleExpanded,"aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close"),this.props.player.env.breakpoint!==i.SMALL&&a.default.createElement("b",{className:"player-play-pause-stop error","aria-label":"Error"},"Error"),a.default.createElement("div",{className:"player-controls"},a.default.createElement("b",{className:"player-previous previous-inactive","aria-hidden":"true"},"Inactive control: Previous"),a.default.createElement("b",{className:"player-rewind rewind-inactive","aria-hidden":"true"},"Inactive control: Rewind"),this.props.player.env.breakpoint===i.SMALL&&a.default.createElement("b",{className:"player-play-pause-stop error","aria-label":"Error"},"Error"),a.default.createElement("b",{className:"player-fast-forward fast-forward-inactive","aria-hidden":"true"},"Inactive control: Fast Forward"),a.default.createElement("b",{className:"player-skip skip-inactive","aria-hidden":"true"},"Inactive control: Skip")),a.default.createElement("div",{className:"audio-info"},a.default.createElement("b",{className:"audio-program-label"},"Sorry, an error occurred"),a.default.createElement("b",{className:"audio-title"},"Please try ",a.default.createElement(s.default,{href:"/account/login"},"logging in")," again.")),a.default.createElement("b",{className:"track"},a.default.createElement("b",{className:"track-inner"})))))))}return this.props.children}}]),t}(a.default.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=p(a),i=(p(n(4)),p(n(8))),s=p(n(109));n(620);var u=p(n(12)),l=p(n(44)),c=n(119),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(24));function p(e){return e&&e.__esModule?e:{default:e}}var f=navigator.userAgent.match(/android/i),_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.audioplayerRef=o.default.createRef(),n.state={didUpdateFirstTime:!1,initialVolume:e.player.volume},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;this.timeUpdateThreshold=1,(0,i.default)(this.audioplayerRef.current).jPlayer({supplied:"mp3",wmode:"window",autoBlur:!1,ended:function(){return e.props.handlers.onAudioComplete(e.props.audio)},playing:function(){return e.props.handlers.onAudioPlayingStatusDirect(!0,e.props.audio)},pause:function(){return e.props.handlers.onAudioPlayingStatusDirect(!1,e.props.audio)},durationchange:function(t){return e.props.handlers.onAudioDurationChange(e.props.audio.uid,t.jPlayer.status.duration)},error:function(t){return e.handleError(t)},loadeddata:function(){return e.handleSuccessfulLoad()}}),this.enableBufferingCheck(),this.setAudioPlayerVolume(this.state.initialVolume)}},{key:"resetBuffering",value:function(){this.lastPlayPosition=0,this.bufferingDetected=!1}},{key:"enableBufferingCheck",value:function(){var e=this;this.resetBuffering();setInterval(function(){var t=(0,i.default)(e.audioplayerRef.current).data().jPlayer.status.currentTime;!e.bufferingDetected&&t<e.lastPlayPosition+1/600&&e.props.player.isPlaying&&(e.bufferingDetected=!0,e.props.handlers.onAudioBufferingStarted(e.props.audio)),e.bufferingDetected&&t>e.lastPlayPosition+1/600&&e.props.player.isPlaying&&(e.bufferingDetected=!1,e.props.handlers.onAudioBufferingFinished(e.props.audio)),e.lastPlayPosition=t}.bind(this),600)}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=(0,i.default)(this.audioplayerRef.current).data().jPlayer,r=(0,c.getAudioUrlToPlay)(e.audio);if(this.state.didUpdateFirstTime){if(e.audio&&((!this.props.audio.isAudioReady&&e.audio.isAudioReady||e.audio.isAudioReady&&this.props.audio.uid!==e.audio.uid||e.audio.isAudioReady&&(0,s.default)(n.status.media))&&this.load(r,!1),(n.status.paused||n.status.waitForPlay)&&e.audio.isPlaying&&this.play(r),n.status.paused||n.status.waitForPlay||e.audio.isPlaying||this.pause(),e.player.volume!==this.props.player.volume&&this.setAudioPlayerVolume(e.player.volume),this.props.player.env.isPageVisible&&Math.abs(e.player.position-this.props.player.position)>2*this.timeUpdateThreshold)){var a=e.player.position/this.props.audio.duration*100;this.seek(a)}}else this.setState({didUpdateFirstTime:!0})}},{key:"play",value:function(e){var t=(0,i.default)(this.audioplayerRef.current);this.props.audio.type===d.STREAM?(f||(t.jPlayer("clearMedia"),this.load(e,!0)),t.jPlayer("play")):t.jPlayer("play",this.props.player.position)}},{key:"pause",value:function(){(0,i.default)(this.audioplayerRef.current).jPlayer("pause")}},{key:"load",value:function(e,t){if(e){var n=t?l.default.addUrlParameter(e,"ck",(new Date).getTime()):e;(0,i.default)(this.audioplayerRef.current).jPlayer("setMedia",{mp3:n}),this.resetBuffering()}}},{key:"seek",value:function(e){(0,i.default)(this.audioplayerRef.current).jPlayer("playHead",e)}},{key:"setAudioPlayerVolume",value:function(e){(0,i.default)(this.audioplayerRef.current).jPlayer("volume",e)}},{key:"handleSuccessfulLoad",value:function(){this.props.player.userEverInvokedPlay&&this.props.handlers.onAudioLoaded(this.props.audio)}},{key:"handleError",value:function(e){var t=e.jPlayer.error,n=(0,c.getAudioUrlToPlay)(this.props.audio);switch(t.type){case i.default.jPlayer.error.FLASH:case i.default.jPlayer.error.FLASH_DISABLED:case i.default.jPlayer.error.NO_SOLUTION:u.default.error(new Error("Persistent audio player failed to start jPlayer."),{version:e.jPlayer.version});break;case i.default.jPlayer.error.NO_SUPPORT:case i.default.jPlayer.error.URL_NOT_SET:u.default.error(new Error("Failed to find any supported audio formats at "+n),{uid:this.props.audio.uid}),this.props.handlers.onAudioError(this.props.audio,{reason:"Audio temporarily unavailable"});break;case i.default.jPlayer.error.URL:u.default.error(new Error("Failed retrieving "+n+" for playback."),{uid:this.props.audio.uid}),this.props.handlers.onAudioError(this.props.audio,{reason:"Audio temporarily unavailable"});break;default:u.default.warning("Unhandled jPlayer error",{type:t.type,message:t.message})}}},{key:"render",value:function(){return o.default.createElement("div",{style:{width:0,height:0},id:"audio-player",ref:this.audioplayerRef})}}]),t}(a.Component);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(1)),o=n(65),i=n(10),s=c(n(8)),u=n(198),l=c(n(347));function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0,p=null;t.default={retrieveMetadataFromDOM:function(e,t){return d=[],(0,s.default)("[data-audio]").each((function(){var e=(0,s.default)(this).data("audio"),n=(0,s.default)(this).data("audio-metrics"),a=(0,s.default)(this).data("audio-cta-override-text");e.hasOwnProperty("skipSponsorship")||(e.skipSponsorship=t),e.available&&(e.audioUrl&&(e.audioUrl=(0,u.deObfuscateUrl)(e.audioUrl)),(0,s.default)(this).removeAttr("data-audio"),(0,s.default)(this).removeAttr("data-audio-cta-override-text"),d.push(r({metadata:e,metrics:n},a?{callToActionOverrideText:a}:{},{domNode:this})))})),d.map((function(e){return e.metadata}))},mountModules:function(e){d.map((function(t){var n=t.domNode;(p=(0,o.createRoot)(n)).render(a.default.createElement(i.Provider,{store:e},a.default.createElement(l.default,{audio:t.metadata,callToActionOverrideText:t.callToActionOverrideText?t.callToActionOverrideText:null})))}))},unmountModules:function(){d.map((function(e){e.domNode||p.unmount()}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),d(n(91))),s=n(145),u=n(89),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(251)),d(n(21))),c=n(119);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(n,["onPlayPauseClick","onQueueClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.handlers.onAudioModuleMounted()}},{key:"onPlayPauseClick",value:function(){this.props.handlers.onPlayPausePressed(this.props.audio)}},{key:"onQueueClick",value:function(){this.props.handlers.onQueue(this.props.audio.uid)}},{key:"renderQueueButton",value:function(){var e=l.default.isMobileNativeApp(this.props.renderPlatform),t=["audio-module-queue"],n="icn-playlist",r="Playlist",a=!1;return this.props.audio.userQueuedStatus===c.USER_QUEUED_STATUS.ADDED?(t.push("queued"),r="Added",n="icn-playlist-added",a=!e):this.props.audio.userQueuedStatus===c.USER_QUEUED_STATUS.LOADING&&(r="",n="icn-playlist-loading"),o.default.createElement("button",{className:t.join(" "),onClick:this.onQueueClick,disabled:a},o.default.createElement("b",{className:"audio-module-queue-inner"},o.default.createElement("b",{className:n}),o.default.createElement("b",{className:"audio-module-queue-text"},r)))}},{key:"render",value:function(){var e=this.props.audio.isPlaying?"audio-module-listen is-playing":"audio-module-listen",t=["audio-module-listen-icon",(0,u.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying,this.props.audio.isAwaitingData,this.props.audio.isPlayRequested)],n=l.default.isMobileNativeApp(this.props.renderPlatform);return o.default.createElement("div",{className:"audio-module-controls "+(this.props.hasPlusAccess?"audio-module-controls--plus audio-module-controls--plus-unlocked":"audio-module-controls--standard")},o.default.createElement("button",{className:e,onClick:this.onPlayPauseClick},o.default.createElement("b",{className:"audio-module-listen-inner"},o.default.createElement("b",{className:t.join(" ")}),o.default.createElement("b",{className:"audio-module-listen-text"},this.props.callToActionOverrideText?o.default.createElement("b",{className:"audio-module-cta",dangerouslySetInnerHTML:{__html:this.props.callToActionOverrideText}}):o.default.createElement("b",{className:"audio-module-cta"},"Listen"),!!this.props.audio.duration&&o.default.createElement("b",{className:"audio-module-listen-duration"},o.default.createElement("span",null,"")," ",(0,s.secondsAsHMMSS)(this.props.audio.duration))))),!!this.props.audio.duration&&!n&&o.default.createElement("time",{className:"audio-module-duration",dateTime:(0,s.secondsAsHtmlDuration)(this.props.audio.duration)},(0,s.secondsAsFormattedText)(this.props.audio.duration)),!!this.props.audio.duration&&n&&o.default.createElement("time",{className:"audio-module-duration",dateTime:(0,s.secondsAsHtmlDuration)(this.props.audio.duration)},(0,s.secondsAsHMMSS)(this.props.audio.duration)),!this.props.audio.duration&&o.default.createElement("time",{className:"audio-module-duration",dateTime:"0"},"Listen"),(n&&!this.props.audio.isStreamAudioType||!n&&!this.props.isSmallBreakpoint)&&this.renderQueueButton())}}]),t}(a.Component);t.default=p,p.defaultProps={renderPlatform:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.handlers,n=e.audio,o=n.isPlaying?"audio-module-listen is-playing":"audio-module-listen",i=["audio-module-listen-icon",(0,a.getSegmentPlayButtonIconClass)(n.isLoading,n.isPlaying,n.isAwaitingData,n.isPlayRequested)];return r.default.createElement("div",{className:"audio-module-controls audio-module-controls--plus audio-module-controls--plus-locked"},r.default.createElement("div",{className:"audio-modules-controls__inner"},r.default.createElement("button",{className:o,onClick:function(){return t.onPlayPausePressed(n)}},r.default.createElement("b",{className:"audio-module-listen-inner"},r.default.createElement("b",{className:i.join(" ")})),r.default.createElement("div",{className:"audio-module__plus-promo-text-wrap"},r.default.createElement("h4",{className:"audio-module__plus-title"},r.default.createElement("span",{className:"audio-module__plus-title-one"},"Exclusive benefits with NPR+"),r.default.createElement("span",{className:"audio-module__plus-title-two"},"NPR+ ",r.default.createElement("span",null,"Exclusive")))))),r.default.createElement("button",{className:"audio-module-controls__get-access",onClick:function(){return t.onNPRPlusGetAccessPressed()}},r.default.createElement("span",null,"Get NPR+")))};var r=o(n(1)),a=(o(n(4)),n(89));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(1)),o=n(65),i=n(10),s=c(n(8)),u=n(198),l=c(n(559));function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0,p=null;t.default={retrieveMetadataFromDOM:function(){d=[];var e=[];return(0,s.default)("[data-play-all]").each((function(){var t=(0,s.default)(this).data("play-all");if((0,s.default)(this).removeAttr("data-play-all"),t.audioData){var n=t.audioData.map((function(e){return e.audioUrl?Object.assign({},e,{audioUrl:(0,u.deObfuscateUrl)(e.audioUrl)}):""})),a=r({},t,{audioData:n});d.push({deobfuscatedPlayAllData:a,domNode:this}),e=e.concat(n)}})),e},mountModules:function(e){d.map((function(t){var n=t.domNode;(p=(0,o.createRoot)(n)).render(a.default.createElement(i.Provider,{store:e},a.default.createElement(l.default,t.deobfuscatedPlayAllData)))}))},unmountModules:function(){d.map((function(e){e.domNode||p.unmount()}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayAllModule=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=T(a),i=(T(n(4)),n(10)),s=T(n(91)),u=T(n(168)),l=(T(n(369)),T(n(560))),c=O(n(93)),d=O(n(28)),p=n(64),f=n(108),_=T(n(348)),E=T(n(166)),m=O(n(191)),g=n(35),y=T(n(21)),h=T(n(358)),v=O(n(254)),S=n(15);function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var A=t.PlayAllModule=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(n,["onAddFullToQueue","onAddSegmentsToQueue","onClickPlayAllFull","onClickPlayAllSegments","onCountryRequested"]),n.state={allAddedToQueue:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.programId&&this.props.dispatch(v.audioSegmentUrlsRequested())}},{key:"onAddFullToQueue",value:function(){var e=this,t=(0,u.default)(this.props.full);this.props.dispatch(c.queueButtonPressed(t,m.PAGE,this.props.etag,this.props.playlistId)),this.setState({allAddedToQueue:!0}),setTimeout((function(){return e.setState({allAddedToQueue:!1})}),2e3)}},{key:"onAddSegmentsToQueue",value:function(){var e=this;this.props.dispatch(c.addPlaylistItemsRequested(this.props.playlistId,this.props.segments,this.props.etag)),this.setState({allAddedToQueue:!0}),setTimeout((function(){return e.setState({allAddedToQueue:!1})}),2e3)}},{key:"onClickPlayAllFull",value:function(){var e=(0,u.default)(this.props.full),t=this.props.metadata[e];this.props.dispatch(d.playPauseRequested(t,{playedFrom:"from listen to all"}))}},{key:"onClickPlayAllSegments",value:function(){var e=this;this.props.dispatch(c.addPlaylistItemsToTopAndPlayRequested(this.props.playlistId,this.props.segments,this.props.etag)),this.setState({allAddedToQueue:!0}),setTimeout((function(){return e.setState({allAddedToQueue:!1})}),2e3)}},{key:"onCountryRequested",value:function(){this.props.dispatch(d.countryRequested())}},{key:"render",value:function(){if("episode"===this.props.type&&this.props.full.length)return o.default.createElement(l.default,{audioSegmentUrls:this.props.audioSegmentUrls,onAddToQueue:this.onAddFullToQueue,onClickPlay:this.onClickPlayAllFull,isMobileDevice:this.props.isMobileDevice,allAddedToQueue:this.state.allAddedToQueue,cta:"Listen to Full Show",zipFilename:this.props.zipFilename});if(!this.props.isMobileDevice&&!y.default.isMobileNativeApp(this.props.renderPlatform)&&this.props.segments.length){var e="Listen to all";"firstListen"===this.props.type&&(e="Listen to Full Album"),"episode"===this.props.type&&(e="Listen to Full Show");var t=o.default.createElement(l.default,{audioSegmentUrls:this.props.audioSegmentUrls,onAddToQueue:this.onAddSegmentsToQueue,onClickPlay:this.onClickPlayAllSegments,isSmallBreakpoint:this.props.isSmallBreakpoint,allAddedToQueue:this.state.allAddedToQueue,cta:e,zipFilename:this.props.zipFilename}),n=this.props.audioData.find((function(e){return e.geofencedRegions&&e.geofencedRegions.length}));return n?o.default.createElement(_.default,{geofencedRegions:n.geofencedRegions,country:this.props.player.env.country,inside:t,outside:o.default.createElement(E.default,null),onCountryRequested:this.onCountryRequested}):t}return o.default.createElement(E.default,null)}}]),t}(a.Component);A.defaultProps={audioSegmentUrls:[],renderPlatform:"",zipFilename:""},t.default=(0,i.connect)((function(e){return{player:e.player,metadata:(0,p.getDerivedMetadata)(e),isMobileDevice:(0,f.isMobileDevice)(e),isSmallBreakpoint:(0,f.isSmallBreakpoint)(e),renderPlatform:(0,g.getRenderPlatform)(e),audioSegmentUrls:h.default.getAudioSegmentUrls(e),zipFilename:h.default.getZipFilename(e),programId:h.default.getProgramId(e),etag:(0,S.getCurrentPlaylistEtag)(e),playlistId:(0,S.getCurrentPlaylistId)(e)}}))(A)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadAllStatus=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(s(n(4)),n(1)),o=s(a),i=n(561);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.DownloadAllStatus={ERROR:"error",LOADING:"loading",SUCCESS:"success"},l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDownloadAll=function(e,t){if(e&&e.length&&t){var r=new i.ZipFileHandler(t);n.setState({downloadAllStatus:u.LOADING,downloadAllIconClassName:"icn-download-all-loading"},(function(){r.downloadZipFile(e).then((function(){n.setState({downloadAllStatus:u.SUCCESS,downloadAllIconClassName:"icn-download-all-success"})})).catch((function(e){if(n.setState({downloadAllStatus:u.ERROR,downloadAllIconClassName:"icn-download-all-error"}),e){var t=e.message;console.error(t)}}))}))}},n.state={downloadAllStatus:void 0,downloadAllIconClassName:"icn-download"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.allAddedToQueue,r=t.audioSegmentUrls,a=t.cta,i=t.isSmallBreakpoint,s=t.onAddToQueue,l=t.onClickPlay,c=t.zipFilename;return o.default.createElement("div",{className:"audio-module-controls play-all-controls"},o.default.createElement("button",{className:"audio-module-listen",onClick:l},o.default.createElement("b",{className:"audio-module-listen-inner"},o.default.createElement("b",{className:"audio-module-listen-icon icn-play"}),o.default.createElement("b",{className:"audio-module-listen-text"},o.default.createElement("b",{className:"audio-module-cta"},a)))),!i&&o.default.createElement("button",{className:"audio-module-queue",onClick:s},o.default.createElement("b",{className:"audio-module-queue-inner"},o.default.createElement("b",{className:n?"icn-playlist-added":"icn-playlist"}),o.default.createElement("b",{className:"audio-module-queue-text"},n?"":o.default.createElement("b",{className:"audio-module-queue-text-extra"},"Add to "),n?"Added":"Playlist",n?o.default.createElement("b",{className:"audio-module-queue-text-extra"}," to Playlist"):""))),!i&&o.default.createElement("button",{className:"audio-module-download",disabled:this.state.downloadAllStatus===u.LOADING,onClick:function(){return e.onDownloadAll(r,c)}},o.default.createElement("b",{className:"audio-module-download-inner"},o.default.createElement("b",{className:this.state.downloadAllIconClassName}),o.default.createElement("b",{className:"audio-module-download-text"},"Download All"))))}}]),t}(a.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZipFileHandler=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(626),i=u(n(627)),s=u(n(42));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(t){c(this,e),this.urlString=t,this.mimeTypes=new Map([[".aac","audio/aac"],[".mid","audio/midi"],[".midi","audio/x-midi"],[".mp3","audio/mpeg"],[".oga","audio/ogg"],[".opus","audio/opus"],[".wav","audio/wav"],[".weba","audio/webm"],[".apng","image/apng"],[".avif","image/avif"],[".bmp","image/bmp"],[".gif","image/gif"],[".ico","image/vnd.microsoft.icon"],[".jpeg","image/jpeg"],[".jpg","image/jpeg"],[".png","image/png"],[".svg","image/svg+xml"],[".tif","image/tiff"],[".tiff","image/tiff"],[".webp","image/webp"],[".3g2","video/3gpp2"],[".3gp","video/3gpp"],[".avi","video/x-msvideo"],[".mp4","video/mp4"],[".mpeg","video/mpeg"],[".ogv","video/ogg"],[".ts","video/mp2t"],[".webm","video/webm"]])}var t,n;return a(e,[{key:"getFilename",value:function(){return new URL(this.urlString).pathname.split("/").pop()}},{key:"getMimeType",value:function(){var e=this.getFilename(),t=void 0;if(e){var n=!0,a=!1,o=void 0;try{for(var i,s=this.mimeTypes[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=r(i.value,2),l=u[0],c=u[1];if(e.endsWith(l)){t=c;break}}}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}}return t}},{key:"getFile",value:(n=l(regeneratorRuntime.mark((function e(){var t,n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.default)(1e4,this.urlString);case 2:return t=e.sent,e.next=5,t.arrayBuffer();case 5:return n=e.sent,r=this.getFilename(),a=this.getMimeType(),o=new File([n],r,{type:a}),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getData",value:(t=l(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e,t){n.getFile().then((function(n){var r=new FileReader;r.readAsArrayBuffer(n),r.onload=function(){var t=r.result;e(t)},r.onerror=function(e){t(e)}})).catch((function(e){t(e)}))})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();t.ZipFileHandler=function(){function e(t){c(this,e),t.endsWith(".zip")?this.filename=t:this.filename=t+".zip",this.zip=new i.default}var t,n,r;return a(e,[{key:"addFile",value:(r=l(regeneratorRuntime.mark((function e(t){var n,r,a,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new d(t),r=n.getFilename(),a=n.getData().then((function(e){o.zip.file(r,e)})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"addFiles",value:(n=l(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,s,u,l,c,d,p,f,_,E=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return E.addFile(e)})),e.next=3,Promise.allSettled(n);case 3:for(r=e.sent,a=[],o=[],i=!0,s=!1,u=void 0,e.prev=9,l=r[Symbol.iterator]();!(i=(c=l.next()).done);i=!0)"fulfilled"===(d=c.value).status?(p=d.value,a.push(p)):(f=d.reason,console.error(f),o.push(f));e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),s=!0,u=e.t0;case 17:e.prev=17,e.prev=18,!i&&l.return&&l.return();case 20:if(e.prev=20,!s){e.next=23;break}throw u;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return _=new Promise((function(e,t){o.length?t():e()})),e.abrupt("return",_);case 27:case"end":return e.stop()}}),e,this,[[9,13,17,25],[18,,20,24]])}))),function(e){return n.apply(this,arguments)})},{key:"downloadZipFile",value:(t=l(regeneratorRuntime.mark((function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.addFiles(r).then((function(){if(!Object.keys(n.zip.files).length)throw new RangeError(n.filename+" is empty!");return n.zip.generateAsync({type:"blob"})})).then((function(e){(0,o.saveAs)(e,n.filename)})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),a=n(65),o=n(10),i=c(n(8)),s=n(110),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(190)),l=c(n(347));function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0,p=null;t.default={retrieveMetadataFromDOM:function(e,t){return d=[],(0,i.default)("[data-newscast-audio]").each((function(){var n=(0,i.default)(this).data("newscast-audio").orgId;if((0,i.default)(this).removeAttr("data-newscast-audio"),n){var r=(0,s.getNewscastUidForOrg)(n);e.dispatch(u.newscastRequested(n)),d.push({audio:{uid:r,skipSponsorship:t},domNode:this})}})),[]},mountModules:function(e){d.map((function(t){var n=t.domNode;(p=(0,a.createRoot)(n)).render(r.default.createElement(o.Provider,{store:e},r.default.createElement(l.default,{audio:t.audio})))}))},unmountModules:function(){d.map((function(e){p.unmount()}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),a=n(65),o=n(10),i=u(n(8)),s=u(n(564));function u(e){return e&&e.__esModule?e:{default:e}}var l=void 0,c=null;t.default={retrieveMetadataFromDOM:function(){return l=[],(0,i.default)("[data-stream-audio]").each((function(){var e=(0,i.default)(this).data("stream-audio"),t=(0,i.default)(this).data("audio-metrics");(0,i.default)(this).removeAttr("data-stream-audio"),l.push({metadata:e,metrics:t,domNode:this})})),l.map((function(e){return e.metadata}))},mountModules:function(e){l.map((function(t){var n=t.domNode;(c=(0,a.createRoot)(n)).render(r.default.createElement(o.Provider,{store:e},r.default.createElement(s.default,{audio:t.metadata})))}))},unmountModules:function(){l.map((function(e){e.domNode||c.unmount()}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=E(a),i=(E(n(4)),n(10)),s=E(n(5)),u=_(n(28)),l=_(n(43)),c=E(n(343)),d=E(n(349)),p=n(64),f=n(144);function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers=(0,f.getBoundHandlers)(n,["onPlayPauseRequested","onMetadataLoaded","onNowOnStreamsRegistrationRequested","onNowOnStreamsUnregistrationRequested","onAudioModuleMounted"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onNowOnStreamsRegistrationRequested",value:function(e){this.props.dispatch(l.nowOnStreamsRegistrationRequested(e))}},{key:"onNowOnStreamsUnregistrationRequested",value:function(e){this.props.dispatch(l.nowOnStreamsUnregistrationRequested(e))}},{key:"onAudioModuleMounted",value:function(){this.props.dispatch(u.audioModuleMounted())}},{key:"getPlayedFrom",value:function(){return(0,s.default)(this.props,"metrics.playedFrom")||"from page"}},{key:"onPlayPauseRequested",value:function(e){this.props.dispatch(u.playPauseButtonPressed(e,{playedFrom:this.getPlayedFrom()}))}},{key:"onMetadataLoaded",value:function(e){this.props.dispatch(l.metadataLoaded(e))}},{key:"render",value:function(){var e=this.props.metadata[this.props.audio.uid];return!1===e.available?o.default.createElement(d.default,{message:e.unavailableText}):o.default.createElement(c.default,{handlers:this.handlers,audio:e})}}]),t}(a.Component);t.default=(0,i.connect)((function(e){return{metadata:(0,p.getDerivedMetadata)(e)}}))(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timerTick=function(e,t){return{type:r.TIMER,payload:{now:e,sinceLastTick:t}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.init=function(e){p=e};var a=d(n(367)),o=d(n(5)),i=c(n(28)),s=c(n(366)),u=c(n(67)),l=c(n(206));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var p=void 0,f={};window.MobileNative=f,f.bridge=function(e){var t=null;try{t=JSON.parse(e)}catch(t){var n=(0,a.default)(e);return void console.error("Unable to JSON.parse bridge object: "+n+", error:",t)}if(t&&t.name)if("string"==typeof t.attributes||null==t.attributes||"object"==r(t.attributes)){var c=t.attributes;switch(t.name){case"audioLoading":p(i.mobileNativeDidStartLoading(c));break;case"audioPlaying":p(i.mobileNativeDidStartPlaying(c));break;case"audioStopped":p(i.mobileNativeDidStopPlaying(c));break;case"playlistAdded":p(l.mobileNativeDidAddToPlaylist(c));break;case"playlistRemoved":p(l.mobileNativeDidRemoveFromPlaylist(c));break;case"playlistLoading":p(l.mobileNativeDidStartLoadingPlaylist(c));break;case"tokenAndUser":var d=(0,o.default)(c,"accessToken",null);d&&d.startsWith("Bearer ")&&(d=d.replace("Bearer ",""));var f=(0,o.default)(c,"user",null),_=Math.round((new Date).getTime()/1e3);p(u.mobileNativeUserModelAndTokenReceived(d,f,_));break;case"accessToken":Math.round((new Date).getTime()/1e3);var E=c;c.startsWith("Bearer ")&&(E=E.replace("Bearer ","")),p(s.mobileNativeDetected());break;default:var m=(0,a.default)(JSON.stringify(t));console.error("Unknown bridge object name, no action taken. Bridge object:",m)}}else{var g=(0,a.default)(JSON.stringify(t));console.error('Bridge object is invalid. Property "attributes" is incorrect.',g)}else{var y=(0,a.default)(JSON.stringify(t||{}));console.error('Bridge object is invalid. Missing "name" property.',y)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){e(r.initialStateCorrection())};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(568))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialStateCorrection=function(){return{type:r.INITIAL_STATE_CORRECTION}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){$(document).on("npr:player:getfeaturedaudio",(function(e,t,n,r){i.dispatch((0,a.initializeFeaturedAudioRequested)(t,n,r))}))};var r,a=n(255),o=n(41);var i=(0,((r=o)&&r.__esModule?r:{default:r}).default)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){$(document).on("npr:player:removeNewscastFromContinuousListening",(function(){i.dispatch((0,a.removeNewscastFromContinuousListening)())}))};var r,a=n(571),o=n(41);var i=(0,((r=o)&&r.__esModule?r:{default:r}).default)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeNewscastFromContinuousListening=function(){return{type:r.AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";var r=m(n(8)),a=m(n(1)),o=n(65),i=n(10),s=m(n(20)),u=E(n(364)),l=n(249),c=E(n(199)),d=m(n(573)),p=m(n(576)),f=m(n(41)),_=m(n(360));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,f.default)(),y=s.default.create();y.name="callout/on-page-callouts";var h=null;y.onReady=function(){(0,r.default)(window).on("centerStageAdNotRendered",(function(){(0,f.default)().dispatch(u.centerStageAdStatusDetermined(c.NONE))})),(0,r.default)(window).on("centerStageAdRendered",(function(){(0,f.default)().dispatch(u.centerStageAdStatusDetermined(c.AD))})),(0,r.default)(window).on("centerStageIneligible",(function(){(0,f.default)().dispatch(u.centerStageAdStatusDetermined(c.INELIGIBLE))}));var e=(0,l.getPageData)(),t=e.station,n=e.newsletter,s=e.podcast,E=document.getElementById("callout-end-of-story-mount");E&&(h=(0,o.createRoot)(E)).render(a.default.createElement(i.Provider,{store:g},a.default.createElement(d.default,{station:t,podcast:s,newsletter:n}))),(0,r.default)(document).on("npr:onPageCalloutDeterminationSucceeded",(function(e){!function(e,t,n){var r=document.getElementById("callout-center-stage-mount");r&&(h=(0,o.createRoot)(r)).render(a.default.createElement(i.Provider,{store:g},a.default.createElement(p.default,{station:e,podcast:t,newsletter:n}))),_.default.fireScrollOffsetReset()}(t,s,n)}))},y.onUnload=function(){(0,r.default)(window).off("centerStageAdNotRendered"),(0,r.default)(window).off("centerStageAdRendered"),(0,r.default)(window).off("centerStageIneligible"),(0,r.default)(document).off("npr:onPageCalloutDeterminationSucceeded");var e=document.getElementById("callout-center-stage-mount");document.getElementById("callout-end-of-story-mount")&&h.unmount(),e&&h.unmount()},y.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=h(a),i=(h(n(4)),n(10)),s=y(n(253)),u=y(n(82)),l=h(n(241)),c=h(n(575)),d=h(n(350)),p=h(n(242)),f=h(n(243)),_=n(15),E=n(196),m=n(249),g=n(55);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){return v(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_getReformattedStation",value:function(e){return{id:e.id,name:e.name,donateUrl:e.donationUrl,orgUrl:e.homepageUrl,callLetters:e.abbr}}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.station,r=e.podcast,a=e.endOfStoryVariant,i=e.donationVariantId,_=this.props.newsletter,m=this.props.org[this.props.user.org.id]||null,y=null;switch(a){case s.DONATION:var h=(0,E.getEndOfStoryCtaInfo)();if(i.includes(g.DONATION_EMBED)){y=o.default.createElement("div",{className:"donation-portal-endofstory"},o.default.createElement(f.default,{station:m,metricsCategory:u.END_OF_STORY}));break}y=o.default.createElement(p.default,{donation:h[i],station:m,metricsCategory:u.END_OF_STORY});break;case s.STATION:y=o.default.createElement(c.default,{station:this._getReformattedStation(n)});break;case s.PODCAST:y=o.default.createElement(d.default,{podcast:r});break;case s.NEWSLETTER:y=o.default.createElement(l.default,{newsletter:_,user:t})}return y}}]),t}(a.Component);t.default=(0,i.connect)((function(e){var t=e.user,n=e.session,r=e.org,a=(0,_.getCurrentPage)(e),o=(0,_.getVariantIDToShowOnThisPage)(e),i=(0,_.getVariantTypeToShowOnThisPage)(e);return{user:t,session:n,org:r,centerStageVariant:(0,_.getCenterStageVariant)(e),endOfStoryVariant:(0,_.getEndOfStoryVariant)(e),isDFPComplete:(0,_.getIsDFPComplete)(e),isGlobalAlertsComplete:(0,_.getIsGlobalAlertsComplete)(e),currentPage:a,variantIDToShowOnThisPage:o,variantTypeToShowOnThisPage:i,wasOnPageCalloutDeterminationRequested:!1,donationVariantId:(0,m.shouldDisplayDonationCta)(e,a,o,i)}}))(O)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=p(a),i=(p(n(4)),p(n(5))),s=p(n(370)),u=n(10),l=p(n(92)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(29)),d=n(48);function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.triggerRecaptcha=function(e){e.preventDefault(),n.setState({tempFormData:e.target},(function(){if((0,d.isCaptchaEnabled)()&&!n.props.renderingForMobileNative)try{(0,d.triggerRecaptchaManually)()}catch(e){n.onSubscribe()}else n.onSubscribe()}))},n.isValidEmail=function(e){var t=e.trim();return!(t.length>=0)||l.default.isEmail(t)},n.onSubscribe=n.onSubscribe.bind(n),n.doSubscribe=n.doSubscribe.bind(n),n.handlers=e.handlers,n.state={brandingLogo:null,additionalHiddenFields:[],emailInput:{},marketingHeader:n.props.newsletter.marketingHeader?n.props.newsletter.marketingHeader:"",emailFieldName:null,newsletterId:null,marketingShortDescription:"",stickyDescription:"",errorMessage:"",termsText:"",tempFormData:null},n.state.additionalHiddenFields.push({name:"newsletterId",value:n.props.newsletter.newsletterId}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;window.onNewsletterSubmitRecaptcha=function(){e.onSubscribe()},window.onNewsletterErrorRecaptcha=function(){(0,d.loadCaptcha)()}}},{key:"componentWillUnmount",value:function(){window.onNewsletterSubmitRecaptcha=function(){},window.onNewsletterErrorRecaptcha=function(){}}},{key:"onSubscribe",value:function(){this.doSubscribe()}},{key:"doSubscribe",value:function(){var e=this.state.emailInput.value;this.isValidEmail(e)?(this.setState({errorMessage:""}),this.handlers.onSubscriptionRequested(e,this.state.newsletterId)):this.setState({errorMessage:"Please enter a valid email address."})}},{key:"render",value:function(){var e=this,t="callout callout--newsletter callout--"+this.state.newsletterId,n=(0,l.default.isUserLoggedIn)(this.props.user,this.props.renderingForMobileNative),r="",a=!1,u="",d=!1;if(n){u=(0,i.default)(this.props.user,"view.data.attributes.email");var p=(0,i.default)(this.props.user,"view.data.attributes.subscriptions");p&&(0,s.default)(p,this.state.newsletterId)>=0&&(d=!0)}var f=(0,i.default)(this.props.user,"newsletter.status");f===c.FAILED&&(r="An error has occurred. Please try subscribing again."),(d||f===c.RESOLVED)&&(a=!0);var _=function(){var t=e.state.additionalHiddenFields;return Object.keys(t).map((function(e){return o.default.createElement("input",{type:"hidden",id:t[e].id,name:t[e].name,value:t[e].value,key:e})}))},E=void 0,m=this.state.errorMessage||r;E=a?o.default.createElement("div",{className:"callout__subscribed"},o.default.createElement("div",{className:"callout__subscribed-text"},"Thank you for subscribing!"),o.default.createElement("a",{href:"//npr.org/newsletters",className:"callout__subscribed-more"},"See more newsletters")):u?o.default.createElement("form",{id:"callout__form--newsletter",className:"callout__form",onSubmit:e.triggerRecaptcha},u&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"callout__input callout__input--populated",type:"text",name:e.state.emailFieldName,placeholder:"What's your email?",readOnly:!0,value:u}),_(),u&&o.default.createElement("button",{className:"g-recaptcha callout__submit callout__submit--populated",type:"submit","data-sitekey":e.props.newsletter.recaptchaSiteKey,"data-action":"submit","data-callback":"onNewsletterSubmitRecaptcha","data-error-callback":"onNewsletterErrorRecaptcha",disabled:e.props.user.newsletter.status===c.PENDING},o.default.createElement("span",{className:"callout__submit-text"},e.props.user.newsletter.status===c.PENDING?"subscribing as "+u:"subscribe as "+u))):o.default.createElement("form",{id:"callout__form--newsletter",className:"callout__form",onSubmit:e.triggerRecaptcha},!u&&o.default.createElement("label",{htmlFor:"callout__input"},"E-mail address"),_(),!u&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"callout__input",id:"callout__input",type:"email",name:e.state.emailFieldName,placeholder:"What's your email?"}),!u&&o.default.createElement("div",{className:"g-recaptcha","data-sitekey":e.props.newsletter.recaptchaSiteKey,"data-action":"submit","data-callback":"onNewsletterSubmitRecaptcha","data-error-callback":"onNewsletterErrorRecaptcha"}),!u&&o.default.createElement("button",{className:"callout__submit",type:"submit",disabled:e.props.user.newsletter.status===c.PENDING},o.default.createElement("span",{className:"callout__submit-text"},e.props.user.newsletter.status===c.PENDING?"subscribing":"subscribe")));var g=this.state.brandingLogo?"callout__main":"callout__main callout__main--no-image";return o.default.createElement("section",{className:t},o.default.createElement("div",{className:"callout__inner"},this.state.brandingLogo?o.default.createElement("div",{className:"callout__branding"},o.default.createElement("img",{className:"callout__branding-logo",src:this.state.brandingLogo,alt:"Newsletter logo"})):"",o.default.createElement("div",{className:g},this.props.isStickybar?o.default.createElement("div",null,o.default.createElement("h2",{className:"callout__header"},this.state.stickyDescription)):o.default.createElement("div",null,o.default.createElement("h2",{className:"callout__header"},this.state.marketingHeader)),this.props.isStickybar?"":o.default.createElement("div",null,o.default.createElement("p",{className:"callout__description",dangerouslySetInnerHTML:{__html:this.state.marketingShortDescription}})),m?o.default.createElement("b",{className:"callout__error"},this.state.errorMessage||r):"",E,a?"":o.default.createElement("footer",{className:"callout__footer"},o.default.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.termsText+' This site is protected by reCAPTCHA and the Google <a href="https://policies.google.com/privacy">Privacy Policy</a> and <a href="https://policies.google.com/terms">Terms of Service</a> apply.'}})))))}}]),t}(a.Component);t.default=(0,u.connect)()(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=p(a),i=(p(n(4)),n(10)),s=p(n(5)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(67)),l=p(n(188)),c=p(n(504)),d=n(55);function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onStationDonateLinkClick=n.onStationDonateLinkClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onStationDonateLinkClick",value:function(){var e=(0,s.default)(this.props,"station.id");e&&this.props.dispatch(u.stationChangeRequested(e))}},{key:"render",value:function(){var e=this.props.station;if(!e)return null;var t="callout callout--org callout--org-"+e.id,n="Support "+e.name,r=d.STATION_CONTENT_BOX;return o.default.createElement("section",{className:t},o.default.createElement("div",{className:"callout__inner"},o.default.createElement("h2",{className:"callout__header"},n),o.default.createElement("p",{className:"callout__description"},"Stories like these are made possible by contributions from readers and listeners like you."),o.default.createElement("ul",{className:"callout__links"},o.default.createElement("li",null,o.default.createElement(l.default,{metricsCategory:r,org:e,creativeSlot:"station callout",onClick:this.onStationDonateLinkClick,overrideClasses:"callout__link callout__link--donate"})),o.default.createElement("li",null,o.default.createElement(c.default,{metricsCategory:r,org:e,overrideClasses:"callout__link callout__link--homepage"},"Visit the station")))))}}]),t}(a.Component);t.default=(0,i.connect)((function(){return{}}))(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),n(10)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(199)),u=d(n(241)),l=d(n(350)),c=n(15);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.podcast,r=(e.station,e.centerStageVariant),a=this.props.newsletter,i=(this.props.org[this.props.user.org.id],null);switch(r){case s.NEWSLETTER:i=o.default.createElement(u.default,{newsletter:a,user:t});break;case s.PODCAST:i=o.default.createElement(l.default,{podcast:n})}return i}}]),t}(a.Component);t.default=(0,i.connect)((function(e){return{user:e.user,org:e.org,centerStageVariant:(0,c.getCenterStageVariant)(e)}}))(_)},function(e,t,n){"use strict";var r=_(n(8)),a=_(n(20)),o=_(n(12)),i=_(n(204)),s=f(n(120)),u=n(578),l=_(n(359)),c=n(205),d=f(n(146)),p=f(n(248));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var E=a.default.create();E.name="dfp";var m=!1,g=[];E.init=function(){p.isEnabled()&&(document.addEventListener("npr:initialHeaderBiddingCompleted",d.onInitialHeaderBiddingCompleted),document.addEventListener("npr:initialHeaderBiddingError",d.displayAndActivateSlots),document.dispatchEvent(new CustomEvent("npr:dfpIsListeningForBids")));var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.grumi=window.grumi||{cfg:{pbGlobal:"owpbjs",advs:{19566752:!0,4952276315:!0,88382072:!0,5056504790:!0,5116496584:!0,5212620189:!0,5255949102:!0}},key:"880a45f2-0015-49d2-b38f-2d26be44ae09"};var n=document.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://rumcdn.geoedge.be/880a45f2-0015-49d2-b38f-2d26be44ae09/grumi-ip.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),o.default.info("DFP: injected gpt.js "+d.getFormattedTime()),window.addEventListener("message",d.geoedgeMessageEventCallback,!1)},E.onReady=function(){(0,r.default)("[data-ad-config]").each((function(){var e=(0,r.default)(this).data("ad-config");if(e.deferred)d.setupDeferredSlot(e);else{var t=new i.default(e);t.shouldRender()&&(t.location===s.STANDARD?g.unshift(t):g.push(t))}})),m||(m=!0,window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){var e=navigator.userAgent.toLowerCase();e.indexOf("android")>-1?googletag.pubads().setTargeting("device","android"):e.match(/(iPad|iPhone|iPod)/i)&&googletag.pubads().setTargeting("device","ios"),googletag.pubads().enableLazyLoad({fetchMarginPercent:100,renderMarginPercent:100,mobileScaling:1});var t=l.default.get("permutive-id");t&&googletag.pubads().setPublisherProvidedId(t),googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(!0),googletag.pubads().disableInitialLoad(),googletag.enableServices()}))),window.googletag.cmd.push((function(){googletag.pubads().setTargeting("page_type","1002"===NPR.serverVars.storyId?"homepage":u.PAGE_TYPES[NPR.serverVars.pageTypeId]),googletag.pubads().setTargeting("page_layout",NPR.serverVars.pageLayoutName)})),d.setupAdSlots(g)},E.onUnload=function(){window.removeEventListener("message",c.playerMessageEventCallback,!1),g=[],d.onDfpPjaxModuleUnload(g)},E.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAGE_TYPES={1:"story-page",15:"podcast-episode-page",32:"radio-show-agg",7:"person-page",2:"section-agg",6:"series-agg",25:"category-agg",13:"franchise-agg",9:"podcast-agg",4:"archive-agg",17:"artist-agg",18:"music-genre-agg",21:"helper-story-agg",24:"tags-agg"}},function(e,t,n){"use strict";var r=E(n(20)),a=E(n(1)),o=n(65),i=E(n(580)),s=E(n(587)),u=n(195),l=E(n(8)),c=n(10),d=E(n(41)),p=n(202),f=n(148),_=n(362);function E(e){return e&&e.__esModule?e:{default:e}}var m=(0,d.default)(),g=r.default.create();g.name="global-alerts";var y=null,h=function e(){(0,_.getIsGlobalAlertLastSeenToday)(m.getState())?(0,l.default)(window).off("scroll",e):m.dispatch((0,u.checkGlobalAlerts)(window.scrollY))};g.init=function(){(0,l.default)(document).on("npr:globalAlerts:stickybar",(function(){return m.dispatch((0,u.showGlobalStickybar)())})),(0,l.default)(document).on("npr:globalAlerts:modal",(function(){return m.dispatch((0,u.showGlobalModal)())})),(0,l.default)(document).on("npr:globalAlerts:hide",(function(){return m.dispatch((0,u.hideGlobalAlerts)())}))},g.onReady=function(){var e=(0,p.isWithinAnyModalPeriod)(),t=(0,f.isWithinAnyStickybarPeriod)();(e||t)&&(0,l.default)(window).on("scroll",h);var n=document.getElementById("global-modal-mount");n&&(y=(0,o.createRoot)(n)).render(a.default.createElement(c.Provider,{store:m},a.default.createElement(i.default,null)));var r=document.getElementById("global-stickybar-mount");r&&(y=(0,o.createRoot)(r)).render(a.default.createElement(c.Provider,{store:m},a.default.createElement(s.default,null)))},g.onUnload=function(){var e=(0,p.isWithinAnyModalPeriod)(),t=(0,f.isWithinAnyStickybarPeriod)();(e||t)&&(0,l.default)(window).off("scroll",h),y.unmount()},g.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=A(o),s=(A(n(4)),n(10)),u=A(n(192)),l=A(n(107)),c=T(n(195)),d=A(n(197)),p=A(n(354)),f=T(n(67)),_=T(n(256)),E=n(15),m=A(n(242)),g=A(n(581)),y=T(n(82)),h=n(202),v=n(55),S=A(n(243)),O=A(n(582));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeModal=function(e){n.props.hideGlobalAlerts(e)},n.closeWithoutMetrics=function(){n.setState({isLinkClicked:!0})},n.componentSelector=function(e,t){if(e.includes(v.LOCALIZATION_EMBED))return i.default.createElement("div",{id:"localize-modal"},i.default.createElement(O.default,r({closeModal:n.closeModal},n.props)));if(e.includes(v.DONATION_EMBED))return i.default.createElement(S.default,{station:t,metricsCategory:y.MODAL,onClick:function(){return n.closeModal("maybe later")}});if(e.includes("Shop")){var a=(0,h.getModalInfo)();return i.default.createElement(g.default,{donation:a[e],station:t,metricsCategory:y.MODAL,onClick:n.closeWithoutMetrics})}var o=(0,h.getModalInfo)();return i.default.createElement(m.default,{donation:o[e],station:t,metricsCategory:y.MODAL,onClick:n.closeWithoutMetrics})},n.state={isLinkClicked:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;this.focusTrap=(0,u.default)("#global-modal-mount",{clickOutsideDeactivates:!0}),l.default.bind(["esc"],(function(){return e.closeModal()}))}},{key:"componentDidUpdate",value:function(){this.props.alertVariant!==y.MODAL||this.props.isAlertDismissed||this.state.isLinkClicked?this.focusTrap.deactivate():this.focusTrap.activate()}},{key:"componentWillUnmount",value:function(){var e=this;l.default.unbind(["esc"],(function(){return e.closeModal()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAlertDismissed,r=t.alertVariant,a=t.org,o=t.user,s=t.variantIDToShowOnThisPage;if(!n&&!this.state.isLinkClicked&&r===y.MODAL){var u=a[o.org.id]||null;return i.default.createElement("span",null,i.default.createElement("section",{className:s.includes(v.DONATION_EMBED)?"global-modal donation-portal-modal":"global-modal",role:"dialog","aria-labelledby":"callout__text--title","aria-describedby":"callout__text--body"},i.default.createElement("div",{className:"global-modal__inner"},!s.includes(v.LOCALIZATION_EMBED)&&i.default.createElement("button",{className:"global-modal__dismiss",onClick:function(){return e.closeModal()},"aria-label":"close dialog box"},i.default.createElement("span",{className:"global-modal__dismiss-text"},"Close")),this.componentSelector(s,u)),i.default.createElement("div",{className:"global-modal__overlay",onClick:function(){return e.closeModal()}})))}return null}}]),t}(o.Component);t.default=(0,s.connect)((function(e){var t=e.org,n=e.user,a=e.localStations,o=e.stationSearch,i=e.donations,s=e.plusLocalization;return r({org:t,user:n,localStations:a,stationSearch:o,plusLocalization:s},i,{alertVariant:(0,E.getAlertVariant)(e),isAlertDismissed:(0,E.getAlertIsDismissed)(e),variantIDToShowOnThisPage:(0,E.getVariantIDToShowOnThisPage)(e)})}),(function(e){return{hideGlobalAlerts:function(t){return e(c.hideGlobalAlerts(t))},handleReduxSetState:function(t){return e(d.default.handleSetState(t))},stationSearchRequested:function(t){return e(p.default.stationSearchRequested(t))},userSelectsStation:function(t){return e(p.default.userSelectsStation(t))},onStationChangeRequested:function(t){return e(f.stationChangeRequested(t))},stationChangeCompleted:function(t){return e(f.stationChangeCompleted(t))},localizationResponseReceived:function(t){return e(_.localizationResponseReceived(t))}}}))(I)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),a=(i(n(4)),i(n(31))),o=n(196);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return r.default.createElement("section",{className:"callout callout--donation"},r.default.createElement("div",{className:"callout__inner"},r.default.createElement("div",{className:"callout__main"},r.default.createElement("div",null,r.default.createElement("p",{className:"callout__header",id:"callout__header"},e.donation.donationInfo.title)),r.default.createElement("div",null,r.default.createElement("p",{className:"callout__description",id:"callout__description"},e.donation.donationInfo.description)),r.default.createElement("div",{className:"callout__links"},r.default.createElement(a.default,{href:"https://shopnpr.org",className:"callout__link callout__link--donate",onClickHandler:e.onClick},r.default.createElement("span",null,"shop now"))))))};s.defaultProps={donation:(0,o.getEndOfStoryCtaInfo)().default},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(1)),i=(f(n(4)),f(n(583))),s=f(n(584)),u=f(n(585)),l=n(29),c=n(244),d=n(586),p=f(n(42));function f(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mountStations=function(){var e=n.props.stationSearch,t=e.term,r=e.results;n.state.cachedStation?n.handleSetStations(n.props.org,[n.props.plusLocalization.station.id]):n.state.isLocalized?n.handleSetStations(n.props.org,[r[t]]):(0,d.hasFinishedGeolocation)(n.props.localStations.requestStatus)&&(0,d.isGeolocatedToCountryOutsideUsa)(n.props.localStations)?n.handleSetState({progressBar:1,country:(0,d.getCountryCode)(n.props.localStations),isNotUnitedStates:!0}):n.handleSetStations(n.props.org,n.props.localStations.stations),n.setStationsMounted()},n.handleSetState=function(e){n.props.handleReduxSetState(e)},n.setStationsMounted=function(){n.setState({stationsMounted:!0})},n.handleSetStations=function(e,t){var r=n.state.isLocalized&&!n.state.cachedStation?[e[t[0]]].filter((function(e){return e})):[e[t[0]],e[t[1]],e[t[2]]].filter((function(e){return e}));n.handleSetState({stations:r,stationSelection:r[0]})},n.changeSearchQuery=function(e){var t=e.target.value;n.handleSetState({searchQuery:t})},n.setPreviousTerm=function(e){n.setState({previousTerm:e})},n.handlePlusUpdate=function(e){var t=n.props.plusLocalization,r=t.userId,a=t.isPlusSubscriber,o=t.plusOptInDate,i=t.sfToken,s=n.props,u=s.localizationResponseReceived,l=s.closeModal,c={userId:r,plusLocalizationDate:a&&!o?(new Date).toISOString():null,stationId:e,sfToken:i},d={method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)};(0,p.default)(15e3,"/account/profile/update/plusLocalization",d).then((function(e){e.ok?u({submitError:!1}).then((function(){return l()})):u({submitError:!0}),n.setState({loadingOnSubmit:!1})})).catch((function(){n.setState({loadingOnSubmit:!1}),u({submitError:!0})}))},n.submitUserData=function(){var e=n.props,t=e.stations,r=e.stationSearch,a=r.term,o=r.status,i=r.results,s=r.selectedStationId,u=e.org,l={status:o,localizedStations:t,searchedForStations:(0,c.userInputStationSearch)(i[a],u),results:i,previousTerm:n.state.previousTerm,org:u,stationsMounted:n.state.stationsMounted,term:a},d=(0,c.findMostRecentSearchResults)(l),p=(0,c.findSelectedStation)(u,d,s);n.changeStationId(p.id),n.props.stationChangeCompleted(p.id),n.setState({loadingOnSubmit:!0}),n.handlePlusUpdate(p.id)},n.changeStationId=function(e){n.setState({activeStationId:e})},n.state={previousTerm:"",activeStationId:null,cachedStation:(0,c.isLocalizedStationCached)(n.props.org,n.props.plusLocalization.station.id),stationsMounted:!1,isLocalized:(0,c.userLocalizationStatus)(n.props.plusLocalization.station.id),loadingOnSubmit:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props.plusLocalization.station.call;this.state.cachedStation||this.props.stationSearchRequested(e),this.mountStations()}},{key:"componentDidUpdate",value:function(){this.state.stationsMounted||(this.mountStations(),this.setState({stationsMounted:!0}))}},{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.stationSearch,a=n.term,c=n.status,d=n.results,p=c===l.RESOLVED&&!d[a].length&&"NPR"!==a;return o.default.createElement("div",{className:"localization-modal",onClick:function(e){return e.stopPropagation()}},o.default.createElement("button",{className:"localization-modal__close",onClick:t}),o.default.createElement("div",{className:"localization-modal__content"},o.default.createElement(i.default,r({handleSetStations:this.handleSetStations,changeSearchQuery:this.changeSearchQuery,setPreviousTerm:this.setPreviousTerm,handleSetState:this.handleSetState,handleReduxSetState:this.props.handleReduxSetState,previousTerm:this.state.previousTerm,stationSearch:this.props.stationSearch,searchErrorFlag:p},this.props)),o.default.createElement(s.default,r({changeStationId:this.changeStationId,handleSetStations:this.handleSetStations,handleSetState:this.handleSetState,previousTerm:this.state.previousTerm,activeStationId:this.state.activeStationId,stationsMounted:this.state.stationsMounted,loadingOnSubmit:this.state.loadingOnSubmit},this.props)),!p&&o.default.createElement(u.default,{plusLocalization:this.props.plusLocalization,status:c,submitUserData:this.submitUserData})))}}]),t}(o.default.Component);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=(i(n(4)),n(193));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;s(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleStationSearchSubmit=function(){var e=r.props,t=e.searchQuery,n=e.stationSearchRequested;t&&n(t)},r.handleQuery=function(e){r.props.setPreviousTerm(r.props.stationSearch.term),r.handleStationSearchSubmit(e),r.props.userSelectsStation(null)},r.toggleIsSearchInputSelected=function(){r.props.handleSetState({isSearchInputSelected:!0})},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isSearchInputSelected,r=t.searchErrorFlag,i=t.changeSearchQuery;return a.default.createElement("div",null,a.default.createElement("label",{className:"find-station__item find-station__item--search "+(r?"find-station__item--has-error":""),id:"localize-find-station__search"},a.default.createElement("span",{className:"find-station__label-text"},"Find your station."),a.default.createElement("input",{type:"text",name:"searchQuery",spellCheck:"false",onFocus:this.toggleIsSearchInputSelected,onKeyUp:function(t){"Enter"===t.key&&e.handleQuery(t),i(t)},className:"find-station__input "+(r?"find-station__input--has-error":""),id:"localize__input",placeholder:"Enter Station, ZIP Code or City & State","aria-describedby":r?"find-station__input--has-error":""}),n&&a.default.createElement("button",{onClick:function(t){e.handleQuery(t)},type:"button",className:"find-station__submit"},"submit station search"),r&&a.default.createElement("span",{id:"find-station__error-text--station-search",className:"find-station__error-text",role:"alert"},o.ERROR_FLAGS.NO_SEARCH_RESULTS)))}}]),t}(a.default.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1)),o=(c(n(4)),c(n(506))),i=c(n(507)),s=n(244),u=c(n(512)),l=n(29);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.stations,n=e.activeStationId,r=e.stationSearch,c=r.term,d=r.status,p=r.selectedStationId,f=r.results,_=e.org,E=e.previousTerm,m=e.userSelectsStation,g=e.isNotUnitedStates,y=e.stationsMounted,h=e.changeStationId,v=e.loadingOnSubmit,S={status:d,localizedStations:t,searchedForStations:(0,s.userInputStationSearch)(f[c],_),results:f,previousTerm:E,org:_,stationsMounted:y,term:c},O=(0,s.findMostRecentSearchResults)(S),T="station-picker-item station-picker-item--active",A=!O.length&&d===l.RESOLVED||!0===g&&d===l.NOT_STARTED,I=v||!O&&d!==l.RESOLVED||d===l.PENDING,b=O.map((function(e,t){return a.default.createElement("li",{key:e.id},a.default.createElement("label",{className:null===p&&0===t||n===e.id?T:"station-picker-item"},a.default.createElement(i.default,{type:"radio",className:"station-picker__input",onClick:function(){m(e.id),h(e.id)}}),o.default.renderMetadata(e),o.default.renderBranding(e)))}));return a.default.createElement("div",{className:"station-picker"},a.default.createElement("p",{className:"find-station__text"},v?"Processing...":d===l.PENDING?"Searching...":A?"There are no stations near you.":"Stations near you"),a.default.createElement("ul",null,I?a.default.createElement(u.default,{modalType:"localization"}):!1===g||!0===g&&d===l.RESOLVED?b:null))}}]),t}(a.default.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),a=(o(n(4)),n(244));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.submitUserData,n=e.plusLocalization,o=n.email,i=n.submitError,s=(0,a.shouldRenderDataShareForm)(o);return r.default.createElement("div",{className:"data-share"},s&&r.default.createElement("form",null,r.default.createElement("p",{className:"data-share__email"},"Email:"),r.default.createElement("input",{className:"data-share__input",type:"text",readOnly:"readonly",value:o})),r.default.createElement("button",{type:"button",className:"shareDataButton",onClick:t},"Make this my station"),i&&r.default.createElement("span",{role:"alert",className:"submit_localization__error-text--main submit_localization__error-text"},"There's been an error processing your request. Please try again. If the issue persists contact us at"," ",r.default.createElement("a",{href:"https://help.npr.org",target:"_blank"},"help.npr.org")),s&&r.default.createElement("p",{className:"terms"},"By choosing your NPR station, you agree to",r.default.createElement("a",{href:"/about-npr/179876898/terms-of-use",target:"_blank"}," ","NPR's terms of use")," ","and"," ",r.default.createElement("a",{href:"/about-npr/179878450/privacy-policy",target:"_blank"},"privacy policy.")," ","By opting in, NPR may share your name, email address, and your subscription, listening and usage information with your NPR station."))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCountryCode=t.isGeolocatedToCountryOutsideUsa=t.geolocatedCountryCode=t.hasFinishedGeolocation=void 0;var r=i(n(5)),a=i(n(508)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(29));function i(e){return e&&e.__esModule?e:{default:e}}t.hasFinishedGeolocation=function(e){return e===o.RESOLVED};var s=t.geolocatedCountryCode=function(e){return(0,r.default)(e,"localizationInfo.countryCode")};t.isGeolocatedToCountryOutsideUsa=function(e){return s(e)&&!["999","0","840"].includes(s(e))},t.getCountryCode=function(e){return(0,r.default)(a.default.find((function(t){return t.id===+s(e)})),"alpha2")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=v(a),i=(v(n(4)),n(10)),s=h(n(195)),u=v(n(241)),l=v(n(242)),c=v(n(243)),d=v(n(588)),p=v(n(589)),f=n(148),_=n(15),E=v(n(169)),m=v(n(107)),g=h(n(82)),y=n(55);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkHeight=function(){var e=document.querySelectorAll(".global-stickybar")[0];if(e){var t=e.offsetHeight;n.setState({isTallerThanViewport:t>=window.innerHeight})}},n.closeStickybar=function(e){n.props.hideGlobalAlerts(e)},n.closeStickybarWithoutMetrics=function(){n.setState({isLinkClicked:!0})},n.getStickybarComponent=function(){var e=n.props,t=e.isAlertDismissed,r=e.alertVariant,a=e.variantIDToShowOnThisPage,i=e.user,s=e.org;if(!t&&!n.state.isLinkClicked&&r===g.STICKYBAR){var _=(0,f.getStickybarNewsletterInfo)(),E=(0,f.getStickybarEmbeddedDonationInfo)(),m=(0,f.getStickybarDonationInfo)(),h=(0,f.getStickybarGenericInfo)(),v=(0,f.getStickyBarPlusInfo)(),S=a in _,O=a in m||a in E,T=a in h,A=a in v,I=s[i.org.id]||null,b="",P=null;if(O)a.includes(y.DONATION_EMBED)?(b="global-stickybar donation-portal-stickybar",P=o.default.createElement(c.default,{station:I,metricsCategory:g.STICKYBAR,onClick:function(){return n.closeStickybar("maybe later")}})):(b="global-stickybar donations-stickybar",P=o.default.createElement(l.default,{donation:m[a],station:I,metricsCategory:g.STICKYBAR,onClick:n.closeStickybarWithoutMetrics}));else if(S)if(b="global-stickybar newsletter-stickybar",_[a].newsletterInfo===(0,f.getStickybarUsePageNewsletter)()){var R=document.getElementById("newsletter-acquisition-callout-data"),D=R?R.getAttribute("data-newsletter"):null,N=JSON.parse(D)||null;N&&(P=o.default.createElement(u.default,{newsletter:N,user:i,isStickybar:!0}))}else P=o.default.createElement(u.default,{newsletter:_[a].newsletterInfo,user:i,isStickybar:!0});else T?(b="global-stickybar generic-stickybar",P=o.default.createElement(d.default,{variantID:a,headerText:h[a].genericInfo.headerText,subText:h[a].genericInfo.subText,buttonText:h[a].genericInfo.buttonText,buttonUrl:h[a].genericInfo.buttonUrl,metricsCategory:g.STICKYBAR,onClick:n.closeStickybarWithoutMetrics})):A&&(b="global-stickybar generic-stickybar",P=o.default.createElement(p.default,{headerText:v[a].genericInfo.headerText,subText:v[a].genericInfo.subText,buttonText:v[a].genericInfo.buttonText,buttonUrl:v[a].genericInfo.buttonUrl,eventLabel:v[a].genericInfo.eventLabel,onClick:n.closeStickybarWithoutMetrics}));if(n.state.isTallerThanViewport&&(b+=" is-tall"),P)return o.default.createElement("section",{className:b},o.default.createElement("button",{className:"global-stickybar__dismiss",onClick:function(){return n.closeStickybar()},"aria-label":"close dialog box"},"X"),o.default.createElement("div",{className:"global-stickybar__inner"},P))}return null},n.state={isLinkClicked:!1,isTallerThanViewport:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;m.default.bind(["esc"],(function(){return e.closeStickybar()})),window.addEventListener("resize",(0,E.default)(this.checkHeight,300))}},{key:"componentWillUnmount",value:function(){var e=this;m.default.unbind(["esc"],(function(){return e.closeStickybar()})),window.addEventListener("resize",(0,E.default)(this.checkHeight,300))}},{key:"render",value:function(){return o.default.createElement("span",null,this.getStickybarComponent())}}]),t}(a.Component);t.default=(0,i.connect)((function(e){var t=e.user,n=e.org;return{alertVariant:(0,_.getAlertVariant)(e),isAlertDismissed:(0,_.getAlertIsDismissed)(e),variantIDToShowOnThisPage:(0,_.getVariantIDToShowOnThisPage)(e),globalAlertAlreadyVisibleThisPage:(0,_.getGlobalAlertAlreadyVisibleThisPage)(e),user:t,org:n}}),(function(e){return{hideGlobalAlerts:function(t){return e(s.hideGlobalAlerts(t))}}}))(S)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),a=(o(n(4)),o(n(142)));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return r.default.createElement("section",{className:"callout callout--generic"},r.default.createElement("div",{className:"callout__inner"},r.default.createElement("div",null,r.default.createElement("p",{className:"callout__header"},e.headerText)),r.default.createElement("div",null,r.default.createElement("p",{className:"callout__description"},e.subText)),r.default.createElement("div",{className:"callout__links"},r.default.createElement(a.default,{className:"callout__link",onClick:function(){return function(e,t,n){if(n(),e){var r=new URL(e);r.searchParams.set("utm_source","npr.org"),r.searchParams.set("utm_medium","referral"),r.searchParams.set("utm_term",t),window.open(r.href,"_blank")}}(e.buttonUrl,e.metricsCategory,e.onClick)}},r.default.createElement("span",null,e.buttonText)))))};i.defaultProps={onClick:function(){}},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),a=(o(n(4)),o(n(142)));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return r.default.createElement("section",{className:"callout callout--generic"},r.default.createElement("div",{className:"callout__inner"},r.default.createElement("div",null,r.default.createElement("p",{className:"callout__header"},e.headerText)),r.default.createElement("div",null,r.default.createElement("p",{className:"callout__description"},e.subText)),r.default.createElement("div",{className:"callout__links"},r.default.createElement(a.default,{className:"callout__link",onClick:function(){return t=e.buttonUrl,(0,e.onClick)(),void(t&&window.open(t,"_blank"));var t}},r.default.createElement("span",null,e.buttonText)))))};i.defaultProps={onClick:function(){}},t.default=i},function(e,t,n){"use strict";var r=l(n(1)),a=n(10),o=n(65),i=l(n(20)),s=(l(n(21)),l(n(41))),u=l(n(591));function l(e){return e&&e.__esModule?e:{default:e}}var c=i.default.create();c.name="npr-plus-get-access-modal";var d=(0,s.default)(),p=null,f=null;c.onReady=function(){p=document.getElementById("npr-plus-get-access-modal-mount"),(f=(0,o.createRoot)(p)).render(r.default.createElement(a.Provider,{store:d},r.default.createElement(u.default,null)))},c.onUnload=function(){null!==p&&f.unmount()},c.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=g(r),o=(g(n(4)),n(10)),i=g(n(31)),s=g(n(5)),u=g(n(92)),l=m(n(38)),c=g(n(192)),d=g(n(107)),p=m(n(194)),f=m(n(39)),_=n(35),E=g(n(21));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.connect)((function(e){return{plusContentBehavior:e.plusContentBehavior,user:e.user,site:e.site,isRenderingForMobileApp:E.default.isMobileNativeApp((0,_.getRenderPlatform)(e))}}),(function(e){return{hideNPRPlusModal:function(){return e(p.hideNPRPlusModal())}}}))((function(e){var t=e.plusContentBehavior,n=e.user,o=e.site,p=e.hideNPRPlusModal,_=e.isRenderingForMobileApp,E=(0,s.default)(NPR,"ServerConstants.webHost","")+"/account/login",m=(0,r.useRef)(null),g=u.default.isUserLoggedIn;return(0,r.useEffect)((function(){m.current=(0,c.default)("#npr-plus-get-access-modal-mount",{clickOutsideDeactivates:!0,initialFocus:"#npr-plus-access__close"}),d.default.bind(["esc"],(function(){return p()}))}),[]),(0,r.useEffect)((function(){!0===t.isNPRPlusModalVisible?m.current.activate():m.current.deactivate()}),[t.isNPRPlusModalVisible]),a.default.createElement("div",{onClick:function(e){e.target===e.currentTarget&&p()},className:"npr-plus-access-wrap "+(t.isNPRPlusModalVisible?"npr-plus-access-wrap--is-active":"")},a.default.createElement("div",{className:"npr-plus-access"},a.default.createElement("div",{className:"npr-plus-access__header"},a.default.createElement("img",{src:NPR.ServerConstants.staticAssetsHost+"/chrome_svg/npr-plus/npr-plus-combo-logo.svg",alt:"NPR Plus logo",className:"npr-plus-access__logo"}),a.default.createElement("h5",null,"Exclusive benefits")),a.default.createElement("div",{className:"npr-plus-access__content"},a.default.createElement("h6",null,"Give a little. Get a lot."),a.default.createElement("p",null,"Support mission-driven journalism while getting something great in return. Enjoy bonus content, early access and sponsor-free listening from your favorite NPR podcasts.")),a.default.createElement(i.default,{href:f.PLUS_DONATION_PAGE_HOST+"?utm_medium=nprweb&source=mvpcta",className:"npr-plus-access__cta",metricsGA4:{category:"npr plus",action:l.NPR_PLUS_CLICK,clickType:"modal secondary click",clickName:"get npr+ today",clickUrl:f.PLUS_DONATION_PAGE_HOST+"?utm_medium=nprweb&source=mvpcta"},target:"_blank"},"Get NPR+"),!g(n,_)&&a.default.createElement("div",{className:"npr-plus-access__footer"},a.default.createElement("p",null,"Already have NPR+?",a.default.createElement(i.default,{href:"#",className:"user-account__sign-in",onClickHandler:function(){var e=(0,s.default)(o,"currentHref")?(0,s.default)(o,"currentHref"):"",t=encodeURIComponent(""+e),r=(0,s.default)(n,"view.data.attributes.id"),a=(0,s.default)(NPR,"ServerConstants.webHost")+"/account/login?returnUrl="+t;r&&(a+="&userId="+r),window.location.href=a},metricsGA4:{category:"npr plus",action:l.NPR_PLUS_CLICK,clickType:"modal sign in",clickName:"sign in",clickUrl:E}},"Sign In"))),a.default.createElement("button",{id:"npr-plus-access__close",className:"npr-plus-access__close",onClick:p},"Close modal")))}))},function(e,t,n){"use strict";var r=l(n(20)),a=l(n(1)),o=n(65),i=l(n(593)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(609)),u=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,l(n(41)).default)(),d=r.default.create();d.name="right-rail-content-widgets";d.init=function(){s.init(c.dispatch)},d.onReady=function(){var e=document.getElementById("right-rail-content-widgets-mount");e&&NPR&&NPR.serverVars&&"1002"===NPR.serverVars.storyId&&(0,o.createRoot)(e).render(a.default.createElement(u.Provider,{store:c},a.default.createElement(i.default,null)))},d.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=h(a),i=(h(n(4)),n(10)),s=n(15),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(80)),l=h(n(594)),c=h(n(596)),d=h(n(598)),p=h(n(599)),f=h(n(600)),_=h(n(601)),E=h(n(603)),m=h(n(605)),g=h(n(607)),y=n(81);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return this.props.widgets.length<1?o.default.createElement("div",{id:"right-rail-content-widgets__container",className:"widgets__container"}):this.props.widgets.length>0?o.default.createElement("div",{id:"right-rail-content-widgets__container",className:"widgets__container"},this.props.widgets.map((function(e,t){switch(e){case u.WIDGET_STORIES_NO_IMAGE:return o.default.createElement(l.default,{key:t});case u.WIDGET_STORIES_WITH_IMAGE:return o.default.createElement(c.default,{key:t});case u.WIDGET_STORIES_SLIDER_GALLERY_1:return o.default.createElement(d.default,{slideBackward:y.slideBackward,slideForward:y.slideForward,key:t});case u.WIDGET_STORIES_SLIDER_GALLERY_3:return o.default.createElement(p.default,{slideBackward:y.slideBackward,slideForward:y.slideForward,key:t});case u.WIDGET_STORIES_NO_SLIDER_GALLERY:return o.default.createElement(f.default,{key:t});case u.WIDGET_AUDIO_BRANDED_PODCAST_TITLE:return o.default.createElement(_.default,{key:t});case u.WIDGET_AUDIO_BRANDED_EPISODE_HEADLINE:return o.default.createElement(E.default,{key:t});case u.WIDGET_AUDIO_NON_BRANDED_PODCAST_TITLE:return o.default.createElement(m.default,{key:t});case u.WIDGET_AUDIO_NON_BRANDED_EPISODE_HEADLINE:return o.default.createElement(g.default,{key:t})}}))):null}}]),t}(a.Component);v.defaultProps={widgets:[]},t.default=(0,i.connect)((function(e){return{widgets:(0,s.getCurrentRightRailWidgets)(e)}}))(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),n(10)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66)),u=n(80),l=n(15),c=d(n(595));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoriesByAggForContentWidgetsRequested=function(e,t){n.props.stories.length<1||n.props.stories.length<u.CONTENT_WIDGETS_LIMIT?n.props.getStoriesByAggForContentWidgetsRequested(e,t):n.props.getStoriesByAggForContentWidgetsSkipped()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.getStoriesByAggForContentWidgetsRequested(u.OUR_HELPER_COLLECTION_ID,u.CONTENT_WIDGETS_LIMIT)}},{key:"render",value:function(){return o.default.createElement("div",{className:"right-rail-widget stories-no-image-widget"},o.default.createElement("div",{className:"stories-with-image-widget__body"},this.getStories(this.props.stories)))}},{key:"getStories",value:function(e){if(e&&e.length>0)return e.map((function(e,t){return o.default.createElement(c.default,{key:t,slug:e.slug,slugUrl:e.slugUrl,url:e.url,title:e.title,hasAudio:e.hasPrimaryAudio,index:t})}))}}]),t}(a.Component);p.defaultProps={stories:[],getStoriesByAggForContentWidgetsRequested:function(){},getStoriesByAggForContentWidgetsSkipped:function(){}};t.default=(0,i.connect)((function(e){return{stories:(0,l.getStoriesForAggWidget)(e,u.OUR_HELPER_COLLECTION_ID)}}),(function(e){return{getStoriesByAggForContentWidgetsRequested:function(t,n){return e(s.getStoriesByAggForContentWidgetsRequested(t,n))},getStoriesByAggForContentWidgetsSkipped:function(){return e(s.getStoriesByAggForContentWidgetsSkipped())}}}))(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=l(a),i=(l(n(4)),l(n(31))),s=n(38),u=n(81);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=(0,u.getExperimentId)(),t=(0,u.getVariationId)(),n=String(this.props.index+1);return o.default.createElement("div",{className:"story "+(this.props.hasAudio?"has-audio":""),href:this.props.url},o.default.createElement("div",null,this.props.slug?o.default.createElement(i.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:s.TESTING_CLICK,variationId:t,experementId:e,clickType:"slug",clickName:"story no image click",clickPosition:n,clickUrl:this.props.url}},o.default.createElement("h2",{className:"slug"},this.props.slug)):null,o.default.createElement(i.default,{href:this.props.url,metricsGA4:{category:"testing",action:s.TESTING_CLICK,variationId:t,experementId:e,clickType:"story",clickName:"story no image click",clickPosition:n,clickUrl:this.props.url}},o.default.createElement("h3",null,this.props.title))))}}]),t}(a.Component);t.default=c,c.defaultProps={url:"",slug:"",slugUrl:"",title:"",hasAudio:!1,index:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),n(10)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66)),u=n(80),l=n(15),c=d(n(597));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoriesByAggForContentWidgetsRequested=function(e,t){n.props.stories.length<1||n.props.stories.length<u.CONTENT_WIDGETS_LIMIT?n.props.getStoriesByAggForContentWidgetsRequested(e,t):n.props.getStoriesByAggForContentWidgetsSkipped()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.getStoriesByAggForContentWidgetsRequested(u.OUR_HELPER_COLLECTION_ID,u.CONTENT_WIDGETS_LIMIT)}},{key:"render",value:function(){return o.default.createElement("div",{className:"right-rail-widget stories-with-image"},o.default.createElement("div",{className:"stories-with-image-widget__body"},this.getStories(this.props.stories)))}},{key:"getStories",value:function(e){if(e)return e.map((function(e,t){return o.default.createElement(c.default,{key:t,slug:e.slug,slugUrl:e.slugUrl,url:e.url,title:e.title,primaryImageHtml:e.primaryImageHtml,hasAudio:e.hasPrimaryAudio,index:t})}))}}]),t}(a.Component);p.defaultProps={stories:[],getStoriesByAggForContentWidgetsRequested:function(){},getStoriesByAggForContentWidgetsSkipped:function(){}};t.default=(0,i.connect)((function(e){return{stories:(0,l.getStoriesForAggWidget)(e,u.OUR_HELPER_COLLECTION_ID)}}),(function(e){return{getStoriesByAggForContentWidgetsRequested:function(t,n){return e(s.getStoriesByAggForContentWidgetsRequested(t,n))},getStoriesByAggForContentWidgetsSkipped:function(){return e(s.getStoriesByAggForContentWidgetsSkipped())}}}))(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),i=(c(n(4)),c(n(118))),s=c(n(31)),u=n(38),l=n(81);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=(0,l.getExperimentId)(),t=(0,l.getVariationId)(),n=String(this.props.index+1);return o.default.createElement("div",{className:"story with-image "+(this.props.hasAudio?"has-audio":""),href:this.props.url},o.default.createElement("div",null,this.props.slug?o.default.createElement(s.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:t,experementId:e,clickType:"slug",clickName:"story with image click",clickPosition:n,clickUrl:this.props.url}},o.default.createElement("h2",{className:"slug"},this.props.slug)):null,o.default.createElement(s.default,{href:this.props.url,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:t,experementId:e,clickType:"story",clickName:"story with image click",clickPosition:n,clickUrl:this.props.url}},o.default.createElement("h3",null,this.props.title))),o.default.createElement("figure",{className:"thumb-image"},o.default.createElement(s.default,{href:this.props.url,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:t,experementId:e,clickType:"image",clickName:"story with image click",clickPosition:n,clickUrl:this.props.url}},(0,i.default)(this.props.primaryImageHtml))))}}]),t}(a.Component);t.default=d,d.defaultProps={url:"",slug:"",slugUrl:"",title:"",primaryImageHtml:"",hasAudio:!1,index:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=p(a),i=(p(n(4)),n(10)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66)),u=n(80),l=n(15),c=p(n(245)),d=p(n(142));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoriesByAggForContentWidgetsRequested=function(e,t){n.props.stories.length<1||n.props.stories.length<u.CONTENT_WIDGETS_LIMIT?n.props.getStoriesByAggForContentWidgetsRequested(e,t):n.props.getStoriesByAggForContentWidgetsSkipped()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.getStoriesByAggForContentWidgetsRequested(u.OUR_HELPER_COLLECTION_ID,u.CONTENT_WIDGETS_LIMIT)}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"right-rail-widget stories-slider-gallery-1-widget"},o.default.createElement("div",{className:"stories-slider-gallery-1-widget__body slider"},this.getStories(this.props.stories)),o.default.createElement("div",{className:"slider-gallery__nav"},o.default.createElement(d.default,{className:"slider-gallery__button--backward",onClick:function(){return e.props.slideBackward("stories-slider-gallery-1-widget")}}),o.default.createElement(d.default,{className:"slider-gallery__button--forward",onClick:function(){return e.props.slideForward("stories-slider-gallery-1-widget")}})))}},{key:"getStories",value:function(e){if(e&&e.length>0)return e.map((function(e,t){return o.default.createElement(c.default,{key:t,slug:e.slug,slugUrl:e.slugUrl,url:e.url,title:e.title,primaryImageHtml:e.primaryImageHtml,hasAudio:e.hasPrimaryAudio,widgetText:"story slider gallery 1 click",index:t})}))}}]),t}(a.Component);f.defaultProps={stories:[],getStoriesByAggForContentWidgetsRequested:function(){},getStoriesByAggForContentWidgetsSkipped:function(){},slideBackward:function(){},slideForward:function(){}};t.default=(0,i.connect)((function(e){return{stories:(0,l.getStoriesForAggWidget)(e,u.OUR_HELPER_COLLECTION_ID)}}),(function(e){return{getStoriesByAggForContentWidgetsRequested:function(t,n){return e(s.getStoriesByAggForContentWidgetsRequested(t,n))},getStoriesByAggForContentWidgetsSkipped:function(){return e(s.getStoriesByAggForContentWidgetsSkipped())}}}))(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=f(a),i=(f(n(4)),n(10)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66)),u=n(80),l=n(15),c=f(n(351)),d=f(n(245)),p=f(n(142));function f(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoriesByAggForContentWidgetsRequested=function(e,t){n.props.stories.length<1||n.props.stories.length<u.CONTENT_WIDGETS_LIMIT?n.props.getStoriesByAggForContentWidgetsRequested(e,t):n.props.getStoriesByAggForContentWidgetsSkipped()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.getStoriesByAggForContentWidgetsRequested(u.OUR_HELPER_COLLECTION_ID,u.CONTENT_WIDGETS_LIMIT)}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"right-rail-widget stories-slider-gallery-3-widget"},o.default.createElement("div",{className:"stories-slider-gallery-3-widget__body"},o.default.createElement("div",{className:"top-story"},this.getTopStory(this.props.stories)),o.default.createElement("div",{className:"slider"},this.getSliderStories(this.props.stories))),o.default.createElement("div",{className:"slider-gallery__nav"},o.default.createElement(p.default,{className:"slider-gallery__button--backward",onClick:function(){return e.props.slideBackward("stories-slider-gallery-3-widget")}}),o.default.createElement(p.default,{className:"slider-gallery__button--forward",onClick:function(){return e.props.slideForward("stories-slider-gallery-3-widget")}})))}},{key:"getTopStory",value:function(e){if(e&&e.length>0){var t=e[0];return o.default.createElement(d.default,{key:0,slug:t.slug,slugUrl:t.slugUrl,url:t.url,title:t.title,primaryImageHtml:t.primaryImageHtml,hasAudio:t.hasPrimaryAudio,widgetText:"story slider gallery 3 click",index:0})}}},{key:"getSliderStories",value:function(e){var t;if(e&&e.length>1)return(t=e,Array.isArray(t)?t:Array.from(t)).slice(1).map((function(e,t){var n=t+1;return o.default.createElement(c.default,{key:n,slug:e.slug,slugUrl:e.slugUrl,url:e.url,title:e.title,primaryImageHtml:e.primaryImageHtml,hasAudio:e.hasPrimaryAudio,widgetText:"story slider gallery 3 click",index:n})}))}}]),t}(a.Component);_.defaultProps={stories:[],getStoriesByAggForContentWidgetsRequested:function(){},getStoriesByAggForContentWidgetsSkipped:function(){},slideBackward:function(){},slideForward:function(){}};t.default=(0,i.connect)((function(e){return{stories:(0,l.getStoriesForAggWidget)(e,u.OUR_HELPER_COLLECTION_ID)}}),(function(e){return{getStoriesByAggForContentWidgetsRequested:function(t,n){return e(s.getStoriesByAggForContentWidgetsRequested(t,n))},getStoriesByAggForContentWidgetsSkipped:function(){return e(s.getStoriesByAggForContentWidgetsSkipped())}}}))(_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),n(10)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66)),u=n(80),l=n(15),c=d(n(245));d(n(351));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoriesByAggForContentWidgetsRequested=function(e,t){n.props.stories.length<1||n.props.stories.length<u.CONTENT_WIDGETS_LIMIT?n.props.getStoriesByAggForContentWidgetsRequested(e,t):n.props.getStoriesByAggForContentWidgetsSkipped()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.getStoriesByAggForContentWidgetsRequested(u.OUR_HELPER_COLLECTION_ID,u.CONTENT_WIDGETS_LIMIT)}},{key:"render",value:function(){return o.default.createElement("div",{className:"right-rail-widget stories-no-slider-gallery-widget"},o.default.createElement("div",{className:"stories-no-slider-gallery-widget__body"},this.getStories(this.props.stories)))}},{key:"getStories",value:function(e){if(e&&e.length>0)return e.map((function(e,t){return o.default.createElement(c.default,{key:t,slug:e.slug,slugUrl:e.slugUrl,url:e.url,title:e.title,primaryImageHtml:e.primaryImageHtml,hasAudio:e.hasPrimaryAudio,widgetText:"story no slider gallery click",index:t})}))}}]),t}(a.Component);p.defaultProps={stories:[],getStoriesByAggForContentWidgetsRequested:function(){},getStoriesByAggForContentWidgetsSkipped:function(){}};t.default=(0,i.connect)((function(e){return{stories:(0,l.getStoriesForAggWidget)(e,u.OUR_HELPER_COLLECTION_ID)}}),(function(e){return{getStoriesByAggForContentWidgetsRequested:function(t,n){return e(s.getStoriesByAggForContentWidgetsRequested(t,n))},getStoriesByAggForContentWidgetsSkipped:function(){return e(s.getStoriesByAggForContentWidgetsSkipped())}}}))(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=E(a),i=(E(n(4)),n(10)),s=_(n(66)),u=n(80),l=n(15),c=E(n(602)),d=n(64),p=_(n(90)),f=_(n(28));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoriesByAggForContentWidgetsRequested=function(e,t){n.props.stories||n.props.stories.length<u.CONTENT_WIDGETS_LIMIT?n.props.getStoriesByAggForContentWidgetsRequested(e,t,!0):n.props.getStoriesByAggForContentWidgetsSkipped()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.getStoriesByAggForContentWidgetsRequested(u.OUR_AUDIO_HELPER_COLLECTION_ID,u.CONTENT_WIDGETS_LIMIT)}},{key:"render",value:function(){return o.default.createElement("div",{className:"right-rail-widget audio-branded-podcast-title"},o.default.createElement("div",{className:"audio-branded-podcast-title-widget__body"},o.default.createElement("div",{className:"audio-widget-header"},o.default.createElement("h1",null,"Podcasts"),o.default.createElement("a",{href:"/podcasts-and-shows/"},"More")),this.getStories(this.props.stories)))}},{key:"getStories",value:function(e){var t=this;if(e)return e.map((function(e,n){return o.default.createElement(c.default,{key:n,id:e.id,slug:e.slug,slugUrl:e.slugUrl,slugId:e.slugId,url:e.url,title:e.title,primaryImageHtml:e.primaryImageHtml,logoImageHtml:e.logoImageHtml,hasAudio:e.hasPrimaryAudio,primaryAudioId:e.primaryAudioId?e.primaryAudioId:"",metadata:t.props.metadata,onLinkClick:t.props.onLinkClick,onPlayPauseRequested:t.props.onPlayPauseRequested,index:n})}))}}]),t}(a.Component);m.defaultProps={isAudioLoaded:!1,stories:[],metadata:{},getStoriesByAggForContentWidgetsRequested:function(){},getStoriesByAggForContentWidgetsSkipped:function(){},onLinkClick:function(){},onPlayPauseRequested:function(){}};t.default=(0,i.connect)((function(e){return{isAudioLoaded:(0,l.getIsAudioLoadedForAggWidget)(e,u.OUR_AUDIO_HELPER_COLLECTION_ID),stories:(0,l.getStoriesForAggWidget)(e,u.OUR_AUDIO_HELPER_COLLECTION_ID),metadata:(0,d.getDerivedMetadata)(e)}}),(function(e){return{onLinkClick:function(t){return e(p.linkClicked(t))},onPlayPauseRequested:function(t,n){return e(f.playPauseRequested(t,n))},getStoriesByAggForContentWidgetsRequested:function(t,n,r){return e(s.getStoriesByAggForContentWidgetsRequested(t,n,r))},getStoriesByAggForContentWidgetsSkipped:function(){return e(s.getStoriesByAggForContentWidgetsSkipped())}}}))(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),d(n(31))),s=d(n(189)),u=d(n(118)),l=n(38),c=n(81);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props.id+":"+this.props.primaryAudioId,t=(0,c.getExperimentId)(),n=(0,c.getVariationId)(),r=String(this.props.index+1);return o.default.createElement("div",{className:"story with-image "+(this.props.slugId?"gradient-"+this.props.slugId:"")+" "+(this.props.hasAudio?"has-audio":""),href:this.props.url},o.default.createElement("div",null,o.default.createElement("figure",{className:"thumb-image"},o.default.createElement(i.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:l.TESTING_CLICK,variationId:n,experementId:t,clickType:"image",clickName:"audio branded podcast title click",clickPosition:r,clickUrl:this.props.url}},(0,u.default)(this.props.logoImageHtml))),o.default.createElement("div",{className:"podcast-title-with-breadcrumb"},this.props.slug?o.default.createElement(i.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:l.TESTING_CLICK,variationId:n,experementId:t,clickType:"slug",clickName:"audio branded podcast title click",clickPosition:r,clickUrl:this.props.url}},o.default.createElement("h2",{className:"slug"},this.props.slug)):null,o.default.createElement("p",null,"Podcast"))),this.props.metadata&&this.props.metadata[e]&&o.default.createElement("ol",null,o.default.createElement(s.default,{playedFrom:"audio widget",key:this.props.primaryAudioId,onAddToQueue:function(){},onRemoveFromQueue:function(){},onPlayPauseRequested:this.props.onPlayPauseRequested,onLinkClick:this.props.onLinkClick,audio:this.props.metadata[e],isSmallBreakpoint:!1,isRecommendation:!1,shouldShowRemoveLink:!1,isForNPROneMixCard:!1,isAwaitingData:!1,titleClickMetrics:{category:"testing",action:l.TESTING_CLICK,variationId:n,experementId:t,clickType:"audio title",clickName:"audio branded podcast title click",clickPosition:r,clickUrl:this.props.url}})))}}]),t}(a.Component);t.default=p,p.defaultProps={id:"",url:"",slug:"",slugUrl:"",title:"",primaryImageHtml:"",logoImageHtml:"",hasAudio:!1,primaryAudioId:"",metadata:{},onLinkClick:function(){},onPlayPauseRequested:function(){},index:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=E(a),i=(E(n(4)),n(10)),s=_(n(66)),u=n(80),l=n(15),c=E(n(604)),d=n(64),p=_(n(90)),f=_(n(28));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoriesByAggForContentWidgetsRequested=function(e,t){n.props.stories||n.props.stories.length<u.CONTENT_WIDGETS_LIMIT?n.props.getStoriesByAggForContentWidgetsRequested(e,t,!0):n.props.getStoriesByAggForContentWidgetsSkipped()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.getStoriesByAggForContentWidgetsRequested(u.OUR_AUDIO_HELPER_COLLECTION_ID,u.CONTENT_WIDGETS_LIMIT)}},{key:"render",value:function(){return o.default.createElement("div",{className:"right-rail-widget audio-branded-episode-headline"},o.default.createElement("div",{className:"audio-branded-episode-headline-widget__body"},o.default.createElement("div",{className:"audio-widget-header"},o.default.createElement("h1",null,"Podcasts"),o.default.createElement("a",{href:"/podcasts-and-shows/"},"More")),this.getStories(this.props.stories)))}},{key:"getStories",value:function(e){var t=this;if(e)return e.map((function(e,n){return o.default.createElement(c.default,{key:n,id:e.id,slug:e.slug,slugUrl:e.slugUrl,slugId:e.slugId,url:e.url,title:e.title,primaryImageHtml:e.primaryImageHtml,logoImageHtml:e.logoImageHtml,hasAudio:e.hasPrimaryAudio,primaryAudioId:e.primaryAudioId?e.primaryAudioId:"",metadata:t.props.metadata,onLinkClick:t.props.onLinkClick,onPlayPauseRequested:t.props.onPlayPauseRequested,index:n})}))}}]),t}(a.Component);m.defaultProps={isAudioLoaded:!1,stories:[],metadata:{},getStoriesByAggForContentWidgetsRequested:function(){},getStoriesByAggForContentWidgetsSkipped:function(){},onLinkClick:function(){},onPlayPauseRequested:function(){}};t.default=(0,i.connect)((function(e){return{isAudioLoaded:(0,l.getIsAudioLoadedForAggWidget)(e,u.OUR_AUDIO_HELPER_COLLECTION_ID),stories:(0,l.getStoriesForAggWidget)(e,u.OUR_AUDIO_HELPER_COLLECTION_ID),metadata:(0,d.getDerivedMetadata)(e)}}),(function(e){return{onLinkClick:function(t){return e(p.linkClicked(t))},onPlayPauseRequested:function(t,n){return e(f.playPauseRequested(t,n))},getStoriesByAggForContentWidgetsRequested:function(t,n,r){return e(s.getStoriesByAggForContentWidgetsRequested(t,n,r))},getStoriesByAggForContentWidgetsSkipped:function(){return e(s.getStoriesByAggForContentWidgetsSkipped())}}}))(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),d(n(31))),s=d(n(189)),u=n(38),l=n(81),c=d(n(118));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props.id+":"+this.props.primaryAudioId,t=(0,l.getExperimentId)(),n=(0,l.getVariationId)(),r=String(this.props.index+1),a=this.props.metadata&&this.props.metadata[e]?this.props.metadata[e]:null;return a&&(a.title=this.props.slug,a.storyUrl=this.props.slugUrl),o.default.createElement("div",{className:"story with-image "+(this.props.slugId?"gradient-"+this.props.slugId:"")+" "+(this.props.hasAudio?"has-audio":""),href:this.props.url},o.default.createElement("div",null,o.default.createElement("figure",{className:"thumb-image"},o.default.createElement(i.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:n,experementId:t,clickType:"image",clickName:"audio branded episode headline click",clickPosition:r,clickUrl:this.props.url}},(0,c.default)(this.props.logoImageHtml))),o.default.createElement(i.default,{href:this.props.url,metricsGA4:{category:"testing",action:u.TESTING_CLICK,variationId:n,experementId:t,clickType:"story",clickName:"audio branded episode headline click",clickPosition:r,clickUrl:this.props.url}},o.default.createElement("h3",null,this.props.title)),a&&o.default.createElement("ol",null,o.default.createElement(s.default,{playedFrom:"audio widget",key:this.props.primaryAudioId,onAddToQueue:function(){},onRemoveFromQueue:function(){},onPlayPauseRequested:this.props.onPlayPauseRequested,onLinkClick:this.props.onLinkClick,audio:this.props.metadata[e],isSmallBreakpoint:!1,isRecommendation:!1,shouldShowRemoveLink:!1,isForNPROneMixCard:!1,isAwaitingData:!1,titleClickMetrics:{category:"testing",action:u.TESTING_CLICK,variationId:n,experementId:t,clickType:"audio title",clickName:"audio branded episode headline click",clickPosition:r,clickUrl:this.props.url}}))))}}]),t}(a.Component);t.default=p,p.defaultProps={id:"",url:"",slug:"",slugUrl:"",title:"",primaryImageHtml:"",logoImageHtml:"",hasAudio:!1,primaryAudioId:"",metadata:{},onLinkClick:function(){},onPlayPauseRequested:function(){},index:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=E(a),i=(E(n(4)),n(10)),s=_(n(66)),u=n(80),l=n(15),c=E(n(606)),d=n(64),p=_(n(90)),f=_(n(28));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoriesByAggForContentWidgetsRequested=function(e,t){n.props.stories||n.props.stories.length<u.CONTENT_WIDGETS_LIMIT?n.props.getStoriesByAggForContentWidgetsRequested(e,t,!0):n.props.getStoriesByAggForContentWidgetsSkipped()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.getStoriesByAggForContentWidgetsRequested(u.OUR_AUDIO_HELPER_COLLECTION_ID,u.CONTENT_WIDGETS_LIMIT)}},{key:"render",value:function(){return o.default.createElement("div",{className:"right-rail-widget audio-non-branded-podcast-title-widget__body"},o.default.createElement("div",{className:"audio-non-branded-podcast-title-widget__body"},o.default.createElement("div",{className:"audio-widget-header"},o.default.createElement("h1",null,"Podcasts"),o.default.createElement("a",{href:"/podcasts-and-shows/"},"More")),this.getStories(this.props.stories)))}},{key:"getStories",value:function(e){var t=this;if(e)return e.map((function(e,n){return o.default.createElement(c.default,{key:n,id:e.id,slug:e.slug,slugUrl:e.slugUrl,slugId:e.slugId,url:e.url,title:e.title,primaryImageHtml:e.primaryImageHtml,logoImageHtml:e.logoImageHtml,hasAudio:e.hasPrimaryAudio,primaryAudioId:e.primaryAudioId?e.primaryAudioId:"",metadata:t.props.metadata,onLinkClick:t.props.onLinkClick,onPlayPauseRequested:t.props.onPlayPauseRequested,index:n})}))}}]),t}(a.Component);m.defaultProps={isAudioLoaded:!1,stories:[],metadata:{},getStoriesByAggForContentWidgetsRequested:function(){},getStoriesByAggForContentWidgetsSkipped:function(){},onLinkClick:function(){},onPlayPauseRequested:function(){}};t.default=(0,i.connect)((function(e){return{isAudioLoaded:(0,l.getIsAudioLoadedForAggWidget)(e,OUR_HELPER_COLLECTION_ID),stories:(0,l.getStoriesForAggWidget)(e,OUR_HELPER_COLLECTION_ID),metadata:(0,d.getDerivedMetadata)(e)}}),(function(e){return{onLinkClick:function(t){return e(p.linkClicked(t))},onPlayPauseRequested:function(t,n){return e(f.playPauseRequested(t,n))},getStoriesByAggForContentWidgetsRequested:function(t,n,r){return e(s.getStoriesByAggForContentWidgetsRequested(t,n,r))},getStoriesByAggForContentWidgetsSkipped:function(){return e(s.getStoriesByAggForContentWidgetsSkipped())}}}))(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),d(n(118))),s=d(n(31)),u=d(n(189)),l=n(38),c=n(81);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props.id+":"+this.props.primaryAudioId,t=(0,c.getExperimentId)(),n=(0,c.getVariationId)(),r=String(this.props.index+1);return o.default.createElement("div",{className:"story with-image "+(this.props.slugId?"gradient-"+this.props.slugId:"")+" "+(this.props.hasAudio?"has-audio":""),href:this.props.url},o.default.createElement("figure",{className:"thumb-image"},o.default.createElement(s.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:l.TESTING_CLICK,variationId:n,experementId:t,clickType:"image",clickName:"audio nonbranded podcast title click",clickPosition:r,clickUrl:this.props.url}},(0,i.default)(this.props.logoImageHtml))),o.default.createElement("div",null,this.props.slug?o.default.createElement(s.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:l.TESTING_CLICK,variationId:n,experementId:t,clickType:"slug",clickName:"audio nonbranded podcast title click",clickPosition:r,clickUrl:this.props.url}},o.default.createElement("h2",{className:"slug"},this.props.slug)):null,this.props.metadata&&this.props.metadata[e]&&o.default.createElement("ol",null,o.default.createElement(u.default,{playedFrom:"audio widget",key:this.props.primaryAudioId,onAddToQueue:function(){},onRemoveFromQueue:function(){},onPlayPauseRequested:this.props.onPlayPauseRequested,onLinkClick:this.props.onLinkClick,audio:this.props.metadata[e],isSmallBreakpoint:!1,isRecommendation:!1,shouldShowRemoveLink:!1,isForNPROneMixCard:!1,isAwaitingData:!1,titleClickMetrics:{category:"testing",action:l.TESTING_CLICK,variationId:n,experementId:t,clickType:"audio title",clickName:"audio nonbranded podcast title click",clickPosition:r,clickUrl:this.props.url}}))))}}]),t}(a.Component);t.default=p,p.defaultProps={id:"",url:"",slug:"",slugUrl:"",title:"",primaryImageHtml:"",logoImageHtml:"",hasAudio:!1,primaryAudioId:"",metadata:{},onLinkClick:function(){},onPlayPauseRequested:function(){},index:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=E(a),i=(E(n(4)),n(10)),s=_(n(66)),u=n(80),l=n(15),c=E(n(608)),d=n(64),p=_(n(90)),f=_(n(28));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoriesByAggForContentWidgetsRequested=function(e,t){n.props.stories||n.props.stories.length<u.CONTENT_WIDGETS_LIMIT?n.props.getStoriesByAggForContentWidgetsRequested(e,t,!0):n.props.getStoriesByAggForContentWidgetsSkipped()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.getStoriesByAggForContentWidgetsRequested(u.OUR_AUDIO_HELPER_COLLECTION_ID,u.CONTENT_WIDGETS_LIMIT)}},{key:"render",value:function(){return o.default.createElement("div",{className:"right-rail-widget audio-non-branded-episode-headline"},o.default.createElement("div",{className:"audio-non-branded-episode-headline-widget__body-with-image-widget__body"},o.default.createElement("div",{className:"audio-widget-header"},o.default.createElement("h1",null,"Podcasts"),o.default.createElement("a",{href:"/podcasts-and-shows/"},"More")),this.getStories(this.props.stories)))}},{key:"getStories",value:function(e){var t=this;if(e)return e.map((function(e,n){return o.default.createElement(c.default,{key:n,id:e.id,slug:e.slug,slugUrl:e.slugUrl,slugId:e.slugId,url:e.url,title:e.title,primaryImageHtml:e.primaryImageHtml,logoImageHtml:e.logoImageHtml,hasAudio:e.hasPrimaryAudio,primaryAudioId:e.primaryAudioId?e.primaryAudioId:"",metadata:t.props.metadata,onLinkClick:t.props.onLinkClick,onPlayPauseRequested:t.props.onPlayPauseRequested,index:n})}))}}]),t}(a.Component);m.defaultProps={isAudioLoaded:!1,stories:[],metadata:{},getStoriesByAggForContentWidgetsRequested:function(){},getStoriesByAggForContentWidgetsSkipped:function(){},onLinkClick:function(){},onPlayPauseRequested:function(){}};t.default=(0,i.connect)((function(e){return{isAudioLoaded:(0,l.getIsAudioLoadedForAggWidget)(e,u.OUR_AUDIO_HELPER_COLLECTION_ID),stories:(0,l.getStoriesForAggWidget)(e,u.OUR_AUDIO_HELPER_COLLECTION_ID),metadata:(0,d.getDerivedMetadata)(e)}}),(function(e){return{onLinkClick:function(t){return e(p.linkClicked(t))},onPlayPauseRequested:function(t,n){return e(f.playPauseRequested(t,n))},getStoriesByAggForContentWidgetsRequested:function(t,n,r){return e(s.getStoriesByAggForContentWidgetsRequested(t,n,r))},getStoriesByAggForContentWidgetsSkipped:function(){return e(s.getStoriesByAggForContentWidgetsSkipped())}}}))(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),i=(d(n(4)),d(n(118))),s=d(n(31)),u=d(n(189)),l=n(38),c=n(81);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props.id+":"+this.props.primaryAudioId,t=(0,c.getExperimentId)(),n=(0,c.getVariationId)(),r=String(this.props.index+1),a=this.props.metadata&&this.props.metadata[e]?this.props.metadata[e]:null;return a&&(a.title=this.props.slug,a.storyUrl=this.props.slugUrl),o.default.createElement("div",{className:"story with-image "+(this.props.slugId?"gradient-"+this.props.slugId:"")+" "+(this.props.hasAudio?"has-audio":""),href:this.props.url},o.default.createElement("div",null,o.default.createElement("figure",{className:"thumb-image"},o.default.createElement(s.default,{href:this.props.slugUrl,metricsGA4:{category:"testing",action:l.TESTING_CLICK,variationId:n,experementId:t,clickType:"image",clickName:"audio nonbranded episode headline click",clickPosition:r,clickUrl:this.props.url}},(0,i.default)(this.props.logoImageHtml))),o.default.createElement(s.default,{href:this.props.url,metricsGA4:{category:"testing",action:l.TESTING_CLICK,variationId:n,experementId:t,clickType:"story",clickName:"audio nonbranded episode headline click",clickPosition:r,clickUrl:this.props.url}},o.default.createElement("h3",null,this.props.title)),a&&o.default.createElement("ol",null,o.default.createElement(u.default,{playedFrom:"audio widget",key:this.props.primaryAudioId,onAddToQueue:function(){},onRemoveFromQueue:function(){},onPlayPauseRequested:this.props.onPlayPauseRequested,onLinkClick:this.props.onLinkClick,audio:this.props.metadata[e],isSmallBreakpoint:!1,isRecommendation:!1,shouldShowRemoveLink:!1,isForNPROneMixCard:!1,isAwaitingData:!1,titleClickMetrics:{category:"testing",action:l.TESTING_CLICK,variationId:n,experementId:t,clickType:"audio title",clickName:"audio nonbranded episode headline click",clickPosition:r,clickUrl:this.props.url}}))))}}]),t}(a.Component);t.default=p,p.defaultProps={id:"",url:"",slug:"",slugUrl:"",title:"",primaryImageHtml:"",logoImageHtml:"",hasAudio:!1,primaryAudioId:"",metadata:{},onLinkClick:function(){},onPlayPauseRequested:function(){},index:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectRightRail=u,t.init=function(e){s=e,u()};var r=i(n(8)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(66)),o=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var s=void 0;function u(){(0,r.default)(document).on("npr:addWidgetsToRightRail",(function(e){e&&e.detail&&e.detail.widgets&&(o.default.info("ContentWidgets: received event 'npr:addWidgetsToRightRail'",e.detail),e.detail.widgets.forEach((function(e){s(a.addWidgetToRightRail(e))})))}))}},function(e,t,n){"use strict";(function(e){var r,a;r=[n(20),n(8)],void 0===(a=function(e,t){var n=e.create();n.name="we-are-hiring",n.init=function(){NPR.serverVars.isHiring&&console.log("\n%cWe are hiring!\n\n%chttps://n.pr/tech-jobs\n","font-size: 22px; font-family: Helvetica, Arial, sans-serif;","font-size: 12px")},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},function(e,t,n){"use strict";var r=s(n(20)),a=s(n(41)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(612)),i=s(n(201));function s(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.default)(),l=r.default.create();l.name="data-consent",l.init=function(){document.addEventListener("npr:DataConsentChanged",(function(){u.dispatch(o.dataConsentUpdated()),i.default.get("OptanonConsent")&&(document.querySelector("body").classList.contains("id179878450")||document.querySelector("body").classList.contains("id609131973"))&&location.reload();var e=document.querySelectorAll('p[data-pym-loader] > iframe, div[id^="responsive-embed"] iframe');e&&e.forEach((function(e){e.contentWindow.postMessage("Data consent updated","https://apps.npr.org")}))}))},l.register()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataConsentUpdated=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.dataConsentUpdated=function(){return{type:r.DATA_CONSENT_UPDATED}}},function(e,t,n){"use strict";var r,a=n(20),o=(r=a)&&r.__esModule?r:{default:r},i=n(371),s=n(68),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s);var l=o.default.create();l.name="datadog",l.init=function(){var e,t,n,r,a;function o(){(0,s.hasConsentedTo)(s.TARGETING_AND_SPONSOR)?i.datadogLogs.setTrackingConsent("granted"):i.datadogLogs.setTrackingConsent("not-granted")}u.hasConsentedTo(u.PERFORMANCE_AND_ANALYTICS)&&(e=window,t=document,n="script",r="https://www.datadoghq-browser-agent.com/us1/v5/datadog-rum.js",e=e[a="DD_RUM"]=e[a]||{q:[],onReady:function(t){e.q.push(t)}},(a=t.createElement(n)).async=1,a.src=r,(r=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,r),window.DD_RUM.onReady((function(){window.DD_RUM.init({clientToken:"pub63e42b3ce719606847103322e6a74430",applicationId:"75de15e7-ede4-4f3b-a199-06c46938a11d",site:"datadoghq.com",service:"npr.org-website",env:NPR.ServerConstants.environment,version:"1.0.0",sessionSampleRate:.55,sessionReplaySampleRate:0,trackResources:!0,trackLongTasks:!0,trackUserInteractions:!0,defaultPrivacyLevel:"mask-user-input"})}))),i.datadogLogs.init({clientToken:"pub48d340e6a8698296fc77b6636cca6546",site:"datadoghq.com",forwardErrorsToLogs:!1,sessionSampleRate:100,env:NPR.ServerConstants.environment,trackingConsent:"not-granted",service:"www-render"}),"undefined"!=typeof NPR_OptanonWrapper&&!0===NPR_OptanonWrapper?o():document.addEventListener("npr:DataConsentAvailable",(function(){o()}))},l.register()},function(e,t,n){"use strict";s(n(1)),n(65),n(10);var r=s(n(8)),a=s(n(20)),o=s(n(41)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(194));function s(e){return e&&e.__esModule?e:{default:e}}var u=a.default.create();u.name="story-list-item-mounter";var l=(0,o.default)();u.init=function(){(0,r.default)(document).on("newPodcastEpisodes",(function(){return c(l)}))},u.register();var c=function(e){var t={};(0,r.default)("[data-podcast-episode-raw-type]").each((function(){var e=(0,r.default)(this).data("podcast-episode-raw-type"),n=(0,r.default)(this).data("podcast-episode-derived-plus-type"),a=(0,r.default)(this).data("podcast-channel-parent-id"),o=(0,r.default)(this).data("linked-story-id"),i=(0,r.default)(this).data("primary-audio-id");(0,r.default)(this).removeAttr("data-podcast-episode-raw-type"),(0,r.default)(this).removeAttr("data-podcast-episode-derived-plus-type"),(0,r.default)(this).removeAttr("data-podcast-channel-parent-id"),(0,r.default)(this).removeAttr("data-linked-story-id"),(0,r.default)(this).removeAttr("data-primary-audio-id"),t[o+":"+i]={podcastEpisodeRawType:e,podcastEpisodeDerivedPlusType:n,podcastChannelParentId:a}})),e.dispatch(i.additionalPodcastEpisodesMadeAvailableOnPage(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectEcosystem=E,t.detectRightRail=m,t.detectPage=g,t.init=function(e){f=e;var t=[E,g,m],n=function(){return t.map((function(e){return e()}))};(0,r.default)(document).on("npr:pageReceived",n),n()};var r=p(n(8)),a=p(n(5)),o=d(n(261)),i=d(n(366)),s=d(n(254)),u=d(n(28)),l=p(n(368)),c=d(n(151));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var f=void 0,_=void 0;function E(){var e=o.NEWS;(0,r.default)("body").hasClass("music")?e=o.MUSIC:(0,r.default)("body").hasClass("donation-portal")&&(e=o.DONATION),e!==_&&(_=e,f(i.ecosystemDetected(_)))}function m(){var e=(0,r.default)("body");e.hasClass("multimedia")||e.hasClass("tmplError")?(f(u.rightRailDetected(!1)),e.addClass("has-no-right-rail")):(f(u.rightRailDetected(!0)),e.removeClass("has-no-right-rail"))}function g(){var e=window.location.href,t=(0,r.default)("body"),n="undefined"!=typeof NPR?(0,a.default)(NPR,"serverVars.storyId",null):null,o="undefined"!=typeof NPR?(0,a.default)(NPR,"serverVars.programId",null):null,u=document.querySelector("#program-audio-module")?document.querySelector("#program-audio-module"):null,d=!!new URLSearchParams(window.location.search).get("forceOnAir"),p=document.querySelector("#program-audio__supporting-text p")?document.querySelector("#program-audio__supporting-text p"):null,_="undefined"!=typeof NPR?(0,a.default)(NPR,"serverVars.theme",null):null,E="undefined"!=typeof NPR?(0,a.default)(NPR,"serverVars.pageLayoutName",null):null,m="undefined"!=typeof NPR?(0,a.default)(NPR,"serverVars.bingeModeId",""):"";t.hasClass("id1002")?f(i.pageDetected(c.HOME_PAGE_NEWS,e)):t.hasClass("id1039")?f(i.pageDetected(c.HOME_PAGE_MUSIC,e)):(0,r.default)("ul.podcast-tools").length>0?f(i.pageDetected(c.PODCAST,e)):t.hasClass("tmplProgramMagazine")?f(s.programPageInitSucceeded(o,u,d,p)):f(i.pageDetected(c.UNKNOWN,e)),_&&f(i.themeDetected(_)),E&&f(i.layoutDetected(E)),f(i.bingeModeParamDetected(m)),t.hasClass("story-layout")&&n&&f(l.default.storyPageDetected(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SUBTYPE_YOUR_STATION:"yours",SUBTYPE_SEARCH:"search"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var a={getLocalStationsRequested:function(){return{type:r.GET_LOCAL_STATIONS_REQUESTED}},getLocalStationsSkipped:function(){return{type:r.GET_LOCAL_STATIONS_SKIPPED}},getLocalStationsSucceeded:function(e){return{type:r.GET_LOCAL_STATIONS_SUCCEEDED,payload:e}},preExistingLocalStationsDetected:function(){return{type:r.PRE_EXISTING_LOCAL_STATIONS_DETECTED}},getLocalStationsFailed:function(){return{type:r.GET_LOCAL_STATIONS_FAILED}},stationDataLoaded:function(e){return{type:r.STATION_DATA_LOADED,payload:e}},stationNetworkLookupRequested:function(e,t){return{type:r.STATION_NETWORK_LOOKUP_REQUESTED,payload:{stationId:e,subtype:t}}},stationNetworkResultsLoaded:function(e,t,n){return{type:r.STATION_NETWORK_RESULTS_LOADED,payload:{stationId:e,results:t,subtype:n}}},stationNetworkLookupFailed:function(e){return{type:r.STATION_NETWORK_LOOKUP_FAILED,payload:{subtype:e}}}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=l(n(42)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39)),i=n(193),s=l(n(250)),u=l(n(12));function l(e){return e&&e.__esModule?e:{default:e}}var c=o.STRIPE_SERVICE_HOST;t.default={getPaymentIntentToken:function(e){var t=c+"/transactions",n={method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return(0,a.default)(2e4,t,n).then((function(e){return e.ok?Promise.resolve(e.json()):429===e.status?Promise.reject(i.ERROR_FLAGS.TO_MANY_REQUEST):402===e.status?Promise.reject(i.ERROR_FLAGS.INVALID_DETAILS):Promise.reject(i.ERROR_FLAGS.UNAVAILABLE)})).catch((function(e){return u.default.info(e),Promise.reject("object"===(void 0===e?"undefined":r(e))||e.includes("TIMEOUT")?i.ERROR_FLAGS.UNAVAILABLE:e)}))},updateMetadata:function(e){var t=c+"/metadata",n={method:"PATCH",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return(0,a.default)(2e4,t,n).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(i.ERROR_FLAGS.UNAVAILABLE_COMMENT)})).catch((function(e){return Promise.reject(e)}))},getStationDonationType:function(e){var t=void 0;if(e)if(t="referral to station website",e.id)for(var n in s.default.stations)s.default.stations[n].id===e.id&&(t="on site donation form");else t="on site donation form";return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeAgo=function(e){var t=Math.floor(Date.now()/1e3)-e;if(t<0||!e)return"";if(t<60)return"a moment ago";if(t<3600){var n=Math.floor(t/60);return n+" minute"+(1===n?"":"s")+" ago"}if(t<86400){var r=Math.floor(t/3600);return r+" hour"+(1===r?"":"s")+" ago"}var a=Math.floor(t/86400);return a+" day"+(1===a?"":"s")+" ago"},t.isBlogArchived=function(e){if(e){var t=new Date(e);return new Date>t}return!1}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programScheduleRequested=function(){return{type:r.PROGRAM_SCHEDULE_REQUESTED}},t.programScheduleLoaded=function(e){return{type:r.PROGRAM_SCHEDULE_LOADED,payload:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.musicStreamsRequested=function(){return{type:r.MUSIC_STREAMS_REQUESTED}},t.musicStreamsRequestReceived=function(e){return{type:r.MUSIC_STREAMS_REQUEST_SUCCEEDED,payload:e}},t.musicStreamsStatusReset=function(){return{type:r.MUSIC_STREAMS_STATUS_RESET}},t.musicStreamsRequestFailed=function(){return{type:r.MUSIC_STREAMS_REQUEST_FAILED}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(44),o=(r=a)&&r.__esModule?r:{default:r};var i=["dmg_wmref_em.php","pdf","png","gif","jpg","jpeg","mp3","mp4","wav","mpeg","mov","rpm"],s=["/account/login","/account/logout","/account/logout-complete","/account/signup","/donations/support","/podcast.php","/rss.php"];function u(e){if(!this||void 0===this.length)return!1;var t=this.indexOf("?")>-1?this.split("?")[0]:this,n=t.endsWith("/")?t.substring(0,t.length-1):t;return n.substring(n.length-e.length).toLowerCase()===e.toLowerCase()}function l(e){return e.replace(/#.*/,"")}t.default={isNavigationEvent:function(e,t,n){if(n.href.indexOf("#")>-1&&l(n.href)===l(t.href))return!1;if(-1!==n.href.indexOf("javascript:void(0)"))return!1;if("http:"!==n.protocol&&"https:"!==n.protocol)return!1;if(e.isDefaultPrevented())return!1;var r=t.protocol+"//"+t.hostname,a=t.protocol+"//"+n.hostname;return!o.default.isNavigationBetweenSecureAndInsecure(r,a)},isExemptFromPersistentNavigation:function(e){return!!document.getElementsByTagName("body")[0].classList.contains("donation-portal")||s.some(u,e)},shouldOpenInNewTab:function(e,t,n){var r=e.currentTarget.getAttribute("target");return!!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)||(null!=r&&r.indexOf("_blank")>-1||(!(!document.getElementsByTagName("body")[0].classList.contains("donation-portal")||"/"===n.href)||(!!document.getElementsByTagName("body")[0].classList.contains("NPR-One")||(!(!n.pathname||!n.pathname.startsWith("/newsletter/")||-1!==n.pathname.indexOf("/subscribe")||-1!==n.pathname.indexOf("/unsubscribe")||-1!==n.pathname.indexOf("/userStatusData")||-1!==n.pathname.indexOf("/refresh"))||!o.default.shouldDomainBeMirrored(t.hostname,n.hostname)&&(t.hostname!==n.hostname||!0===i.some(u,n.href))))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(8),o=(r=a)&&r.__esModule?r:{default:r},i=n(630);var s=null,u=new i.Nanobar({bg:"#6d8ac4",id:"loading-bar"});function l(){(0,o.default)('<div id="loading-activity">').prependTo("body")}(0,o.default)(window).on("unload",(function(){u.go(100)})),t.default={progress:function(e){u.go(e),(0,o.default)("#loading-activity","body").remove(),clearTimeout(s),100!==e&&(s=setTimeout(l,1500))},activateMainContentArea:function(){(0,o.default)("main").css({opacity:1})},deactivateMainContentArea:function(){(0,o.default)("main").css({opacity:.6})}}},function(e,t,n){!function(e){e.Nanobar=function(){"use strict";var e,t,n,r,a,o,i={width:"100%",height:"4px",zIndex:9999,top:"0"},s={width:0,height:"100%",clear:"both",transition:"height .3s"};return e=function(e,t){var n;for(n in t)e.style[n]=t[n];e.style.float="left"},r=function(){var e=this,t=this.width-this.here;t<.1&&t>-.1?(a.call(this,this.here),this.moving=!1,100==this.width&&(this.el.style.height=0,setTimeout((function(){e.cont.el.removeChild(e.el)}),300))):(a.call(this,this.width-t/4),setTimeout((function(){e.go()}),16))},a=function(e){this.width=e,this.el.style.width=this.width+"%"},o=function(){var e=new t(this);this.bars.unshift(e)},(t=function(t){this.el=document.createElement("div"),this.el.style.backgroundColor=t.opts.bg,this.width=0,this.here=0,this.moving=!1,this.cont=t,e(this.el,s),t.el.appendChild(this.el)}).prototype.go=function(e){e?(this.here=e,this.moving||(this.moving=!0,r.call(this))):this.moving&&r.call(this)},(n=function(t){var n,r=this.opts=t||{};r.bg=r.bg||"#000",this.bars=[],n=this.el=document.createElement("div"),e(this.el,i),r.id&&(n.id=r.id),n.style.position=r.target?"relative":"fixed",r.target?r.target.insertBefore(n,r.target.firstChild):document.getElementsByTagName("body")[0].appendChild(n),o.call(this)}).prototype.go=function(e){this.bars[0].go(e),100==e&&o.call(this)},n}(),e.Nanobar}(t)},function(e,t,n){var r=n(8);
/*!
 * Copyright 2012, Chris Wanstrath
 * Released under the MIT License
 * https://github.com/defunkt/jquery-pjax
 */!function(e){function t(t,r,a){var o=this;return this.on("click.pjax",t,(function(t){var i=e.extend({},h(r,a));i.container||(i.container=e(this).attr("data-pjax")||o),n(t,i)}))}function n(t,n,r){r=h(n,r);var a=t.currentTarget;if("A"!==a.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==a.protocol||location.hostname!==a.hostname||a.href.indexOf("#")>-1&&y(a)==y(location)||t.isDefaultPrevented())){var i={url:a.href,container:e(a).attr("data-pjax"),target:a},s=e.extend({},i,r),u=e.Event("pjax:click");e(a).trigger(u,[s]),u.isDefaultPrevented()||(o(s),t.preventDefault(),e(a).trigger("pjax:clicked",[s]))}}function a(t,n,r){r=h(n,r);var a=t.currentTarget;if("FORM"!==a.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var i={type:a.method.toUpperCase(),url:a.action,container:e(a).attr("data-pjax"),target:a};if("GET"!==i.type&&void 0!==window.FormData)i.data=new FormData(a),i.processData=!1,i.contentType=!1;else{if(e(a).find(":file").length)return;i.data=e(a).serializeArray()}o(e.extend({},i,r)),t.preventDefault()}function o(t){t=e.extend(!0,{},e.ajaxSettings,o.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var n,r=t.target,a=g(t.url).hash,i=t.context=v(t.container);function u(t,n,a){a||(a={}),a.relatedTarget=r;var o=e.Event(t,a);return i.trigger(o,n),!o.isDefaultPrevented()}t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:i.selector}):t.data._pjax=i.selector,t.beforeSend=function(e,r){if("GET"!==r.type&&(r.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",i.selector),!u("pjax:beforeSend",[e,r]))return!1;r.timeout>0&&(n=setTimeout((function(){u("pjax:timeout",[e,t])&&e.abort("timeout")}),r.timeout),r.timeout=0);var o=g(r.url);a&&(o.hash=a),t.requestUrl=m(o)},t.complete=function(e,r){n&&clearTimeout(n),u("pjax:complete",[e,r,t]),u("pjax:end",[e,t])},t.error=function(e,n,r){var a=T("",e,t),o=u("pjax:error",[e,n,r,t]);"GET"==t.type&&"abort"!==n&&o&&s(a.url)},t.success=function(n,r,l){var c=o.state,d="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,p=l.getResponseHeader("Content-Type");if(p&&-1!==p.indexOf("text/html")){var f=l.getResponseHeader("X-PJAX-Version");if(d&&f&&d!==f)s(t.requestUrl);else{var E=T(n,l,t),m=g(E.url);a&&(m.hash=a,E.url=m.href);var y=e(O(n.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));if(E.contents)if(!y||y.toArray().find((function(e){return e&&"object"==typeof e&&e.tagName&&"META"===e.tagName&&e.name&&"npr-pjax"===e.name}))){o.state={id:t.id||_(),url:E.url,title:E.title,container:i.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(o.state,E.title,E.url);try{document.activeElement.blur()}catch(e){}E.title&&(document.title=E.title),u("pjax:beforeReplace",[E.contents,l,t,function(){try{i.html(E.contents)}catch(e){window.location.reload()}var o=i.find("input[autofocus], textarea[autofocus]").last()[0];o&&document.activeElement!==o&&o.focus(),e("script[src][data-pjax-script]").remove(),function(t){if(!t)return;var n=e("script[src]");t.each((function(){var t=this.src;if(!n.filter((function(){return this.src===t})).length){var r=document.createElement("script"),a=e(this).attr("type");a&&(r.type=a),r.src=e(this).attr("src"),e(r).attr("data-pjax-script",!0),document.head.appendChild(r)}}))}(E.scripts);var s=t.scrollTo,c=!1;if(document.querySelector("body").classList.contains("liveBlog")&&(c=!0),a&&c&&window.location.hash&&(nprLiveBlogTargetHash=window.location.hash,window.history.replaceState(null,null,"#")),a&&!c){var d=decodeURIComponent(a.slice(1)),p=document.getElementById(d)||document.getElementsByName(d)[0];p&&(s=e(p).offset().top)}"number"==typeof s&&e(window).scrollTop(s),u("pjax:success",[n,r,l,t])}],{state:o.state,previousState:c})}else s(E.url);else s(E.url)}}else s(t.requestUrl)},o.state||(o.state={id:_(),url:window.location.href,title:document.title,container:i.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(o.state,document.title)),f(o.xhr),o.options=t;var l,c,d=o.xhr=e.ajax(t);return d.readyState>0&&(t.push&&!t.replace&&(l=o.state.id,c=E(i),A[l]=c,b.push(l),P(I,0),P(b,o.defaults.maxCacheLength),window.history.pushState(null,"",t.requestUrl)),u("pjax:start",[d,t]),u("pjax:send",[d,t])),o.xhr}function i(t,n){var r={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return o(e.extend(r,h(t,n)))}function s(e){window.history.replaceState(null,"",o.state.url),window.location.replace(e)}var u=!0,l=window.location.href,c=window.history.state;function d(t){u||f(o.xhr);var n,r=o.state,a=t.state;if(a&&a.container){if(u&&l==a.url)return;if(r){if(r.id===a.id)return;n=r.id<a.id?"forward":"back"}var i=A[a.id]||[],c=e(i[0]||a.container),d=i[1];if(c.length){r&&function(e,t,n){var r,a;A[t]=n,"forward"===e?(r=b,a=I):(r=I,a=b);r.push(t),(t=a.pop())&&delete A[t];P(r,o.defaults.maxCacheLength)}(n,r.id,E(c));const t=new CustomEvent("pjax:popstate",{detail:{state:a,direction:n}});document.dispatchEvent(t);var p={id:a.id,url:a.url,container:c,push:!1,fragment:a.fragment,timeout:a.timeout,scrollTo:!1};if(d){c.trigger("pjax:start",[null,p]),o.state=a,a.title&&(document.title=a.title);var _=e.Event("pjax:beforeReplace",{state:a,previousState:r});c.trigger(_,[d,p]);try{c.html(d)}catch(e){window.location.reload()}c.trigger("pjax:end",[null,p])}else o(p);c[0].offsetHeight}else s(location.href)}u=!1}function p(t){var n=e.isFunction(t.url)?t.url():t.url,r=t.type?t.type.toUpperCase():"GET",a=e("<form>",{method:"GET"===r?"GET":"POST",action:n,style:"display:none"});"GET"!==r&&"POST"!==r&&a.append(e("<input>",{type:"hidden",name:"_method",value:r.toLowerCase()}));var o=t.data;if("string"==typeof o)e.each(o.split("&"),(function(t,n){var r=n.split("=");a.append(e("<input>",{type:"hidden",name:r[0],value:r[1]}))}));else if(e.isArray(o))e.each(o,(function(t,n){a.append(e("<input>",{type:"hidden",name:n.name,value:n.value}))}));else if("object"==typeof o){var i;for(i in o)a.append(e("<input>",{type:"hidden",name:i,value:o[i]}))}e(document.body).append(a),a.submit()}function f(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function _(){return(new Date).getTime()}function E(e){var t=e.clone();return t.find("script").each((function(){this.src||r._data(this,"globalEval",!1)})),[e.selector,t.contents()]}function m(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function g(e){var t=document.createElement("a");return t.href=e,t}function y(e){return e.href.replace(/#.*/,"")}function h(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=v(n.container)),n}function v(t){if((t=e(t)).length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function S(e,t){return e.filter(t).add(e.find(t))}function O(t){return e.parseHTML(t,document,!0)}function T(t,n,r){var a={},o=/<html/i.test(t),i=n.getResponseHeader("X-PJAX-URL");if(a.url=i?m(g(i)):r.requestUrl,o)var s=e(O(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),u=e(O(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else s=u=e(O(t));if(0===u.length)return a;if(a.title=S(s,"title").last().text(),r.fragment){if("body"===r.fragment)var l=u;else l=S(u,r.fragment).first();l.length&&(a.contents="body"===r.fragment?l:l.contents(),a.title||(a.title=l.attr("title")||l.data("title")))}else o||(a.contents=u);return a.contents&&(a.contents=a.contents.not((function(){return e(this).is("title")})),a.contents.find("title").remove(),a.scripts=S(a.contents,"script[src]").remove(),a.contents=a.contents.not(a.scripts)),a.title&&(a.title=e.trim(a.title)),a}c&&c.container&&(o.state=c),"state"in window.history&&(u=!1);var A={},I=[],b=[];function P(e,t){for(;e.length>t;)delete A[e.shift()]}function R(){return e("meta").filter((function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()})).attr("content")}function D(){e.fn.pjax=t,e.pjax=o,e.pjax.enable=e.noop,e.pjax.disable=N,e.pjax.click=n,e.pjax.submit=a,e.pjax.reload=i,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:R},e(window).on("popstate.pjax",d)}function N(){e.fn.pjax=function(){return this},e.pjax=p,e.pjax.enable=D,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",d)}e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?D():N()}(r),e.exports=r.fn.pjax},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){0;return(0,a.createStore)(i.default,e,Y)};var a=n(382),o=V(n(715)),i=V(n(15)),s=n(665),u=n(666),l=V(n(667)),c=n(668),d=n(669),p=n(205),f=n(671),_=n(672),E=n(673),m=n(675),g=n(676),y=n(680),h=n(681),v=n(378),S=n(682),O=n(683),T=n(684),A=n(687),I=n(690),b=n(693),P=n(695),R=n(696),D=n(697),N=n(699),w=n(700),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),L=n(701),M=n(702),k=n(249),U=n(705),x=n(708),F=n(365),G=n(709),j=n(711),B=n(171),H=n(712),W=n(714);function V(e){return e&&e.__esModule?e:{default:e}}var Y=("object"===("undefined"==typeof window?"undefined":r(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({actionsBlacklist:[C.TIMER],maxAge:50}):a.compose)((0,a.applyMiddleware)(o.default,g.persistentState,u.outsideDOM,l.default,c.playlistUnwrapper,d.nowOnStreams,_.newscast,f.history,w.paneNavigation,B.listeningService,E.initialize,m.stateCorrection,N.playerPlatformInteractions,p.sponsorship,(0,y.metrics)(I.track),(0,y.metrics)(b.track),h.globalMetrics,v.userLoader,S.contentWidgets,O.stations,A.storyPage,P.dropdowns,R.localStories,D.notifyMobileNative,L.globalAlerts,M.googletag,k.onPageCallouts,U.musicStreams,T.spikingStories,x.donations,F.dataManagementPlatform,G.localization,j.piano,s.programData,H.liveBlog,W.plusContentBehavior))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.AUDIO_ERROR:case o.AUDIO_EXPIRED:case o.METADATA_INVALIDATED:return(0,a.default)(e,(function(e){return(0,r.default)(e,t.payload.uid)}));default:return e}};var r=i(n(154)),a=i(n(267)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));function i(e){return e&&e.__esModule?e:{default:e}}var s={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(2)),o=i(n(147));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={currentPane:o.ON_DEMAND,currentSubpane:o.SUBPANE_NPR_ONE_MIX};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.PANE_CHANGE_DIRECT:case a.PANE_CHANGE_WITH_EXPAND:return r({},e,{currentPane:t.payload});case a.SUBPANE_CHANGE_DIRECT:var n=t.payload.pane;return r({},e,{currentSubpane:n});case a.SUBPANE_CHANGE_WITH_EXPAND:var o=t.payload.pane;return r({},e,{currentSubpane:o});default:return e}},getCurrentPane:function(e){return e.currentPane},getCurrentSubpane:function(e){return e.currentSubpane}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(5)),o=c(n(386)),i=l(n(2)),s=c(n(372)),u=l(n(56));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={};function f(e){return(0,a.default)(e,"org",null)}t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case i.STATE_LOADED:var n=t.payload.state.org;return n?(0,o.default)(n,(function(e,t,n){t.lastUpdated&&"string"==typeof t.lastUpdated&&Date.now()-Date.parse(t.lastUpdated)<4*s.default.ONE_HOUR&&(e[n]=t)})):e;case i.STATION_DATA_LOADED:var a=t.payload.id;return r({},e,d({},a,r({},e[a],t.payload)));case i.PROGRAM_SCHEDULE_LOADED:var u=t.payload,l=u.orgId,c=u.programId,f=u.programSchedule;return e[l]?Object.assign({},e,d({},l,Object.assign({},e[l],{programs:d({},c,{schedule:f})}))):e;default:return e}},getOrg:f,getOrgById:function(e,t){var n=f(e),r=null;return t&&t!==u.NPR&&n&&(r=(0,a.default)(n,t,null)),r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(2)),o=s(n(261)),i=s(n(151));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={ecosystem:o.NEWS,currentPage:i.UNKNOWN,currentHref:"",renderingForMobileNative:!1,bingeModeId:"",currentThemeId:"",currentLayoutName:""};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.ECOSYSTEM_DETECTED:return r({},e,{ecosystem:t.payload});case a.PAGE_DETECTED:return r({},e,{currentPage:t.payload.type,currentHref:t.payload.href});case a.THEME_DETECTED:return r({},e,{currentThemeId:t.payload.themeId});case a.LAYOUT_DETECTED:return r({},e,{currentLayoutName:t.payload.layoutName});case a.BINGE_MODE_PARAM_DETECTED:return r({},e,{bingeModeId:t.payload.bingeModeId});case a.MOBILE_NATIVE_DETECTED:return r({},e,{renderingForMobileNative:!0});default:return e}},getCurrentPage:function(e){return e.site.currentPage},getBingeModeId:function(e){return e.site.bingeModeId}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var o={isCurrentPageSpiking:!1,spikingPages:[],areSpikingStoriesDetermined:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SPIKING_STORIES_REQUESTED:return r({},e);case a.SPIKING_STORIES_SUCCEEDED:return r({},e,{spikingPages:t.payload});case a.SPIKING_STORIES_FAILED:return r({},e,{isCurrentPageSpiking:!1,areSpikingStoriesDetermined:!0});case a.SPIKING_STORY_DETECTED:return r({},e,{isCurrentPageSpiking:!0,areSpikingStoriesDetermined:!0});case a.SPIKING_STORY_NOT_DETECTED:return r({},e,{isCurrentPageSpiking:!1,areSpikingStoriesDetermined:!0});default:return e}},getIsCurrentPageSpiking:function(e){return e.spikingStories.isCurrentPageSpiking}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(383),s=(r=i)&&r.__esModule?r:{default:r};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={widgets:[],storiesByAggForWidgets:{},isAudioLoadedByAggForWidgets:{}};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.PAGE_DETECTED:return a({},e,{widgets:[]});case o.ADD_WIDGET_TO_RIGHT_RAIL:return t.payload.widget?a({},e,{widgets:(0,s.default)([t.payload.widget],e.widgets)}):e;case o.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SUCCEEDED:return t.payload.aggId&&t.payload.aggStories?a({},e,{storiesByAggForWidgets:a({},e.storiesByAggForWidgets,u({},t.payload.aggId,t.payload.aggStories))}):e;case o.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_SUCCEEDED:return t.payload.aggId?a({},e,{isAudioLoadedByAggForWidgets:a({},e.isAudioLoadedByAggForWidgets,u({},t.payload.aggId,!0))}):e;case o.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_FAILED:return t.payload.aggId?a({},e,{isAudioLoadedByAggForWidgets:a({},e.isAudioLoadedByAggForWidgets,u({},t.payload.aggId,!1))}):e;default:return e}},getCurrentRightRailWidgets:function(e){return e.widgets},getStoriesByAggIdForWidgets:function(e){return e.storiesByAggForWidgets},getIsAudioLoadedByAggIdForWidgets:function(e){return e.isAudioLoadedByAggForWidgets},getStoriesForAggWidget:function(e,t){return e.storiesByAggForWidgets[t]?e.storiesByAggForWidgets[t]:[]},getIsAudioLoadedForAggWidget:function(e,t){return!!e.isAudioLoadedByAggForWidgets[t]&&e.isAudioLoadedByAggForWidgets[t]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=p(n(5)),o=p(n(387)),i=d(n(2)),s=d(n(24)),u=n(119),l=n(208),c=n(110);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var f={};function _(e){var t={};return e&&e.uid&&(t[e.uid]=e),t}function E(e,t){var n=t.map(_);return Object.assign.apply(Object,[{},e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)))}function m(e,t){return Object.assign({},e,(n={},r=t.uid,a=Object.assign({},e[t.uid],t),r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n));var n,r,a}function g(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Object.assign({},e[n]),delete t[n].contentUrl);return t}function y(e){return(0,a.default)(e,"metadata",null)}t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.STATE_LOADED:if(!t.payload.state.metadata)return e;var n=t.payload,a=n.stateTime,c=n.currentTime;return(0,l.isWithinContinuityPeriod)(a,c)?r({},e,g(t.payload.state.metadata)):e;case i.SPONSORSHIP_STARTED:return t.payload.uid in e?e:E(e,[(0,u.getNewMetadataOfType)(t.payload.uid,s.SPONSORSHIP)]);case i.METADATA_LOADED:case i.PROMO_CARD_AUDIO_METADATA_LOADED:case i.SPONSORSHIP_LOADED:return E(e,[t.payload]);case i.METADATAS_LOADED:return E(e,t.payload);case i.AGG_LOADED:return E(e,t.payload.segments);case i.NOW_PLAYING_LOADED:case i.CONTAINER_UNWRAPPED:case i.AUDIO_DURATION_CHANGE:return t.payload.uid in e?m(e,t.payload):E(e,[t.payload]);case i.METADATA_UNLOADED:return(0,o.default)(e,t.payload.uid);case i.METADATAS_UNLOADED:return(0,o.default)(e,t.payload);case i.AUDIO_ERROR:case i.AUDIO_EXPIRED:case i.METADATA_INVALIDATED:return t.payload.uid in e?m(e,{uid:t.payload.uid,available:!1,unavailableText:t.meta?t.meta.reason:""}):e;default:return e}},getMetadata:y,getAvailableLocalNewscastId:function(e,t){var n=y(e),r=!1;return n&&(r=!!n[(0,c.getNewscastUidForOrg)(t)]),r?t:0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],n=void 0;switch(t.type){case r.NOW_ON_STREAMS_REGISTRATION_REQUESTED:n=t.payload.uid;var i=e.hasOwnProperty(n)?e[n]+1:1;return Object.assign({},e,a({},n,i));case r.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED:if(n=t.payload.uid,!e.hasOwnProperty(n)||e[n]<=1){var s=Object.assign({},e);return delete s[n],s}return Object.assign({},e,a({},n,e[n]-1));default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.TIMER:return Object.assign({},e,{now:t.payload.now});default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var a={now:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(154),i=(r=o)&&r.__esModule?r:{default:r},s=p(n(2)),u=p(n(24)),l=p(n(152)),c=n(111),d=n(150);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _={headPosition:1,content:[]},E=function(e){return e.isReplayable&&e.type===u.SEGMENT&&!l.PROMO_ONLY_AUDIO_LIST.includes(e.uid)&&!(0,c.isNewscastAudio)(e)&&e.rawType==d.audioType};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments[1],n=void 0;switch(t.type){case s.STATE_LOADED:return t.payload.state.history?t.payload.state.history:e;case s.PLAY_PAUSE_REQUESTED:var r=t.payload.uid,o=e.content[e.headPosition];return r!==o?a({},e,{headPosition:1}):e;case s.AUDIO_PLAYING_STATUS_DIRECT:return E(t.payload.metadata)?((n=e.content.slice().filter((function(e){return e!==t.payload.metadata.uid})).slice(0,99)).unshift(t.payload.metadata.uid),a({},e,{content:n})):e;case s.CLEAR_HISTORY_REQUESTED:return _;case s.AUDIO_ERROR:case s.AUDIO_EXPIRED:case s.METADATA_INVALIDATED:case s.METADATA_UNLOADED:return a({},e,{headPosition:1,content:(0,i.default)(e.content,t.payload.uid)});case s.INCREMENT_AUDIO_HISTORY_HEAD:return a({},e,{headPosition:e.headPosition+1});case s.AUDIO_COMPLETE:case s.SKIP:case s.SPONSORSHIP_INTERRUPTED:case s.SPONSORSHIP_CLICKED_THROUGH:return a({},e,{headPosition:1});case s.METADATAS_UNLOADED:case s.HISTORY_ITEMS_UNLOADED:return a({},e,{headPosition:1,content:i.default.apply(void 0,[e.content].concat(f(t.payload)))});default:return e}},getPlayerHistory:function(e){return e.content},getCurrentPlayerHistoryHeadPosition:function(e){return e.headPosition}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindParams=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["{","}"],r=e;return t.forEach((function(t,a){r=e.replace(n[0]+a+n[1],t)})),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=p(n(5)),o=p(n(168)),i=p(n(266)),s=d(n(2)),u=d(n(150)),l=n(145),c=n(208);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _=Date.now()/1e3,E={activeRating:null,overridePostUrl:"",currentPostUrl:"",activeFlowRecommendations:[],historyVisualRecommendations:[],playlistVisualRecommendations:[],stagedBatchedRatings:[],currentFlowTypeKey:"",currentChannel:"",stagedNextFlowTypeKeys:[],nextUrlMap:{testKey:{dateTime:"",url:""}},currentPlaylistEtag:"",currentPlaylistId:u.LISTENING_DEFAULT_PLAYLIST_UID,currentPlaylistUids:[],lastPostTimestamp:_,playMode:u.ON_DEMAND_PLAY_MODE,isAutoplayEnabled:!0,isWorkingOnPlaylistUpdate:!1,shouldAllowSingleRecommendationFollowUp:!1},m=function(e){return e.currentFlowTypeKey.startsWith(u.playlistFlowPrefix)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=(0,i.default)(e);return r.filter((function(e){var r=e.listeningRelation&&e.listeningRelation.startsWith(u.playlistFlowPrefix)&&t.includes(e.uid)&&!n.includes(e.uid);return n.push(e.uid),r})).sort((function(e,n){return t.indexOf(e.uid)-t.indexOf(n.uid)}))};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1];switch(t.type){case s.STATE_LOADED:if(t.payload.state.listeningService){var n=t.payload,d=n.stateTime,p=n.currentTime;return(0,c.isWithinContinuityPeriod)(d,p)?r({},e,{activeRating:(0,a.default)(t,"payload.state.listeningService.activeRating",E.activeRating),currentPostUrl:(0,a.default)(t,"payload.state.listeningService.currentPostUrl",E.currentPostUrl),activeFlowRecommendations:u.filterNonSegmentContentRecommendations((0,a.default)(t,"payload.state.listeningService.activeFlowRecommendations",E.activeFlowRecommendations)),playlistVisualRecommendations:u.filterNonSegmentContentRecommendations((0,a.default)(t,"payload.state.listeningService.playlistVisualRecommendations",E.playlistVisualRecommendations)),currentPlaylistUids:(0,a.default)(t,"payload.state.listeningService.currentPlaylistUids",E.currentPlaylistUids),currentPlaylistEtag:(0,a.default)(t,"payload.state.listeningService.currentPlaylistEtag",E.currentPlaylistEtag),currentPlaylistId:(0,a.default)(t,"payload.state.listeningService.currentPlaylistId",E.currentPlaylistId),currentFlowTypeKey:(0,a.default)(t,"payload.state.listeningService.currentFlowTypeKey",E.currentFlowTypeKey),currentChannel:(0,a.default)(t,"payload.state.listeningService.currentChannel",E.currentChannel),nextUrlMap:(0,a.default)(t,"payload.state.listeningService.nextUrlMap",E.nextUrlMap),isAutoplayEnabled:(0,a.default)(t,"payload.state.listeningService.isAutoplayEnabled",E.isAutoplayEnabled),playMode:(0,a.default)(t,"payload.state.listeningService.playMode",E.playMode)}):e}return e;case s.LOGOUT_RESET_FLOW_STATE_REQUESTED:case s.INITIALIZE_FLOW_STATE:case s.RESET_FLOW_STATE_FOR_NEW_TOKEN:case s.RESET_FLOW_STATE:return r({},E);case s.ENABLE_CONTINUOUS_LISTENING:return r({},e,{isAutoplayEnabled:!0});case s.DISABLE_CONTINUOUS_LISTENING:return r({},e,{isAutoplayEnabled:!1});case s.GET_PROMO_CARD_AUDIO_AND_SUBSEQUENTLY_PLAY_REQUESTED:var _=r({},e),y=(0,a.default)(t,"payload",0);if(e.activeRating){var h=(0,i.default)(e.activeRating);h.rating=u.tapthruRating,h.timestamp=(0,l.toRfc3339)(new Date),h.elapsed=y,_.stagedBatchedRatings.push(h)}return _;case s.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_COMPLETE:var v=r({},e);if(e.activeRating){var S=(0,i.default)(e.activeRating);S.rating=u.completedRating,S.timestamp=(0,l.toRfc3339)(new Date),S.elapsed=S.duration||0,v.stagedBatchedRatings.push(S)}return e.isAutoplayEnabled||m(e)||(v.playMode=u.ON_DEMAND_PLAY_MODE),v.activeRating=null,v;case s.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_SKIP:var O=(0,a.default)(t,"payload",0),T=r({},e);if(e.activeRating){var A=(0,i.default)(e.activeRating);A.rating=u.skipRating,A.timestamp=(0,l.toRfc3339)(new Date),A.elapsed=O,T.stagedBatchedRatings.push(A)}return e.isAutoplayEnabled||m(e)||(T.playMode=u.ON_DEMAND_PLAY_MODE),T.activeRating=null,T;case s.ADVANCE_AND_PLAY_TOP_OF_FLOW_FROM_AUDIO_ERROR:var I=(0,a.default)(t,"payload",0),b=r({},e);if(e.activeRating){var P=(0,i.default)(e.activeRating);P.rating=u.bypassRating,P.timestamp=(0,l.toRfc3339)(new Date),P.elapsed=I,b.stagedBatchedRatings.push(P)}return e.isAutoplayEnabled||m(e)||(b.playMode=u.ON_DEMAND_PLAY_MODE),b.activeRating=null,b;case s.REFRESH_PLAYLIST_FLOW_RECOMMENDATIONS:case s.TRIGGER_RATINGS_HEARTBEAT:var R=r({},e),D=(0,a.default)(t,"payload",0);if(e.activeRating){var N=(0,i.default)(e.activeRating);N.timestamp=(0,l.toRfc3339)(new Date),N.elapsed=D,R.stagedBatchedRatings.push(N)}return R;case s.PLAY_TOP_OF_FLOW:var w=(0,o.default)(e.activeFlowRecommendations)||null,C=r({},e,{shouldAllowSingleRecommendationFollowUp:!1});if(w&&w.rating){var L=(0,i.default)(w.rating),M=(0,a.default)(w,"postRecommendationsLink","");L.timestamp=(0,l.toRfc3339)(new Date),L.elapsed=0,C.stagedBatchedRatings.push(L),C.activeRating=L,M&&(C.currentPostUrl=M)}return C;case s.SEND_RATINGS_REQUESTED:var k=e.stagedBatchedRatings||[];if(k.length>0){var U=new Set(e.stagedBatchedRatings.map(JSON.stringify));k=Array.from(U).map(JSON.parse)}return r({},e,{stagedBatchedRatings:k});case s.SEND_RATINGS_SUCCEEDED:return r({},e,{overridePostUrl:"",stagedBatchedRatings:[],lastPostTimestamp:Date.now()/1e3});case s.SEND_RATINGS_FAILED:case s.RESET_OVERRIDE_POST_URL:return r({},e,{overridePostUrl:""});case s.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED:var x=e.isAutoplayEnabled?u.IN_FLOW_PLAY_MODE:u.ON_DEMAND_PLAY_MODE;return r({},e,{playMode:x});case s.GET_LISTENING_RECOMMENDATIONS_DEFAULT_ON_RAMP_SUCCEEDED:case s.GET_LISTENING_RECOMMENDATIONS_FROM_CHANNEL_ON_RAMP_SUCCEEDED:return r({},e,{playMode:u.IN_FLOW_PLAY_MODE,isAutoplayEnabled:!0});case s.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_WITH_BINGE_ON_RAMP_SUCCEEDED:case s.GET_LISTENING_RECOMMENDATIONS_BY_MEDIA_ID_ON_RAMP_SUCCEEDED:var F=e.isAutoplayEnabled?u.IN_FLOW_PLAY_MODE:u.ON_DEMAND_PLAY_MODE;return r({},e,{playMode:F});case s.ADVANCE_TOP_OF_FLOW_AND_PLAY:var G=e.isAutoplayEnabled,j=e.playMode;return j=m(e)?u.IN_PLAYLIST_PLAY_MODE:!G||e.shouldAllowSingleRecommendationFollowUp&&j===u.ON_DEMAND_PLAY_MODE?u.ON_DEMAND_PLAY_MODE:u.IN_FLOW_PLAY_MODE,r({},e,{playMode:j});case s.TOGGLE_PLAY:var B=t.meta&&("from playlist"==t.meta.playedFrom||"from pane playlist"==t.meta.playedFrom||"from initial state first item in queue"==t.meta.playedFrom),H=B?u.IN_PLAYLIST_PLAY_MODE:e.playMode;return r({},e,{playMode:H});case s.ON_RAMP_FLOW_RECOMMENDATIONS_RECEIVED:var W=t.payload,V=W.recommendations;W.playlistId,W.uids,W.etag;V=u.filterUnsupportedContentRecommendations(V);var Y=r({},e,{overridePostUrl:"",activeFlowRecommendations:V}),q=(0,o.default)(V)||{},Q=(0,a.default)(q,"listeningRelation",""),K=(0,a.default)(q,"flowChannel",""),z=e.activeFlowRecommendations,J=(0,o.default)(z)||{},X=e.currentFlowTypeKey||"";e.currentChannel;if(Q&&(Y.currentFlowTypeKey=Q),K&&(Y.currentChannel=K),Y.activeRating=null,X){var Z=(0,a.default)(J,"postRecommendationsLink","");if(Z){Y.stagedNextFlowTypeKeys.push(X);var $={dateTime:Date.now()/1e3,url:Z};Y.nextUrlMap[X]=$}}return Y;case s.FLOW_RECOMMENDATIONS_RECEIVED:var ee=t.payload,te=ee.recommendations,ne=ee.playlistId,re=ee.uids,ae=ee.etag;te=u.filterUnsupportedContentRecommendations(te);var oe=(0,o.default)(te)||{},ie=(0,a.default)(oe,"listeningRelation",""),se=(0,a.default)(oe,"flowChannel",""),ue=(e.currentFlowTypeKey,e.currentChannel,e.stagedNextFlowTypeKeys||[]);ue=(0,i.default)(ue);var le=r({},e,{overridePostUrl:"",currentPlaylistId:ne||e.currentPlaylistId,currentPlaylistUids:re||e.currentPlaylistUids,currentPlaylistEtag:ae||e.currentPlaylistEtag});return re&&e.playlistVisualRecommendations.length>0&&(le.playlistVisualRecommendations=g(e.playlistVisualRecommendations,re)),le.overridePostUrl?le.activeFlowRecommendations=[]:(le.activeFlowRecommendations=te,le.currentFlowTypeKey=ie,le.currentChannel=se),le;case s.ADD_STAGED_RATING_AND_SEND:var ce=t.payload,de=ce.rating,pe=ce.position,fe=r({},e),_e=(0,i.default)(de);return _e.timestamp=(0,l.toRfc3339)(new Date),_e.elapsed=pe||0,fe.stagedBatchedRatings.push(de),e;case s.LISTENING_HISTORY_SUCCEEDED:var Ee=t.payload;return r({},e,{historyVisualRecommendations:Ee});case s.RESET_PLAYLIST_VISUAL_STATE:return r({},e,{currentPlaylistId:E.currentPlaylistEtag,currentPlaylistEtag:E.currentPlaylistEtag,playlistVisualRecommendations:E.playlistVisualRecommendations,currentPlaylistUids:E.currentPlaylistUids,isWorkingOnPlaylistUpdate:!0});case s.DELETE_PLAYLIST_ITEMS_SUCCEEDED:case s.GET_PLAYLIST_UIDS_SUCCEEDED:case s.UPDATE_PLAYLIST_UIDS_SUCCEEDED:var me=t.payload,ge=me.playlistId,ye=me.uids,he=me.etag,ve=e.playlistVisualRecommendations,Se=g(ve,ye),Oe=r({},e,{currentPlaylistEtag:he,currentPlaylistId:ge,currentPlaylistUids:ye,playlistVisualRecommendations:Se});return Oe;case s.GET_PLAYLIST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED:var Te=t.payload,Ae=Te.playlistId,Ie=Te.recommendations,be=Te.uids,Pe=Te.etag,Re=r({},e,{currentPlaylistEtag:Pe,currentPlaylistId:Ae,currentPlaylistUids:be,playlistVisualRecommendations:Ie,playMode:u.IN_PLAYLIST_PLAY_MODE});return Re;case s.ADD_CHANNEL_TO_PLAYLIST_SUCCEEDED:case s.ADD_PLAYLIST_ITEMS_SUCCEEDED:var De=t.payload,Ne=De.playlistId,we=De.uids,Ce=De.etag,Le=r({},e,{currentPlaylistEtag:Ce,currentPlaylistId:Ne,currentPlaylistUids:we});return Le;case s.DELETE_PLAYLIST_ITEMS_REQUESTED:case s.ADD_PLAYLIST_ITEMS_TO_TOP_AND_PLAY_REQUESTED:case s.ADD_PLAYLIST_ITEMS_TO_TOP_REQUESTED:case s.ADD_CHANNEL_TO_PLAYLIST_REQUESTED:case s.ADD_PLAYLIST_ITEMS_REQUESTED:var Me=t.payload,ke=Me.playlistId,Ue=Me.etag,xe=r({},e,{currentPlaylistEtag:Ue||e.currentPlaylistEtag,currentPlaylistId:ke||e.currentPlaylistId});return xe;case s.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_SUCCEEDED:var Fe=t.payload,Ge=Fe.playlistId,je=Fe.recommendations,Be=Fe.uids,He=Fe.etag,We=(0,i.default)(e.playlistVisualRecommendations),Ve=We.concat(je),Ye=g(Ve,Be);return r({},e,{currentPlaylistEtag:He,currentPlaylistId:Ge,currentPlaylistUids:Be,playlistVisualRecommendations:Ye,isWorkingOnPlaylistUpdate:!1});case s.LOAD_VISUAL_PLAYLIST_RECOMMENDATIONS_FAILED:return r({},e,{isWorkingOnPlaylistUpdate:!1});case s.PLAY_AUDIO_FROM_PLAYLIST:var qe=t.payload,Qe=qe.uid,Ke=qe.startPosition,ze=r({},e,{playMode:u.IN_PLAYLIST_PLAY_MODE}),Je=e.playlistVisualRecommendations.find((function(e){return e.uid==Qe}));if(Je||(Je=e.activeFlowRecommendations.find((function(e){return e.uid==Qe}))),Je&&Je.rating){var Xe=(0,i.default)(Je),Ze=(0,a.default)(Xe,"postRecommendationsLink","");Xe.rating.timestamp=(0,l.toRfc3339)(new Date),Xe.rating.elapsed=Ke||0,ze.stagedBatchedRatings.push(Xe.rating),ze.activeRating=Xe.rating,ze.activeFlowRecommendations=[Xe],Ze&&(ze.currentPostUrl=Ze)}return ze;case s.ADD_FLOW_RECOMMENDATIONS_TO_PLAYLIST_VISUAL_RECOMMENDATIONS:var $e=t.payload,et=(0,i.default)(e.playlistVisualRecommendations);et.push.apply(et,f($e));var tt=g(et,e.currentPlaylistUids),nt=r({},e,{playlistVisualRecommendations:tt});return nt;case s.SPONSORSHIP_REQUESTED:var rt=!0;return r({},e,{shouldAllowSingleRecommendationFollowUp:rt});default:return e}},getActiveRating:function(e){return e.activeRating},getOverridePostUrl:function(e){return e.overridePostUrl},getCurrentPostUrl:function(e){return e.currentPostUrl},getActiveFlowRecommendations:function(e){return e.activeFlowRecommendations},getHistoryVisualRecommendations:function(e){return e.historyVisualRecommendations},getPlaylistVisualRecommendations:function(e){return e.playlistVisualRecommendations},isCurrentFlowTypePlaylist:m,isCurrentFlowTypeDefaultFlow:function(e){return e.currentFlowTypeKey.startsWith(u.ordinaryFlowPrefix)},isCurrentFlowTypeChannelFlow:function(e){return e.currentFlowTypeKey.startsWith(u.channelFlowPrefix)},isCurrentFlowTypeBinge:function(e){return e.currentFlowTypeKey.startsWith(u.bingeFlowPrefix)},getStagedBatchedRatings:function(e){return e.stagedBatchedRatings},getCurrentFlowTypeKey:function(e){return e.currentFlowTypeKey},getCurrentChannel:function(e){return e.currentChannel},getStagedNextFlowTypeKeys:function(e){return e.stagedNextFlowTypeKeys},getNextUrlMap:function(e){return e.nextUrlMap},getCurrentPlaylistEtag:function(e){return e.currentPlaylistEtag},getCurrentPlaylistId:function(e){return e.currentPlaylistId},getCurrentPlaylistUids:function(e){return e.currentPlaylistUids},getNextUrlForFlowTypeKey:function(e,t){return(0,a.default)(e,"nextUrlMap[key].url","")},getDateTimeForFlowTypeKey:function(e,t){return(0,a.default)(e,"nextUrlMap[key].dateTime","")},getLastPostTimestamp:function(e){return e.lastPostTimestamp},getPlayMode:function(e){return e.playMode},isAutoplayEnabled:function(e){return e.isAutoplayEnabled},isWorkingOnPlaylistUpdate:function(e){return e.isWorkingOnPlaylistUpdate},shouldAllowSingleRecommendationFollowUp:function(e){return e.shouldAllowSingleRecommendationFollowUp}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1],n=void 0,u=void 0;switch(t.type){case o.STATE_LOADED:if(!t.payload.state.sponsorship)return e;var d=t.payload,p=d.stateTime,_=d.currentTime;if((0,c.isWithinContinuityPeriod)(p,_)){var E=t.payload.state.sponsorship,m=E.lastPlayedTimestamp,g=E.videoLastPlayedTimestamp,y=t.payload.state.sponsorship.channel;return r({},e,{channel:y,lastPlayedTimestamp:m,videoLastPlayedTimestamp:g})}return e;case o.SPONSORSHIP_REQUESTED:return r({},e,{isFetchingSponsorship:!0});case o.VIDEO_PREROLL_ENDED:return r({},e,{videoLastPlayedTimestamp:Date.now()/1e3});case o.SPONSORSHIP_DIVS_RESET:return n=t.payload.resetSponsorshipDiv?"":e.sponsorshipDiv,u=t.payload.resetLeaveBehindDiv?"":e.leaveBehindDiv,r({},e,{numSlotsAvailable:0,sponsorshipDiv:n,leaveBehindDiv:u});case o.SPONSORSHIP_SLOT_AVAILABLE:return e.loadCustomAdBackground?e:r({},e,{numSlotsAvailable:e.numSlotsAvailable+1});case o.MOBILE_SPONSORSHIP_SLOT_AVAILABLE:return r({},e,{isMobileSponsorshipSlotAvailable:!0});case o.SPONSORSHIP_LOADED:return r({},e,{isFetchingSponsorship:!1});case o.AUDIO_PLAYED:return t.payload.type===i.SPONSORSHIP||t.payload.type===i.SOUNDSCAPES?r({},e,{isPlayingSponsorship:!0}):e;case o.AUDIO_COMPLETE:return r({},e,{sponsorshipDiv:"",isFetchingSponsorship:!1,isPlayingSponsorship:!1,loadCustomAdBackground:!1});case o.SPONSORSHIP_CLICKED_THROUGH:return r({},e,{sponsorshipDiv:"",mobileSponsorshipDiv:"",isFetchingSponsorship:!1,isPlayingSponsorship:!1,lastPlayedTimestamp:Date.now()/1e3,loadCustomAdBackground:!1,primaryThemeColor:"",secondaryThemeColor:""});case o.SPONSORSHIP_INTERRUPTED:return u=t.payload.retainLeaveBehind?e.leaveBehindDiv:"",r({},e,{sponsorshipDiv:"",mobileSponsorshipDiv:"",leaveBehindDiv:u,isFetchingSponsorship:!1,isPlayingSponsorship:!1,loadCustomAdBackground:!1});case o.SPONSORSHIP_STARTED:var h="";return n="",u="",t.payload.breakpoint===s.SMALL?h=(0,a.constructAdSlotName)(l.PLAYER_MOBILE_PRIMARY,t.payload.uid):(n=(0,a.constructAdSlotName)(l.PLAYER_PRIMARY,t.payload.uid),u=(0,a.constructAdSlotName)(l.PLAYER_LEAVEBEHIND,t.payload.uid)),r({},e,{numSlotsAvailable:0,sponsorshipDiv:n,leaveBehindDiv:u,mobileSponsorshipDiv:h,channel:""});case o.SOUNDSCAPES_LOADED:var v="";return t.payload.breakpoint!==s.SMALL&&(v=(0,a.constructAdSlotName)(l.PLAYER_PRIMARY,t.payload.metadata.uid)),r({},e,{primaryThemeColor:t.payload.metadata.primaryThemeColor,secondaryThemeColor:t.payload.metadata.secondaryThemeColor,sponsorshipDiv:v,loadCustomAdBackground:!0});case o.SPONSORSHIP_STATE_REVERTED:return f;default:return e}};var a=n(146),o=d(n(2)),i=d(n(24)),s=d(n(34)),u=d(n(357)),l=d(n(120)),c=n(208);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p=Date.now()/1e3-u.SPONSORSHIP_INTERVAL,f={numSlotsAvailable:0,isMobileSponsorshipSlotAvailable:!1,sponsorshipDiv:"",leaveBehindDiv:"",mobileSponsorshipDiv:"",isFetchingSponsorship:!1,isPlayingSponsorship:!1,channel:"",primaryThemeColor:"",secondaryThemeColor:"",loadCustomAdBackground:!1,lastPlayedTimestamp:p,videoLastPlayedTimestamp:p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(5),i=(r=o)&&r.__esModule?r:{default:r},s=d(n(2)),u=d(n(29)),l=d(n(68)),c=d(n(203));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p={view:{meta:{status:u.PENDING},data:{version:"",href:"",attributes:{id:0,email:"",firstName:"",lastName:"",cohort:{},organizations:[],affiliations:[],country:"",password:"",subscriptions:[]},items:[],links:{},errors:[]}},org:{id:0,isAutoLocalized:!1,status:u.PENDING},newsletter:{status:u.NOT_STARTED},oauth:{token:"",refreshToken:"",tokenType:"",grantType:"",updateDate:null,expiresIn:null},JWT:{token:"",expiration:"",email:""}};function f(e){return(0,i.default)(e,"user",null)}var _=function(e){return(0,i.default)(e,"view.data.attributes.entitlements",[])};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s.STATE_LOADED:return t.payload.state.user?(l.hasConsentedTo(l.FUNCTIONAL)||(t.payload.state.user.org=e.org),t.payload.state.user):e;case s.USER_VIEW_LOAD_COMPLETED:case s.MOBILE_NATIVE_USER_LOAD_SUCCEEDED:return a({},e,{view:a({},e.view,{data:t.payload,meta:a({},e.view.meta,{status:u.RESOLVED})})});case s.MOBILE_NATIVE_USER_MODEL_AND_TOKEN_RECEIVED:return a({},e,{view:a({},e.view,{data:t.payload.user,meta:a({},e.view.meta,{status:u.RESOLVED})})});case s.USER_VIEW_LOAD_FAILED:case s.MOBILE_NATIVE_USER_LOAD_FAILED:return a({},e,{view:a({},e.view,{meta:a({},e.view.meta,{status:u.FAILED})})});case s.STATION_CHANGE_COMPLETED:return a({},e,{org:a({},e.org,{id:t.payload.id,isAutoLocalized:!1,status:u.RESOLVED})});case s.STATION_AUTOLOCALIZED:return a({},e,{org:a({},e.org,{id:t.payload.id,isAutoLocalized:!0,status:u.RESOLVED})});case s.DEFAULT_ORG_RESOLVED:return a({},e,{org:a({},e.org,{id:p.org.id,status:u.RESOLVED})});case s.HAS_DETERMINED_USER_IS_ALREADY_LOCALIZED:return e;case s.ACCESS_TOKEN_RECEIVED:return a({},e,{oauth:a({},e.oauth,{token:t.payload.token,refreshToken:"",grantType:c.GRANT_TYPE_AUTHENTICATED,tokenType:"",updateDate:t.payload.updateDate,expiresIn:null})});case s.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED:return a({},e,{oauth:a({},e.oauth,{token:t.payload.token,refreshToken:"",grantType:t.payload.grantType,tokenType:"",updateDate:t.payload.updateDate,expiresIn:null})});case s.ANONYMOUS_ACCESS_TOKEN_RECEIVED:return a({},e,{oauth:a({},e.oauth,{token:t.payload.token,refreshToken:"",grantType:c.GRANT_TYPE_ANONYMOUS,tokenType:t.payload.tokenType,updateDate:t.payload.updateDate,expiresIn:t.payload.expiresIn}),view:a({},e.view,{data:a({},e.view.data,{attributes:a({},e.view.data.attributes,{id:t.payload.userId})})})});case s.USER_LOGOUT_COMPLETED:case s.ANONYMOUS_ACCESS_TOKEN_REQUEST_FAILED:return a({},e,{view:p.view,oauth:p.oauth});case s.NEWSLETTER_ACQUISITION_REQUESTED:return a({},e,{newsletter:a({},e.newsletter,{status:u.PENDING})});case s.NEWSLETTER_ACQUISITION_COMPLETED:return a({},e,{newsletter:a({},e.newsletter,{status:u.RESOLVED})});case s.NEWSLETTER_ACQUISITION_FAILED:return a({},e,{newsletter:a({},e.newsletter,{status:u.FAILED})});case s.PAGE_DETECTED:return a({},e,{newsletter:a({},e.newsletter,{status:u.NOT_STARTED})});case s.JWT_REQUEST_SUCCEEDED:return a({},e,{JWT:{token:t.payload.token,expiration:t.payload.expiration,email:t.payload.email}});case s.LOGOUT_DELETE_JWT_REQUESTED:case s.JWT_REQUEST_FAILED:return a({},e,{JWT:p.JWT});default:return e}},getUser:f,getUserOrgId:function(e){var t=f(e),n=null;t&&(n=(0,i.default)(t,"org",null));var r=null;return n&&(r=(0,i.default)(n,"id",null)),r},getUserEntitlements:_,isUserEntitledToPodcastChannelById:function(e,t){return _(e).filter((function(e){return e.contentId==t})).length>0},doesUserHaveAnyEntitlements:function(e){return _(e).length>0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.STATION_DROPDOWN_TOGGLED:return Object.assign({},e,{isStationDropdownExpanded:!e.isStationDropdownExpanded});case r.USER_ACCOUNT_ACCESS_MENU_DROPDOWN_TOGGLED:case r.PAGE_DETECTED:case r.CLOSE_SUBNAVS:return Object.assign({},e,{isStationDropdownExpanded:!1});default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var a={isStationDropdownExpanded:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.STATION_SEARCH_REQUESTED:return r({},e,{term:t.payload.term,status:o.PENDING});case a.STATION_SEARCH_RESULTS_LOADED:var n=t.payload,i=n.term,l=n.results;return r({},e,{status:o.RESOLVED,results:r({},e.results,s({},i,l)),selectedStationId:null});case a.STATION_SEARCH_FAILED:return r({},e,{status:o.FAILED,selectedStationId:null});case a.USER_SELECTS_STATION:var c=t.payload.id;return r({},e,{selectedStationId:c});default:return e}};var a=i(n(2)),o=i(n(29));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={term:"",status:o.NOT_STARTED,results:{},selectedStationId:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case a.STATE_LOADED:return r({},s);case a.END_OF_STORY_RECOMMENDATION_REQUESTED:return r({},e,{endOfStory:r({},e.endOfStory,{status:o.PENDING,recommendations:s.endOfStory.recommendations})});case a.END_OF_STORY_RECOMMENDATION_COMPLETED:return r({},e,{endOfStory:r({},e.endOfStory,{status:o.RESOLVED,recommendations:t.payload.recommendations})});case a.END_OF_STORY_RECOMMENDATION_FAILED:return r({},e,{endOfStory:r({},e.endOfStory,{status:o.FAILED,recommendations:s.endOfStory.recommendations})});case a.END_OF_STORY_RECOMMENDATIONS_RESET:return r({},s);default:return e}};var a=i(n(2)),o=i(n(29));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={endOfStory:{status:o.NOT_STARTED,recommendations:[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(2)),o=i(n(651));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={readStoryIds:[],currentStoryId:""};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.STATE_LOADED:return t.payload.state.storyHistory?t.payload.state.storyHistory:e;case a.STORY_PAGE_DETECTED:var n=t.payload.storyId,i=e.readStoryIds;return r({},e,{currentStoryId:n,readStoryIds:[t.payload.storyId].concat(i.filter((function(e){return e!==t.payload.storyId}))).slice(0,o.MAX_STORY_HISTORY_SIZE)});default:return e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_STORY_HISTORY_SIZE=500},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SESSION_LOADED:return r({},e,{source:t.payload.source,medium:t.payload.medium,content:t.payload.content,campaign:t.payload.campaign,term:t.payload.term,renderPlatform:t.payload.renderPlatform,userId:t.payload.userId,orgId:t.payload.orgId,unique:t.payload.unique,preventAutoLocalization:t.payload.preventAutoLocalization,isPreviewMode:t.payload.isPreviewMode,init:!0});default:return e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var o={source:"",medium:"",content:"",campaign:"",term:"",renderPlatform:"",userId:0,orgId:0,unqiue:"",preventAutoLocalization:"",isPreviewMode:!1,init:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case i.STATION_NETWORK_LOOKUP_REQUESTED:var n=t.payload,r=n.subtype,o=n.stationId;return a({},e,d({},r,a({},e[r],{stationId:o,status:s.PENDING})));case i.STATION_NETWORK_RESULTS_LOADED:var u=t.payload,l=u.subtype,c=u.stationId,f=u.results;return a({},e,d({},l,a({},e[l],{stationId:c,status:s.RESOLVED,results:f})));case i.STATION_NETWORK_LOOKUP_FAILED:var _=t.payload.subtype;return a({},e,d({},_,a({},e[_],{status:s.FAILED,results:[]})));default:return e}};var o,i=c(n(2)),s=c(n(29)),u=n(616),l=(o=u)&&o.__esModule?o:{default:o};function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=(d(r={},l.default.SUBTYPE_YOUR_STATION,{stationId:0,status:s.NOT_STARTED,results:[]}),d(r,l.default.SUBTYPE_SEARCH,{stationId:0,status:s.NOT_STARTED,results:[]}),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case o.GET_LOCAL_STATIONS_REQUESTED:return r({},c,{requestStatus:i.PENDING});case o.GET_LOCAL_STATIONS_SKIPPED:return r({},c,{requestStatus:i.SKIPPED});case o.GET_LOCAL_STATIONS_SUCCEEDED:var n=t.payload;return{stations:n.stationData.map((function(e){return e.id})),localizationInfo:n.locationData,requestStatus:i.RESOLVED,expires:(0,u.default)().add(1,"day").unix()};case o.GET_LOCAL_STATIONS_FAILED:return r({},c,{requestStatus:i.FAILED});case o.STATE_LOADED:return t.payload.state.localStations&&t.payload.state.localStations.requestStatus===i.RESOLVED?r({},e,t.payload.state.localStations):e;default:return e}};var a,o=l(n(2)),i=l(n(29)),s=n(265),u=(a=s)&&a.__esModule?a:{default:a};function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var c={stations:[],requestStatus:i.NOT_STARTED}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.HP_LOCAL_STORIES_REQUESTED:var n=t.payload,i=n.orgId;n.serviceId;return r({},e,s({},i,{stories:[],requestStatus:o.PENDING}));case a.HP_LOCAL_STORIES_SUCCEEDED:var l=t.payload,c=l.stories,d=l.orgId;return r({},e,s({},d,{stories:c,requestStatus:o.RESOLVED}));case a.HP_LOCAL_STORIES_FAILED:var p=t.payload;return r({},e,s({},p,{stories:[],requestStatus:o.FAILED}));default:return e}};var a=i(n(2)),o=i(n(29));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(2)),o=s(n(82)),i=n(122);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={variant:o.NONE,variantIDToShowOnThisPage:o.NONE,variantTypeToShowOnThisPage:o.NONE,isDismissed:!0,globalAlertAlreadyVisibleThisPage:!1,globalAlertLastDisplayed:null,numTimesModalTriggered:{},numTimesStickybarTriggered:{}};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.STATE_LOADED:if(!t.payload.state.globalAlerts)return e;var n=t.payload.state.globalAlerts.globalAlertLastDisplayed;return n="string"!=typeof GlobalAlertLastDisplayed?n:null,r({},e,{numTimesModalTriggered:t.payload.state.globalAlerts.numTimesModalTriggered||{},numTimesStickybarTriggered:t.payload.state.globalAlerts.numTimesStickybarTriggered||{},globalAlertLastDisplayed:n,variant:o.NONE,variantIDToShowOnThisPage:o.NONE,variantTypeToShowOnThisPage:o.NONE});case a.PAGE_DETECTED:return r({},e,{isDismissed:!0,variant:o.NONE,variantIDToShowOnThisPage:o.NONE,variantTypeToShowOnThisPage:o.NONE});case a.SHOW_GLOBAL_MODAL:var s=e.numTimesModalTriggered;return e.variantIDToShowOnThisPage in s?s[e.variantIDToShowOnThisPage]+=1:s[e.variantIDToShowOnThisPage]=1,r({},e,{variant:o.MODAL,isDismissed:!1,numTimesModalTriggered:s,globalAlertAlreadyVisibleThisPage:!0,globalAlertLastDisplayed:i.currentDay});case a.SHOW_GLOBAL_STICKYBAR:var l=e.numTimesStickybarTriggered;return e.variantIDToShowOnThisPage in l?l[e.variantIDToShowOnThisPage]+=1:l[e.variantIDToShowOnThisPage]=1,r({},e,{variant:o.STICKYBAR,isDismissed:!1,numTimesStickybarTriggered:l,globalAlertAlreadyVisibleThisPage:!0,globalAlertLastDisplayed:i.currentDay});case a.HIDE_GLOBAL_ALERTS:return r({},e,{isDismissed:!0,variant:o.NONE});case a.GLOBAL_ALERT_VARIATION_DETERMINED:var c=t.payload,d=c.globalAlertType,p=c.globalAlertId;return r({},e,{variantIDToShowOnThisPage:p,variantTypeToShowOnThisPage:d});default:return e}},getAlertVariant:function(e){return e.globalAlerts.variant},getAlertIsDismissed:function(e){return e.globalAlerts.isDismissed},getGlobalAlertAlreadyVisibleThisPage:function(e){return e.globalAlerts.globalAlertAlreadyVisibleThisPage},getGlobalAlertLastDisplayed:function(e){return e.globalAlerts.globalAlertLastDisplayed},getNumTimesModalTriggered:function(e,t){return e.globalAlerts.numTimesModalTriggered[t]||0},getNumTimesStickybarTriggered:function(e,t){return e.globalAlerts.numTimesStickybarTriggered[t]||0},getVariantTypeToShowOnThisPage:function(e){return e.globalAlerts.variantTypeToShowOnThisPage},getVariantIDToShowOnThisPage:function(e){return e.globalAlerts.variantIDToShowOnThisPage}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(2)),o=s(n(199)),i=s(n(253));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={centerStageVariant:o.NONE,endOfStoryVariant:i.NONE,isDFPComplete:!1,isGlobalAlertsComplete:!1,wasOnPageCalloutDeterminationRequested:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.PAGE_DETECTED:return{centerStageVariant:o.NONE,endOfStoryVariant:i.NONE,isDFPComplete:!1,isGlobalAlertsComplete:!1,wasOnPageCalloutDeterminationRequested:!1};case a.CENTER_STAGE_AD_STATUS_DETERMINED:var n=t.payload.calloutType;return r({},e,{isDFPComplete:!0,centerStageVariant:n});case a.GLOBAL_ALERT_VARIATION_DETERMINED:return r({},e,{isGlobalAlertsComplete:!0});case a.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED:return r({},e,{wasOnPageCalloutDeterminationRequested:!0});case a.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED:var s=t.payload,l=s.centerStageVariant,c=s.endOfStoryVariant;return r({},e,{centerStageVariant:l,endOfStoryVariant:c});default:return e}},getCenterStageVariant:function(e){return e.onPageCallouts.centerStageVariant},getEndOfStoryVariant:function(e){return e.onPageCallouts.endOfStoryVariant},getIsDFPComplete:function(e){return e.onPageCallouts.isDFPComplete},getIsGlobalAlertsComplete:function(e){return e.onPageCallouts.isGlobalAlertsComplete},getWasOnPageCalloutDeterminationRequested:function(e){return e.onPageCallouts.wasOnPageCalloutDeterminationRequested}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var o={isHidden:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.STATE_LOADED:return t.payload.state.cardMessage?r({},e,{isHidden:t.payload.state.cardMessage.isHidden}):e;case a.HP_HIDE_STATION_CARD_MESSAGE:return r({},e,{isHidden:!0});default:return e}},getCardMessageIsHidden:function(e){return e.cardMessage.isHidden}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(2)),o=i(n(29));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={musicStreamsStatus:o.NOT_STARTED,musicStreams:{}};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.MUSIC_STREAMS_REQUESTED:return r({},e,{musicStreamsStatus:o.PENDING});case a.MUSIC_STREAMS_REQUEST_SUCCEEDED:return r({},e,{musicStreamsStatus:o.RESOLVED,musicStreams:t.payload});case a.MUSIC_STREAMS_STATUS_RESET:return r({},e,{musicStreamsStatus:o.NOT_STARTED});case a.MUSIC_STREAMS_REQUEST_FAILED:return r({},e,{musicStreamsStatus:o.FAILED});default:return e}},getLocalMusicStreams:function(e){return e.streams.musicStreams.localStreams},getRockMusicStreams:function(e){return e.streams.musicStreams.rockStreams},getFolkMusicStreams:function(e){return e.streams.musicStreams.folkStreams},getClassicalMusicStreams:function(e){return e.streams.musicStreams.classicalStreams},getRbMusicStreams:function(e){return e.streams.musicStreams.rbStreams},getHiphopMusicStreams:function(e){return e.streams.musicStreams.hiphopStreams},getRbHiphopMusicStreams:function(e){return e.streams.musicStreams.rbHiphopStreams},getJazzMusicStreams:function(e){return e.streams.musicStreams.jazzStreams},getMixedMusicStreams:function(e){return e.streams.musicStreams.mixedStreams},getMusicStreamsStatus:function(e){return e.streams.musicStreamsStatus}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),i=n(193),s=n(250),u=(r=s)&&r.__esModule?r:{default:r};var l={amountSelection:i.DEFAULT_ONETIME_AMOUNTS[1],billingAddress:"",billingAddressLineTwo:"",cardName:"",cardCode:"",cardExpiration:"",cardNumber:"",city:"",country:"US",donorComment:"",emailAddress:"",firstName:"",isRecurring:!1,lastName:"",state:"",stationSelection:null,zipcode:"",amountSelectionErrorFlag:"",billingAddressErrorFlag:"",cardCodeErrorFlag:"",cardExpirationErrorFlag:"",cardNameErrorFlag:"",cardNumberErrorFlag:"",cityErrorFlag:"",countryErrorFlag:"",donorCommentErrorFlag:"",emailAddressErrorFlag:"",firstNameErrorFlag:"",dedicationFullNameErrorFlag:"",lastNameErrorFlag:"",notificationRecipientFullNameErrorFlag:"",notificationRecipientEmailAddressErrorFlag:"",searchQueryErrorFlag:"",stateErrorFlag:"",stationSelectionErrorFlag:"",topErrorFlag:"",zipcodeErrorFlag:"",chargeId:"",customerId:"",isUserStationLoaded:!1,defaultPaymentSetToBrowserPay:!1,defaultDonationSetToNpr:!1,formVersion:"Version A",dedicationFullName:"",dedicationText:"",initiallyLocalizedTo:null,invoiceId:"",isAllowedToDonateToNpr:!1,isAllowedToDedicate:!1,isDonatingDirectToNpr:!1,isDonatingDirectToNprNetwork:!1,isDonatingDirectToStation:!1,isDonatingToNprNetwork:!1,isAllowedToDonateToNprNetwork:!0,isNPRDonationOptionSet:!1,isCheckoutStarted:!1,isEmailInputSelected:!1,isEmailSearchFinished:!1,isNewsletterOptin:!0,isDedication:!1,isNotUnitedStates:!1,isParticipatingStationSelected:!1,isProcessing:!1,isPristine:!0,isRadioButton:!0,isRecommendedStationsLoaded:!1,isSearchFinished:!1,isSearchInputSelected:!1,isSendNotificationGift:!1,isSingleStation:!1,isStationListEmpty:!0,isSubmitSuccessful:!1,isUsingEmail:!1,notificationRecipientFullName:"",notificationRecipientEmailAddress:"",otherAmountValue:"",participatingStations:u.default.stations,paymentIntentId:"",paymentCreatedTimestamp:"",paymentMethod:i.PAYMENT_METHOD.CREDIT_CARD,prevStations:[],prevStationSelection:null,progressBar:0,publishableKey:u.default.publishableKey,searchQuery:"",showStationPickerModal:!1,source:"",stations:[],stripeAccountID:"",whichStripePaymentButtonToShow:""};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.STATE_LOADED:if(!t.payload.state.donations)return e;var n=t.payload.state.donations.paymentCreatedTimestamp;return"number"==typeof n&&(n=n?new Date(1e3*n):null),a({},e,{paymentCreatedTimestamp:n,amountSelection:t.payload.state.donations.amountSelection,otherAmountValue:t.payload.state.donations.otherAmountValue,isRecurring:t.payload.state.donations.isRecurring,source:t.payload.state.donations.source||""});case o.SET_STATE:case o.SET_SOURCE:var r=t.payload.id;return a({},e,r,void 0!==r.isRecurring&&{amountSelection:r.isRecurring?i.DEFAULT_SUBSCRIPTION_AMOUNTS[1]:i.DEFAULT_ONETIME_AMOUNTS[1]});case o.SET_OTHER_AMOUNT:var s=t.payload,u=s.amountSelection,c=s.isRecurring;return a({},e,{amountSelection:u||"",isRadioButton:!!u,isRecurring:c||!1});case o.RESET_OTHER_AMOUNT:return a({},e,{amountSelection:i.DEFAULT_ONETIME_AMOUNTS[1],isRadioButton:!0});default:return e}},getLastPaymentDate:function(e){return e.donations.paymentCreatedTimestamp}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case a.USER_PLUS_DATA_LOADED:return r({},e,{email:t.payload.email,isPlusSubscriber:t.payload.isPlusSubscriber,plusOptInDate:t.payload.plusOptInDate,station:t.payload.station,userId:t.payload.userId,sfToken:t.payload.sfToken});case a.LOCALIZATION_RESPONSE_RECEIVED:return r({},e,{submitError:t.payload.submitError});default:return e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var o={email:null,isPlusSubscriber:!1,plusOptInDate:null,station:null,userId:null,submitError:!1,sfToken:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(154)),o=l(n(383)),i=u(n(2)),s=u(n(29));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var c={endOfStoryCalloutSeen:!1,endOfStoryDonationCalloutMetricsStatus:s.NOT_STARTED,uidsInUserQueueLoadingStatus:[],uidsInPlaylist:[]};function d(e,t){return-1!==t.indexOf(e)?t:t.concat(e)}t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case i.END_OF_STORY_CALLOUT_SEEN:return r({},e,{endOfStoryCalloutSeen:!0});case i.END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED:return r({},e,{endOfStoryDonationCalloutMetricsStatus:s.PENDING});case i.END_OF_STORY_DONATION_CALLOUT_METRIC_RESOLVED:return r({},e,{endOfStoryDonationCalloutMetricsStatus:s.RESOLVED});case i.PAGE_DETECTED:return r({},e,{endOfStoryCalloutSeen:!1,endOfStoryDonationCalloutMetricsStatus:s.NOT_STARTED});case i.MOBILE_NATIVE_DID_START_LOADING_PLAYLIST:return r({},e,{uidsInUserQueueLoadingStatus:(0,o.default)([t.payload],e.uidsInUserQueueLoadingStatus)});case i.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST:return r({},e,{uidsInUserQueueLoadingStatus:(0,a.default)(e.uidsInUserQueueLoadingStatus,t.payload),uidsInPlaylist:d(t.payload,e.uidsInPlaylist)});case i.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST:return r({},e,{uidsInUserQueueLoadingStatus:(0,a.default)(e.uidsInUserQueueLoadingStatus,t.payload),uidsInPlaylist:(0,a.default)(e.uidsInPlaylist,t.payload)});default:return e}},getUidsInPlaylist:function(e){return e.uidsInPlaylist}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(2)),o=i(n(29));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={"g-12345":{posts:[],latestPostDateTime:null,archivedDateTime:!0,title:"",pageUrl:"",canonicalUrl:"",teaser:""},meta:{status:o.NOT_STARTED}};t.default={reducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments[1];switch(n.type){case a.PAGE_DETECTED:return r({},t,{meta:{status:o.NOT_STARTED}});case a.LIVE_BLOG_POSTS_REQUESTED:return r({},t,{meta:{status:o.PENDING}});case a.LIVE_BLOG_POSTS_SUCCEEDED:return r({},t,(s(e={},n.payload.blogId,{posts:n.payload.posts,title:n.payload.title,pageUrl:n.payload.pageUrl,canonicalUrl:n.payload.canonicalUrl,teaser:n.payload.teaser,latestPostDateTime:n.payload.latestPostDateTime,archivedDateTime:n.payload.archivedDateTime,blogId:n.payload.blogId}),s(e,"meta",{status:o.RESOLVED}),e));case a.LIVE_BLOG_POSTS_FAILED:return r({},t,{meta:{status:o.FAILED}});default:return t}},getLiveBlogForId:function(e,t){return e.liveBlog[t]},isCurrentlyOnLiveBlog:function(e){return"BlogLiveNewsStoryLayout"===e.site.currentLayoutName},getLiveBlogRequestStatus:function(e){return e.meta.status}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(5),i=(r=o)&&r.__esModule?r:{default:r},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));var u={isPlusPageStatusDetermined:!1,hasPremiumPodcastChannelContent:!1,podcastEpisodeRawType:"",podcastEpisodeDerivedPlusType:"",podcastChannelParentId:"",podcastEpisodeContentCharacteristicsList:{},isNPRPlusModalVisible:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case s.SESSION_LOADED:case s.PAGE_DETECTED:return a({},u);case s.INITIAL_PLUS_CONTENT_PROPERTIES_FOR_RENDERED_PAGE_INGESTED:var n=t.payload,r=n.hasPremiumPodcastChannelContent,o=n.podcastEpisodeRawType,i=n.podcastEpisodeDerivedPlusType,l=n.podcastChannelParentId,c=n.podcastEpisodeContentCharacteristicsList;return a({},e,{isPlusPageStatusDetermined:!0,hasPremiumPodcastChannelContent:r,podcastEpisodeRawType:o,podcastEpisodeDerivedPlusType:i,podcastChannelParentId:l,podcastEpisodeContentCharacteristicsList:c});case s.ADDITIONAL_PODCAST_EPISODES_MADE_AVAILABLE_ON_PAGE:var d=t.payload.additionalPodcastEpisodeCharacteristics;return a({},e,{podcastEpisodeContentCharacteristicsList:a({},e.podcastEpisodeContentCharacteristicsList,d)});case s.SHOW_NPR_PLUS_MODAL:return a({},e,{isNPRPlusModalVisible:!0});case s.HIDE_NPR_PLUS_MODAL:return a({},e,{isNPRPlusModalVisible:!1});default:return e}},isPlusPageStatusDetermined:function(e){return e.isPlusPageStatusDetermined},hasPremiumPodcastChannelContent:function(e){return e.hasPremiumPodcastChannelContent},getPodcastEpisodeRawType:function(e){return e.podcastEpisodeRawType},getPodcastEpisodeDerivedPlusType:function(e){return e.podcastEpisodeDerivedPlusType},getPodcastChannelParentId:function(e){return e.podcastChannelParentId},getPodcastEpisodeContentCharacteristicsList:function(e){return e.podcastEpisodeContentCharacteristicsList},getPodcastEpisodeContentCharacteristicsForEpisodeId:function(e,t){return(0,i.default)(e.podcastEpisodeContentCharacteristicsList,t,null)},getPodcastEpisodeContentCharacteristicsForAudioId:function(e,t){return(0,i.default)(e.podcastEpisodeContentCharacteristicsList,t,null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programData=void 0;var r,a=n(5),o=(r=a)&&r.__esModule?r:{default:r},i=u(n(254)),s=u(n(2));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l=function(){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(document.querySelectorAll("#story-list article.rundown-segment .audio-tool-download a"))).map((function(e){var t="";return e&&e.hasAttribute("href")&&(t=e.getAttribute("href")),t})).filter((function(e){return!!e}))};t.programData=function(e){return function(t){return function(n){var r=e.dispatch;switch(n.type){case s.AUDIO_SEGMENT_URLS_REQUESTED:var a=(0,o.default)(window,"NPR.serverVars.title",""),u=l();r(i.audioSegmentUrlsReceived(a,u))}return t(n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outsideDOM=void 0;var r=s(n(8)),a=(s(n(123)),i(n(2))),o=i(n(34));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}var u=!1,l=null;t.outsideDOM=function(e){var t=e.getState;return function(e){return function(n){var i=t(),s=e(n),c=t();u||n.type!==a.AUDIO_MODULE_MOUNTED||((0,r.default)("html").addClass("audio-modules-mounted"),u=!0);var d=(0,r.default)("html"),p=(0,r.default)(".player-wrap-inner");return d.toggleClass("has-page-engaged-player",c.player.isEngaged),d.toggleClass("has-page-expanded-player",c.player.isExpanded),!1===i.player.isExpanded&&!0===c.player.isExpanded&&c.player.env.breakpoint===o.SMALL?l=window.scrollY||document.documentElement.scrollTop:!0===i.player.isExpanded&&!1===c.player.isExpanded&&l&&(window.scrollTo(0,l),l=null),(1===i.sponsorship.numSlotsAvailable&&2===c.sponsorship.numSlotsAvailable||n.type===a.SOUNDSCAPES_LOADED)&&p.toggleClass("is-sponsorship-mode",!0),i.sponsorship.isPlayingSponsorship&&!c.sponsorship.isPlayingSponsorship&&p.toggleClass("is-sponsorship-mode",!1),s}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(28)),a=c(n(2)),o=c(n(252)),i=l(n(5)),s=l(n(42)),u=c(n(39));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(l){if(l.type===a.COUNTRY_REQUESTED&&(0,i.default)(n(),"player.env.country")===o.PENDING){var c=(new Date).getTime();(0,s.default)(2e4,u.LEGACY_WEB_HOST+"/location/country?"+c).then((function(e){return e.json()})).then((function(e){return t(r.countryDetected(e.country))})).catch((function(){return t(r.countryDetected(o.UNKNOWN))}))}return e(l)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playlistUnwrapper=void 0;var r=c(n(12)),a=l(n(43)),o=l(n(2)),i=n(198),s=c(n(42)),u=c(n(44));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d={},p=function(e){return function(t){var n=t.audioUrl,o=t.uid;o&&n&&(0,i.isPlaylistUrl)(n)&&u.default.isHttps(n)&&(d[o]?e(a.containerUnwrapped(o,d[o])):(0,s.default)(2e4,"/player/playlist-decoder?filename="+encodeURIComponent(n)).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(new Error("Playlist decoder endpoint returned an HTTP error response"))})).then((function(t){if(!t)throw new Error("Playlist decoder endpoint returned empty response, which should not happen");u.default.isHttps(t)?(d[o]=t,e(a.containerUnwrapped(o,d[o]))):r.default.warning("Unwrapped insecure stream",t)})).catch((function(o){r.default.error(o,{audioUrl:n}),e(a.metadataInvalidated(t,{reason:"Audio temporarily unavailable"}))})))}},f=t.playlistUnwrapper=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){var a=e(r);if(r.type===o.METADATA_LOADED&&p(t)(r.payload),r.type===o.STATE_LOADED){var i=n().metadata;for(var s in i){var u=i[s];u&&p(t)(u)}}return a}}};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nowOnStreams=void 0;var r=c(n(5)),a=c(n(12)),o=l(n(2)),i=l(n(43)),s=l(n(24)),u=c(n(42));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d={},p=void 0,f=t.nowOnStreams=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){p=t;var a=e(r);if(r.type===o.NOW_ON_STREAMS_REGISTRATION_REQUESTED){var i=r.payload.uid;if(!i||d[i])return a;var s=r.payload,u=_.bind(s);d[i]={stream:s,interval:setInterval(u,E(s))},u()}if(r.type===o.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED){var l=n().nowOnStreams,c=r.payload.uid;!l.hasOwnProperty(c)&&d.hasOwnProperty(c)&&(clearInterval(d[c].interval),delete d[c])}return a}}};function _(){switch(this.subtype){case s.STREAM_STATION:!function(e){if(e){var t=e.guid;if(t){var n="/proxy/stationasset/v3/streams/{{streamGuid}}/programs/now".replace("{{streamGuid}}",t);(0,u.default)(2e4,n).then((function(e){return e.json()})).then((function(e){var n,a,o=(0,r.default)(e,"attributes.name");if(!o)throw new Error("Now playing information from proxy to the Stations API was empty or malformed");n=t,a=o,p(i.nowPlayingLoaded(n,a))})).catch((function(e){return a.default.info(e.message,{guid:t})}))}}}(this)}}function E(e){return 6e4}t.default=f},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.history=void 0;var r=s(n(28)),a=s(n(2)),o=s(n(257)),i=n(15);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=t.history=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(s){n();var u=e(s),l=n();if(s.type===a.PREVIOUS_AUDIO_PLAY_RECEIVED){var c=l.metadata,d=(0,i.getPlayerHistory)(l)[(0,i.getCurrentPlayerHistoryHeadPosition)(l)];d&&(t(r.playPauseRequested(c[d],{playedFrom:"from history"})),t(o.incrementAudioHistoryHead()))}return u}}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newscast=void 0;var r=f(n(12)),a=f(n(5)),o=p(n(43)),i=p(n(2)),s=n(35),u=f(n(21)),l=n(110),c=n(15),d=n(171);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var _=t.newscast=function(e){var t=e.dispatch,n=e.getState;return function(e){return p=regeneratorRuntime.mark((function p(f){var _,E,m,g,y,h,v;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(_=n(),E=e(f),m=n(),g=(0,a.default)(m,"user",{}),y=u.default.isMobileNativeApp((0,s.getRenderPlatform)(m)),f.type!==i.NEWSCAST_REQUESTED){p.next=17;break}return h=f.payload.orgId,p.prev=7,p.next=10,(0,d.getNewscastForOrg)(h,(0,a.default)(_,"time.now",null),g,t,!1,y);case 10:v=p.sent,t(o.metadataLoaded(v)),p.next=17;break;case 14:p.prev=14,p.t0=p.catch(7),r.default.info(p.t0,{orgId:h});case 17:return f.type===i.STATE_LOADED&&f.payload.state.player&&[m.player.currentUid].concat((0,c.getConstructedQueue)(m)).map((function(e){if(e&&(0,l.isNewscastUid)(e)){var n=(0,l.getOrgIdFromNewscastUid)(e);(0,d.getNewscastForOrg)(n,(0,a.default)(_,"time.now",null),g,t,!1).then((function(e){t(o.metadataLoaded(e))})).catch((function(e){return r.default.info(e,{orgId:n})}))}})),p.abrupt("return",E);case 19:case"end":return p.stop()}}),p,void 0,[[7,14]])})),f=function(){var e=p.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return f.apply(this,arguments)};var p,f}};t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var r,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=p(n(2)),i=n(21),s=(r=i)&&r.__esModule?r:{default:r},u=p(n(255)),l=n(108),c=n(35),d=n(674);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var f=t.initialize=function(e){var t=e.dispatch,n=e.getState;return function(e){return r=regeneratorRuntime.mark((function r(i){var p,f,_,E,m,g;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.type===o.SESSION_LOADED&&(p=n(),(0,d.isWithinUpFirstPeriod)()&&(0,l.isMobileDevice)(p)&&!s.default.isMobileNativeApp((0,c.getRenderPlatform)(p))&&(f=(0,d.getHardcodedProgramInfoUpFirst)(),_=a(f,3),E=_[0],m=_[1],g=_[2],t(u.initializeFeaturedAudioRequested(E,m,g)))),r.abrupt("return",e(i));case 2:case"end":return r.stop()}}),r,void 0)})),i=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return i.apply(this,arguments)};var r,i}};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(new Date).setHours(6,15,0,0).toLocaleString("en-US",{timeZone:"America/New_York"}),a=(new Date).setHours(11,0,0,0).toLocaleString("en-US",{timeZone:"America/New_York"}),o=["510318","Today's Top Headlines In","https://media.npr.org/assets/img/2019/11/06/up-first-tile-npr-new_sq-42960829020267d0cf351b10ca4b3bb824b96ab6.jpg?s=100"];t.isWithinUpFirstPeriod=function(){var e=(new Date).getTime().toLocaleString("en-US",{timeZone:"America/New_York"}),t=0!==new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"})).getDay();return e>=r&&e<=a&&t},t.getHardcodedProgramInfoUpFirst=function(){return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateCorrection=void 0;var r=d(n(5)),a=d(n(154)),o=c(n(2)),i=c(n(257)),s=c(n(43)),u=c(n(152)),l=n(15);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var p=t.stateCorrection=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(c){n();var d=e(c),p=n();if(c.type===o.INITIAL_STATE_CORRECTION){var f=p.metadata,_=function(e){var t=e.user,n=e.player,a=e.aggs,o=e.metadata,i=[],s=function(e){return e&&i.push(e)},c=(0,r.default)(t,"org.id");if(c)for(var d in o){var p=o[d];p.orgId===c&&s(p.uid)}for(var f in s(n.currentUid),a)a.hasOwnProperty(f)&&a[f].map(s);return(0,l.getPlayerHistory)(e).map(s),i.push(u.STREAM_24_HOUR_PROGRAM_UID),i}(p),E=a.default.apply(void 0,[Object.keys(f)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(_)));t(s.metadatasUnloaded(E));var m=function(e){var t=e.metadata;return(0,l.getPlayerHistory)(e).filter((function(e){return!Object.keys(t).includes(e)}))}(p);t(i.historyItemsUnloaded(m))}return d}}};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.persistentState=t.STORAGE_KEY=void 0;var r=d(n(12)),a=c(n(2)),o=c(n(677)),i=d(n(21)),s=c(n(68)),u=d(n(678)),l=n(39);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var p=void 0;p=n(359).default;var f=t.STORAGE_KEY="PLAYER_STATE",_=!1,E=void 0,m=null,g=!1;var y=function(){BroadcastChannel&&document.visibilityState&&((m=new BroadcastChannel(l.WEB_HOST)).onmessage=function(e){1==g&&document.visibilityState&&"visible"!=document.visibilityState&&(g=!1,h())})},h=function(){m&&(m.close(),m=null)},v=t.persistentState=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(l){_||(_=!0,(E=p.isSupported())&&(!function(e){try{var t=p.get(f),n=JSON.parse(t);n&&e(o.stateLoaded(n,n.time.now,u.default.getTimestamp()))}catch(e){r.default.info(e.message)}try{var a=i.default.getSessionInfo(),s=a.source,l=a.medium,c=a.content,d=a.campaign,_=a.term,E=a.renderPlatform,m=a.userId,g=a.orgId,y=a.unique,h=a.preventAutoLocalization,v=a.isPreviewMode;e(o.sessionLoaded(s,l,c,d,_,E,m,g,y,h,v))}catch(e){r.default.info(e.message)}}(t),y()),t(o.stateDetectionCompleted()));var c,d=e(l);if(E){if("visible"!=document.visibilityState||g?document.visibilityState||(g=!0):(m||y(),c="Message for other browser tabs: you have lost Focus",m&&m.postMessage(c),g=!0,l.type!==a.STATE_LOADED&&l.type!==a.SESSION_LOADED&&function(e){var t=p.get(f),n=JSON.parse(t);if(n){var r=n.time.now;delete n.player,delete n.sponsorship,delete n.panes,delete n.time,delete n.streams,delete n.session,delete n.navigation,delete n.site,delete n.spikingStories,delete n.programData,delete n.cardMessage,delete n.stationSearch,delete n.onPageCallouts,delete n.userInteractions,delete n.globalAlerts,delete n.storyRecommendations,delete n.plusContentBehavior,e(o.stateLoaded(n,r,u.default.getTimestamp()))}}(t)),!g)return d;var h=void 0;switch(l.type){case a.TIMER:break;default:var v=JSON.parse(JSON.stringify(n()));s.hasConsentedTo(s.FUNCTIONAL)||(delete v.user.org,delete v.site.ecosystem,delete v.sponsorship.numSlotsAvailable,delete v.sponsorship.isMobileSponsorshipSlotAvailable,delete v.sponsorship.sponsorshipDiv,delete v.sponsorship.leaveBehindDiv,delete v.sponsorship.mobileSponsorshipDiv,delete v.sponsorship.isFetchingSponsorship,delete v.sponsorship.isPlayingSponsorship,delete v.sponsorship.primaryThemeColor,delete v.sponsorship.secondaryThemeColor,delete v.sponsorship.loadCustomAdBackground,v.sponsorship.lastPlayedTimestamp=0,v.sponsorship.videoLastPlayedTimestamp=0),s.hasConsentedTo(s.PERFORMANCE_AND_ANALYTICS)||(delete v.session.source,delete v.session.medium,delete v.session.content,delete v.session.campaign,delete v.session.term),s.hasConsentedTo(s.TARGETING_AND_SPONSOR)||(delete v.session.userId,delete v.session.orgId,delete v.session.unique,v.user.JWT.token="",v.user.JWT.expiration="",v.user.JWT.email=""),h=JSON.stringify(v),p.set(f,h)}}return d}}};t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateLoaded=function(e,t,n){return{type:r.STATE_LOADED,payload:{state:e,stateTime:t,currentTime:n}}},t.stateDetectionCompleted=function(){return{type:r.STATE_DETECTION_COMPLETED}},t.sessionLoaded=function(e,t,n,a,o,i,s,u,l,c,d){return{type:r.SESSION_LOADED,payload:{source:e,medium:t,content:n,campaign:a,term:o,renderPlatform:i,userId:s,orgId:u,unique:l,preventAutoLocalization:c,isPreviewMode:d}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={getTimestamp:function(){return(new Date).getTime()}}},function(e,t,n){"use strict";function r(e){this.name="NotSupportedError",this.message=e||"Operation not supported",this.stack=(new Error).stack}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.metrics=function(e){return function(t){var n=t.getState;return function(t){return function(r){var a=n(),o=t(r),i=n();return e(r.type,r.payload,r.meta,a,i),o}}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMetrics=void 0;var r=l(n(2)),a=l(n(29)),o=u(n(5)),i=u(n(41)),s=n(206);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var c=t.globalMetrics=function(e){e.dispatch;var t=e.getState;return function(e){return function(n){var u=t(),l=e(n),c=t(),d=(0,i.default)();if(n.type===r.END_OF_STORY_DONATION_CALLOUT_METRIC_REQUESTED){var p,f="NPR",_=[];if(0!=(p=(0,o.default)(u,"user.org.id")))f=(0,o.default)(u,"org."+p+".callLetters");else for(var E=Object.keys((0,o.default)(u,"org")),m=0;m<E.length;m++)_.push((0,o.default)(u,"org."+E[m]+".callLetters"));0===p?"not localized - "+_.toString():f,(document.querySelector("#callout-end-of-story-mount .donation-portal-endofstory")||document.querySelector("#callout-end-of-story-mount .callout--donation"))&&d.dispatch((0,s.endOfStoryDonationCalloutMetricsResolved)())}else(0,o.default)(c,"localStations.requestStatus")===a.RESOLVED&&(0,o.default)(c,"user.org.status")===a.RESOLVED&&(0,o.default)(c,"userInteractions.endOfStoryCalloutSeen")&&(0,o.default)(c,"userInteractions.endOfStoryDonationCalloutMetricsStatus")===a.NOT_STARTED&&d.dispatch((0,s.endOfStoryDonationCalloutMetricsRequested)());return l}}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentWidgets=void 0;var r=_(n(5)),a=_(n(12)),o=f(n(2)),i=f(n(66)),s=_(n(81)),u=n(15),l=n(171),c=f(n(43)),d=n(35),p=_(n(21));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var E=t.contentWidgets=function(e){var t=e.dispatch,n=e.getState;return function(e){return f=regeneratorRuntime.mark((function f(_){var E,m,g,y,h,v,S,O,T,A,I,b,P,R,D,N,w,C,L,M;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(E=e(_),m=n(),_.type!==o.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_REQUESTED){f.next=14;break}return g=_.payload,y=g.aggId,h=g.limit,v=g.shouldLoadAudioMetadata,f.prev=4,f.next=7,s.default.getAggStories(y,h);case 7:S=f.sent,t(i.getStoriesByAggForContentWidgetsSucceeded(y,S,v)),f.next=14;break;case 11:f.prev=11,f.t0=f.catch(4),t(i.getStoriesByAggForContentWidgetsFailed());case 14:if(_.type!==o.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SUCCEEDED){f.next=20;break}return O=_.payload,T=O.aggId,A=O.limit,I=O.shouldLoadAudioMetadata,f.next=18,s.default.getAggStories(T,A);case 18:(b=f.sent)&&I&&!(0,u.getIsAudioLoadedForAggWidget)(m,T)?(P=s.default.getAudioIdsFromAggStories(b),t(i.getAudioByIdsForContentWidgetsRequested(T,P))):t(i.getAudioByIdsForContentWidgetsSkipped());case 20:if(_.type===o.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SUCCEEDED&&(s.default.addBodyClass(),s.default.addHeightProperty(),s.default.addSponsorshipListener(),s.default.resetSlider()),_.type===o.GET_STORIES_BY_AGG_FOR_CONTENT_WIDGETS_SKIPPED&&(s.default.addBodyClass(),s.default.resetSlider()),_.type!==o.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_REQUESTED){f.next=42;break}return R=_.payload.audioIds,D=(0,r.default)(m,"user",null),N=p.default.isMobileNativeApp((0,d.getRenderPlatform)(m)),f.prev=26,w=R.map((function(e){return(0,l.safeLoadAudioById)(e,(0,r.default)(m,"time.now",null),D,t,!1,N)})),f.next=30,Promise.allSettled(w);case 30:for(M in C=f.sent,L=[],Object.keys(C))C[M].value&&L.push(C[M].value);L&&t(c.metadatasLoaded(L)),t(i.getAudioByIdsForContentWidgetsSucceeded(R)),f.next=42;break;case 38:f.prev=38,f.t1=f.catch(26),t(i.getAudioByIdsForContentWidgetsFailed(R)),a.default.error(f.t1);case 42:return _.type===o.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_SUCCEEDED&&(s.default.addBodyClass(),s.default.addHeightProperty(),s.default.addSponsorshipListener()),_.type===o.GET_AUDIO_BY_IDS_FOR_CONTENT_WIDGETS_SKIPPED&&s.default.addBodyClass(),f.abrupt("return",E);case 45:case"end":return f.stop()}}),f,void 0,[[4,11],[26,38]])})),_=function(){var e=f.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return _.apply(this,arguments)};var f,_}};t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stations=t.getCurrentProgramId=t.loadStationData=t.transformStationData=void 0,t.loadLocalStations=W,t.reloadStationStreamMetadataByOrg=V,t.loadNonLocalStation=Y,t.init=q,t.isRequestingStationStream=Q;var r=N(n(8)),a=N(n(5)),o=N(n(154)),i=N(n(109)),s=N(n(265)),u=N(n(617)),l=D(n(43)),c=D(n(28)),d=D(n(621)),p=D(n(67)),f=N(n(354)),_=N(n(379)),E=D(n(2)),m=D(n(29)),g=D(n(56)),y=N(n(372)),h=D(n(24)),v=D(n(152)),S=D(n(151)),O=D(n(261)),T=n(15),A=N(n(121)),I=n(35),b=N(n(12)),P=N(n(21)),R=D(n(68));function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return e&&e.__esModule?e:{default:e}}var w=A.default.getNonLocalStationData,C=A.default.getLocalStationData,L=A.default.getProgramScheduleHTML,M=A.default.getStationSearchResults,k=A.default.getStation,U=A.default.mapStationDataList,x=!1,F=!1,G=[E.ECOSYSTEM_DETECTED,E.GET_LOCAL_STATIONS_SUCCEEDED,E.GET_LOCAL_STATIONS_FAILED,E.PRE_EXISTING_LOCAL_STATIONS_DETECTED],j=!1,B=t.transformStationData=function(e){return Object.assign({},e,{streams:e.streams.map((function(e){return e.uid}))})},H=t.loadStationData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.streams.map((function(n){n&&!t.includes(n.uid)&&e(l.metadataLoaded(n))}));var r=B(n);e(u.default.stationDataLoaded(r))}};function W(e){C().then((function(t){return t.stationData=t.stationData.filter((function(e){return"Exclude everywhere"!==e.localizationEligibility})),t.stationData.map((function(t){H(e)(t)})),e(u.default.getLocalStationsSucceeded(t)),t})).catch((function(t){e(u.default.getLocalStationsFailed()),b.default.info(t)}))}function V(e,t){(0,a.default)(t,"localStations.stations",[]).map((function(n){Y(e,n,t)}))}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r){var o=(0,a.default)(n,"org."+t);if(o&&o.lastUpdated&&"string"==typeof o.lastUpdated&&Date.now()-Date.parse(o.lastUpdated)<4*y.default.ONE_HOUR)return Promise.resolve(o)}var i=(0,a.default)(n,"player.currentUid");return w(t).then((function(t){return H(e,[i])(t),t})).catch((function(e){b.default.info(e,{orgId:t})}))}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(l.metadataLoaded(v.STREAM_24_HOUR_PROGRAM_METADATA));var n=(0,a.default)(t,"localStations.stations",[]),r=(0,s.default)().unix(),o=(0,a.default)(t,"localStations.expires",r)<=r,d=P.default.getSessionInfo(),p=P.default.isMobileNativeApp(d.renderPlatform);!(0,i.default)(n)&&!o||p?p&&e(u.default.getLocalStationsSkipped()):e(u.default.getLocalStationsRequested());var f=(0,T.getUserOrgId)(t);f&&k(f).then((function(t){H(e,U(t))})).catch((function(e){return b.default.info(e,{userOrgId:f})}));var _=A.default.getStreamStationId();_&&(_===g.NPR?e(c.addStreamToStageRequested(v.STREAM_24_HOUR_PROGRAM_METADATA)):Y(e,_).then((function(t){var n=t.streams.find((function(e){return e.primary}));n&&e(c.addStreamToStageRequested(n))})).catch((function(e){b.default.info(e,_)})))}function Q(e,t){return e===E.AUDIO_RECEIVED&&t&&t.type===h.STREAM&&t.subtype===h.STREAM_STATION}var K=t.getCurrentProgramId=function(){var e=(0,r.default)("body").hasClass("program"),t="undefined"!=typeof NPR?(0,a.default)(NPR,"serverVars.program"):null;return e?t:null},z=t.stations=function(e){var t=e.dispatch,n=e.getState;return function(e){return l=regeneratorRuntime.mark((function l(c){var y,h,v,A,P,D,N,w,C,k,U,B,z,J,X,Z,$,ee,te,ne,re,ae,oe,ie,se,ue,le,ce,de,pe,fe;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(x||c.type!==E.STATE_DETECTION_COMPLETED||(y=(0,a.default)(n(),"localStations.stations"),h=(0,s.default)().unix(),v=(0,a.default)(n(),"localStations.expires",h)<=h,!(0,i.default)(y)&&!v&&(V(t,n()),t(u.default.preExistingLocalStationsDetected())),q(t,n()),x=!0),Q(c.type,c.payload)&&c.payload.orgId!==g.NPR&&Y(t,c.payload.orgId,n()),c.type===E.GET_LOCAL_STATIONS_REQUESTED&&W(t),A=e(c),c.type===E.ECOSYSTEM_DETECTED&&(G=(0,o.default)(G,E.ECOSYSTEM_DETECTED)),c.type!==E.GET_LOCAL_STATIONS_SUCCEEDED&&c.type!==E.PRE_EXISTING_LOCAL_STATIONS_DETECTED||(P=(0,a.default)(n(),"localStations.stations"),G=(0,o.default)(G,E.GET_LOCAL_STATIONS_SUCCEEDED,E.GET_LOCAL_STATIONS_FAILED,E.PRE_EXISTING_LOCAL_STATIONS_DETECTED),F&&(0,a.default)(NPR,"ServerConstants.shouldShowHPLocalContent",!1)&&(P.map((function(e){var r=(0,a.default)(n(),"org");if(r&&r[e]&&e!==g.NPR&&r[e].serviceId)return t(_.default.hpLocalStoriesRequested(e,r[e].serviceId))})),F=!1)),c.type===E.GET_LOCAL_STATIONS_FAILED&&(G=(0,o.default)(G,E.GET_LOCAL_STATIONS_SUCCEEDED,E.GET_LOCAL_STATIONS_FAILED,E.PRE_EXISTING_LOCAL_STATIONS_DETECTED)),c.type!==E.HAS_LOCALIZATION_DATA_READY){l.next=17;break}if(!(D=(0,T.getUserOrgId)(n()))){l.next=16;break}if(D===g.NPR){l.next=14;break}return l.next=13,Y(t,D,n());case 13:l.sent;case 14:N=(0,a.default)(n(),"org"),(0,a.default)(NPR,"ServerConstants.shouldShowHPLocalContent",!1)&&N&&N[D]&&D!==g.NPR&&N[D].serviceId&&t(_.default.hpLocalStoriesRequested(D,N[D].serviceId));case 16:(0,r.default)(document).trigger("npr:refreshMetrics");case 17:return c.type===E.STATE_LOADED&&(w=(0,T.getUserOrgId)(n()))&&Y(t,w,n(),!0),c.type!==E.PROGRAM_SCHEDULE_REQUESTED&&c.type!==E.STATION_DATA_LOADED||(C=(0,T.getUserOrgId)(n()))&&(k=K())&&L(C,k).then((function(e){var n=JSON.parse(JSON.stringify(e));t(d.programScheduleLoaded({orgId:C,programId:k,programSchedule:n.attributes.summary}))})).catch((function(e){})),c.type===E.STATION_SEARCH_REQUESTED&&(U=c.payload.term,B=(0,a.default)(n(),"player.currentUid"),M(U).then((function(e){if(e){e.map(H(t,[B]));var n=e.map((function(e){return e.id}));t(f.default.stationSearchResultsLoaded(U,n))}else t(f.default.stationSearchResultsLoaded(U,[]))})).catch((function(e){t(f.default.stationSearchFailed()),b.default.info(e,{term:U})}))),c.type===E.STATION_NETWORK_LOOKUP_REQUESTED&&(z=n(),J=c.payload,X=J.stationId,Z=J.subtype,($=(0,a.default)(z,"org."+X))?(ee=(0,a.default)($,"otherStationsInNetwork")||[]).length?(te=[],ee.forEach((function(e){te.push(Y(t,e,z))})),Promise.all(te).then((function(e){t(u.default.stationNetworkResultsLoaded(X,[$].concat(e),Z))})).catch((function(e){t(u.default.stationNetworkLookupFailed(Z)),b.default.info(e,{stationId:X})}))):t(u.default.stationNetworkResultsLoaded(X,[],Z)):t(u.default.stationNetworkLookupFailed(Z))),c.type===E.PAGE_DETECTED&&(0,a.default)(NPR,"ServerConstants.shouldShowHPLocalContent",!1)&&c.payload.type===S.HOME_PAGE_NEWS&&(ne=(0,T.getUserOrgId)(n()),re=(0,a.default)(n(),"org"),ae=null,ne&&re&&re[ne]&&(ae=re[ne].serviceId||null),ne&&ne!==g.NPR&&ae?t(_.default.hpLocalStoriesRequested(ne,ae)):(0,a.default)(n(),"localStations.requestStatus")===m.RESOLVED?((0,a.default)(n(),"localStations.stations",[]).map((function(e){var r=(0,a.default)(n(),"org");if(r&&r[e]&&r[e].serviceId)return t(_.default.hpLocalStoriesRequested(e,r[e].serviceId))})),F=!1):F=!0),(0,i.default)(G)&&!j&&R.hasConsentedTo(R.FUNCTIONAL)?(j=!0,oe=n(),ie=(0,T.getUserOrgId)(n()),se=(0,a.default)(oe,"localStations.stations"),ue=parseInt((0,a.default)(oe,"localStations.localizationInfo.geolocationConf"),10),le=(0,a.default)(oe,"site.ecosystem"),ce=se.filter((function(e){return"Show everywhere"===(0,a.default)(oe,"org."+e+".localizationEligibility")})),de=0,le===O.NEWS&&(!ie&&1===ce.length&&ue>=80&&(de=ce[0]),de&&!(0,I.getShouldPreventAutoLocalization)(oe)&&t(p.stationAutolocalized(de))),t(0!==de||ie?p.hasDeterminedUserIsAlreadyLocalized():p.defaultOrgResolved()),G=[E.ECOSYSTEM_DETECTED],j=!1):(0,i.default)(G)&&!j&&(pe=n(),fe=(0,T.getUserOrgId)(pe),j=!0,t(fe?p.hasDeterminedUserIsAlreadyLocalized():p.defaultOrgResolved()),G=[E.ECOSYSTEM_DETECTED],j=!1),l.abrupt("return",A);case 24:case"end":return l.stop()}}),l,void 0)})),c=function(){var e=l.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return c.apply(this,arguments)};var l,c}};t.default=z},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spikingStories=void 0;var r,a=u(n(685)),o=n(686),i=(r=o)&&r.__esModule?r:{default:r},s=u(n(2));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l=t.spikingStories=function(e){var t=e.dispatch;e.getState;return function(e){return function(n){var r=e(n);return n.type===s.PAGE_DETECTED&&t(a.spikingStoriesRequested()),n.type===s.SPIKING_STORIES_REQUESTED&&i.default.getSpikingStories().then((function(e){t(a.spikingStoriesSucceeded(e))})).catch((function(){t(a.spikingStoriesFailed())})),n.type===s.SPIKING_STORIES_SUCCEEDED&&(NPR.serverVars&&NPR.serverVars.storyId&&n.payload.includes(NPR.serverVars.storyId)?t(a.spikingStoryDetected()):t(a.spikingStoryNotDetected())),r}}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spikingStoriesRequested=function(){return{type:r.SPIKING_STORIES_REQUESTED}},t.spikingStoriesSucceeded=function(e){return{type:r.SPIKING_STORIES_SUCCEEDED,payload:e}},t.spikingStoriesFailed=function(){return{type:r.SPIKING_STORIES_FAILED}},t.spikingStoryDetected=function(){return{type:r.SPIKING_STORY_DETECTED}},t.spikingStoryNotDetected=function(){return{type:r.SPIKING_STORY_NOT_DETECTED}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39)),o=n(42),i=(r=o)&&r.__esModule?r:{default:r};var s=a.WEB_HOST+"/proxy/spiking-stories";t.default={getSpikingStories:function(){return(0,i.default)(1e4,s,{method:"GET"}).then((function(e){return Promise.resolve(e.json())})).catch((function(e){return Promise.reject(e)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storyPage=t.filterReadStories=void 0;var r=l(n(5)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=l(n(368)),i=l(n(688)),s=(l(n(689)),l(n(360)),l(n(21))),u=n(35);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.filterReadStories=function(e,t){var n=[],r=function(e){return t.indexOf(e.storyId)<0};return e.forEach((function(e){var t=e;t.recommendations=e.recommendations.filter(r),t.recommendations.length>0&&n.push(t)})),n},d=t.storyPage=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(l){var d=e(l);if(l.type===a.END_OF_STORY_RECOMMENDATION_REQUESTED){var p=l.payload.storyId,f=n(),_=(0,r.default)(f,"storyHistory"),E=(0,r.default)(_,"readStoryIds")||[],m=s.default.isMobileNativeApp((0,u.getRenderPlatform)(f)),g=window.cX=window.cX||{};g.callQueue=g.callQueue||[],g.CCE=g.CCE||{},g.CCE.callQueue=g.CCE.callQueue||[],void 0===g||m||(g.CCE.callQueue.push(["run",{widgetId:NPR.ServerConstants.pianoMoreStoriesWidgetId,targetElementId:"end-of-story-recommendations-mount-piano"}]),setTimeout((function(){g.CCE.callQueue.length>0&&document.body.classList.add("use-in-house-story-recommendations")}),4e3)),i.default.getEndOfStoryRecommendations(p,[p]).then((function(e){var n=c(e,E);t(o.default.endOfStoryRecommendationCompleted(n))})).catch((function(){t(o.default.endOfStoryRecommendationFailed())}))}return l.type===a.END_OF_STORY_RECOMMENDATION_COMPLETED&&document.dispatchEvent(new CustomEvent("npr:doImageLazyLoad")),d}}};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39)),o=n(42),i=(r=o)&&r.__esModule?r:{default:r};var s=a.WEB_HOST+"/proxy/recommendations/endofstory";t.default={getEndOfStoryRecommendations:function(e,t){var n=s+"?storyId="+e+"&previouslyReadStoryIds="+JSON.stringify(t);return(0,i.default)(1e4,n,{method:"GET"}).then((function(e){return Promise.resolve(e.json())})).catch((function(e){return Promise.reject(e)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={addMetricToCenterStageCallout:function(){var e=document.getElementsByClassName("callout--newsletter");if(e.length>0){document.getElementsByName("newsletterId")[0].value;var t=new Waypoint({element:e[0],handler:function(e){"down"===e&&t.disable()},offset:"bottom-in-view"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onAudioStart=D,t.onAudioTogglePlay=N,t.onScrubEnd=L,t.onAddOneToQueue=M,t.onAutoplayToggleOn=k,t.onAutoplayToggleOff=U,t.onRecommendationsLoaded=function(e){var t=o.getAudioMetadata(e),n=i.getAudioCustomDimensions(u.ON_DEMAND,e,t);P(c.AUDIO_AUTOPLAY_TRIGGERED,n)},t.onLinkClicked=x,t.onClearHistoryRequested=F,t.track=function(e,t,n,r,f){if(e===s.STATE_LOADED&&!t.state.player)return;switch(e){case s.PLAY_PAUSE_REQUESTED:case s.SOUNDSCAPES_LOADED:E=Object.assign({},E,{type:e,payload:t,meta:n,ecosystem:f.site.ecosystem,org:f.org});break;case s.TOGGLE_PLAY:N(f,t,n);break;case s.AUDIO_RECEIVED:var _=t;t&&t.metadata&&(_=t.metadata),D(f,_,n);break;case s.AUDIO_COMPLETE:!function(e,t){m="";var n={},r="";switch(t.type){case u.SPONSORSHIP:t.subtype===u.SOUNDSCAPES?(n=i.getAudioCustomDimensions(u.SPONSORSHIP_SOUNDSCAPE,e,t,{lastPingInterval:v,currentPingTime:S,timeChange:Math.round(t.duration)},g.meta),v=S,r=c.SPONSORSHIP_AUDIO_COMPLETE):(n=i.getAudioCustomDimensions(u.SPONSORSHIP_PLAYER,e,t,{lastPingInterval:v,currentPingTime:S,timeChange:Math.round(t.duration)},g.meta),v=S,r=c.SPONSORSHIP_AUDIO_COMPLETE);break;case u.SEGMENT:n=i.getAudioCustomDimensions(u.ON_DEMAND,e,t,Object.assign({},E.originalMeta,{trackSponsorshipPlayedFrom:!0,lastPingInterval:v,currentPingTime:S,timeChange:Math.round(t.duration)}),g.meta),v=S,r=c.AUDIO_COMPLETE;break;default:a.default.warning('Should not receive audio complete actions for audio type "'+t.type+'"')}P(r,n)}(f,t);break;case s.AUDIO_ERROR:!function(e,t,n){var r=i.getAudioCustomDimensions(u.ON_DEMAND,e,t,{errorMessage:n.reason});P(c.AUDIO_ERROR,r)}(f,t,n);break;case s.REWIND:C(r,f,"rewind");break;case s.FAST_FORWARD:C(r,f,"fast forward");break;case s.SKIP:!function(e){var t=o.getAudioMetadata(e),n=(0,p.getActiveFlowRecommendations)(e);if(n&&n.length>0||t.subtype===u.SOUNDSCAPES){var r={};t.subtype!==u.SOUNDSCAPES&&(r=i.getAudioCustomDimensions(u.ON_DEMAND,e,t,Object.assign({},E.originalMeta,{currentPingTime:S,lastPingInterval:v}),g.meta),v=S),P(c.AUDIO_SKIP,r)}}(f);break;case s.SET_AUDIO_PLAYER_VOLUME:!function(e,t){clearTimeout(I),I=setTimeout((function(e,t,n){e(t,n)}),2e3,w,e,t)}(r,f);break;case s.PREVIOUS_AUDIO_PLAY_RECEIVED:!function(e,t){var n=o.getAudioMetadata(e),r={};n.subtype!==u.SOUNDSCAPES&&(r=i.getAudioCustomDimensions(u.ON_DEMAND,t,n,Object.assign({},E.originalMeta,{currentPingTime:S,lastPingInterval:v}),g.meta),v=S);P(c.AUDIO_PREVIOUS,r)}(r,f);break;case s.SCRUB_END:L(r,f,t);break;case s.GET_NEWSCAST_RECOMMENDATIONS_ON_RAMP_SUCCEEDED:case s.ON_DEMAND_PANE_SELECTED:break;case s.ADD_PLAYLIST_ITEMS_SUCCEEDED:t.addedUids&&(1==t.addedUids.length?M(f,t):t.addedUids.length>1&&function(e,t){var n,r=c.AUDIO_QUEUE,a=u.ON_DEMAND;n=i.getAudioCustomDimensions(a,e,{},{audioQueueStatus:"add - all items to queue"}),P(r,n)}(f));break;case s.SPONSORSHIP_CHANNEL_ADD_TO_PLAYLIST:!function(e,t){var n,r=c.SPONSORSHIP_AUDIO_ADD_TO_QUEUE,a=u.SPONSORSHIP_SOUNDSCAPE;n=i.getAudioCustomDimensions(a,e,t,{}),P(r,n)}(f,t);break;case s.DELETE_PLAYLIST_ITEMS_SUCCEEDED:!function(e,t){if(t.deletedUids&&1===t.deletedUids.length){var n=o.getAudioMetadata(e,t.deletedUids[0]),r=i.getAudioCustomDimensions(u.ON_DEMAND,e,n,{audioQueueStatus:"remove - item"});P(c.AUDIO_QUEUE,r)}}(r,t);break;case s.STREAMING_PANE_SELECTED_WITH_PLAY:case s.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP:break;case s.LINK_CLICKED:x(f,n);break;case s.CLEAR_HISTORY_REQUESTED:break;case s.TIMER:!function(e,t){if(!e.player.isAudioPlaying)return;var n=t/1e3,r=o.getAudioMetadata(e);if(e.sponsorship.isPlayingSponsorship)r.subtype===u.SOUNDSCAPES&&n,o.shouldSendSoundscapesHeartbeat(e,A)&&(A=o.getNextSoundscapesHeartbeat(A)),n,S=y+=n,y>O&&R(e,O);else{if(n,S=y+=n,y>O&&R(e,O),r&&r.type===u.SEGMENT)o.getPercentage(e.player.position,r.duration)>=T&&function(e,t){var n=i.getAudioCustomDimensions(u.ON_DEMAND,t,E.payload,Object.assign({},E.originalMeta,{trackSponsorshipPlayedFrom:!0,percentComplete:e,currentPingTime:S,lastPingInterval:v}),g.meta);v=S,T=o.getNextPercentComplete(T),P(c.AUDIO_PROGRESS,n)}(T,e)}}(f,t.sinceLastTick);break;case s.TOGGLE_EXPANDED:!function(e){var t="";switch((0,p.getCurrentPane)(e)){case l.NEWSCAST:t="hourly news";break;case l.ON_DEMAND:var n=(0,p.getCurrentSubpane)(e);t=n===l.SUBPANE_NPR_ONE_MIX?"NPR One Mix":n===l.SUBPANE_PLAYLIST?"playlist":n===l.SUBPANE_HISTORY?"already played":"";break;case l.STREAMING:t="listen live";break;default:t=""}var r=i.getPlayerCustomDimensions({playerLocation:t}),a=e.player.isExpanded?c.PLAYER_EXPAND:c.PLAYER_COLLAPSE;d.sendGTMEvent(a,d.createPlayerVars(r))}(f);break;case s.ENABLE_CONTINUOUS_LISTENING:k(f);break;case s.DISABLE_CONTINUOUS_LISTENING:U(f)}};var r=_(n(5)),a=_(n(12)),o=f(n(258)),i=f(n(167)),s=f(n(2)),u=f(n(24)),l=f(n(147)),c=f(n(38)),d=f(n(149)),p=n(15);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var E={},m="",g={},y=0,h=void 0,v=0,S=0,O=o.getNextAudioPingTime(0),T=o.getNextPercentComplete(0),A=o.getNextSoundscapesHeartbeat(0),I=0;function b(){0,y=0,v=0,S=0,O=o.getNextAudioPingTime(0),T=o.getNextPercentComplete(0)}function P(e,t){d.sendGTMEvent(e,d.createAudioVars(t))}function R(e,t){var n=(0,r.default)(E,"payload.type"),a="",s={},l="";switch(n){case u.SPONSORSHIP:l=(0,r.default)(E,"payload.subtype")===u.SOUNDSCAPES?u.SPONSORSHIP_SOUNDSCAPE:u.SPONSORSHIP_PLAYER,s=i.getAudioCustomDimensions(l,e,E.payload,Object.assign({},E.originalMeta,{trackSponsorshipPlayedFrom:!0,currentPingTime:t,lastPingInterval:v}),g.meta),a=c.SPONSORSHIP_AUDIO_PINGS;break;case u.SEGMENT:case u.STREAM:l=n===u.STREAM?u.STREAM:u.ON_DEMAND,s=i.getAudioCustomDimensions(l,e,E.payload,Object.assign({},E.originalMeta,{trackSponsorshipPlayedFrom:!0,currentPingTime:t,lastPingInterval:v}),g.meta),a=c.AUDIO_PINGS}P(a,s),v=O,O=o.getNextAudioPingTime(O)}function D(e,t,n){if(t.uid!==m&&void 0!==t.type){var r={},s="",l=n,d={};h=t.type;NPR.serverVars.programIsOnAir;switch(0,A=o.getNextSoundscapesHeartbeat(0),h){case u.SPONSORSHIP:b(),s="sponsorship_audio_start",t.subtype===u.SOUNDSCAPES?(A=o.getNextSoundscapesHeartbeat(0),r=i.getAudioCustomDimensions(u.SPONSORSHIP_SOUNDSCAPE,e,t)):r=i.getAudioCustomDimensions(u.SPONSORSHIP_PLAYER,e,t);break;case u.SEGMENT:if(b(),E.payload&&t.uid===E.payload.uid&&E.meta&&(l=E.meta,E.originalMeta=E.meta),l&&l.playedFrom&&"from npr one mix flow"===l.playedFrom&&g.payload&&g.meta?(d=g.meta,E.originalMeta=l):(g.payload=t,g.meta=l,d=l),s=c.AUDIO_START,r=i.getAudioCustomDimensions(u.ON_DEMAND,e,t,Object.assign({},l,{trackSponsorshipPlayedFrom:!0}),Object.assign({},d,{trackSponsorshipPlayedFrom:!0})),window.permutive){var p=t.uid.split(":")[0],f={audio_type:r.audio_type,media_story_id:r.media_id,program:r.program,title:r.title};NPR&&NPR.serverVars&&NPR.serverVars.storyId&&p===NPR.serverVars.storyId&&(NPR.serverVars.topics&&(f.parents=NPR.serverVars.topics),NPR.serverVars.fullPubDate&&(f.publishTime=new Date(NPR.serverVars.fullPubDate)),NPR.serverVars.publisherOrgId&&(f.publisher=NPR.serverVars.publisherOrgId)),permutive.track("Audio_Start",{media:f})}m=t.uid,E.payload=t,E.meta=l;break;case u.STREAM:b(),E.payload&&t.uid===E.payload.uid&&E.meta&&(l=E.meta,E.originalMeta=E.meta),g.payload=t,g.meta=l,d=l,s=c.AUDIO_START,r=i.getAudioCustomDimensions(u.STREAM,e,t,Object.assign({},l,{trackSponsorshipPlayedFrom:!0})),m=t.uid,E.payload=t,E.meta=l;break;default:a.default.warning('Unknown audio type "'+t.type+'"')}P(s,r)}}function N(e,t,n){var r=t.type===u.SPONSORSHIP,a=t.type===u.SEGMENT,s=t.type===u.STREAM,d={},p="",f=m;if(e.player.isPlaying)if(m=t.uid,r||(d=i.getAudioCustomDimensions(u.ON_DEMAND,e,t,E.originalMeta,g.meta),p=c.AUDIO_RESUME),m=f,a){if(0===e.player.position)return void D(e,t,n);m=t.uid,E.originalMeta=E.originalMeta?E.originalMeta:n,d=i.getAudioCustomDimensions(u.ON_DEMAND,e,t,E.originalMeta,g.meta),p=c.AUDIO_RESUME}else s&&(m=t.uid,E.originalMeta=E.originalMeta?E.originalMeta:n,d=i.getAudioCustomDimensions(u.STREAM,e,t,E.originalMeta,g.meta),p=c.AUDIO_RESUME);else if(!r)if(a){if(o.getPlayedFrom(o.getAudioMetadata(e),n)===l.IGNORE_METRIC)return;d=i.getAudioCustomDimensions(u.ON_DEMAND,e,t,Object.assign({},E.originalMeta,{currentPingTime:S,lastPingInterval:v}),g.meta),v=S,p=c.AUDIO_PAUSE}else s?(d=i.getAudioCustomDimensions(u.STREAM,e,t,Object.assign({},E.originalMeta,{currentPingTime:S,lastPingInterval:v}),g.meta),v=S,p=c.AUDIO_PAUSE):s&&(E.originalMeta=E.originalMeta?E.originalMeta:n);P(p,d)}function w(e,t){var n=o.getAudioMetadata(t),r=n.type!==u.SEGMENT?n.type:u.ON_DEMAND,a=i.getAudioCustomDimensions(r,t,n,Object.assign({},E.originalMeta,{trackSponsorshipPlayedFrom:!0,volumePosition:Math.round(100*t.player.volume)}),g.meta);P(c.AUDIO_ADJUST_VOLUME,a)}function C(e,t,n){var r=o.getAudioMetadata(t),a=i.getAudioCustomDimensions(u.ON_DEMAND,t,r,Object.assign({},E.originalMeta,{currentPingTime:S,timeChange:Math.round(e.player.position),lastPingInterval:v}),g.meta);v=S,P("rewind"===n?c.AUDIO_REWIND:c.AUDIO_FAST_FORWARD,a)}function L(e,t,n){if(n&&n.duration&&n.duration>0){var r=o.getPercentage(t.player.position,n.duration);T=o.getNextPercentComplete(r)}t.sponsorship.isPlayingSponsorship&&(A=o.getNextSoundscapesHeartbeatFromPosition(t.player.position));var a={};if(e.player.isScrubbing&&!t.player.isScrubbing){var s=o.getAudioMetadata(t);s.type===u.SEGMENT?(a=i.getAudioCustomDimensions(u.ON_DEMAND,t,s,Object.assign({},E.originalMeta,{currentPingTime:S,lastPingInterval:v}),g.meta),v=S):s.type===u.STREAM&&(a=i.getAudioCustomDimensions(u.STREAM,t,s,Object.assign({},E.originalMeta,{currentPingTime:S,lastPingInterval:v}),g.meta),v=S),P(c.AUDIO_SCRUB,a)}}function M(e,t){if(t.addedUids&&1===t.addedUids.length){var n,r,a=o.getAudioMetadata(e,t.addedUids[0]);r=c.AUDIO_QUEUE,n=u.ON_DEMAND,P(r,i.getAudioCustomDimensions(n,e,a,{audioQueueStatus:"add - item to queue"}))}}function k(e){var t=o.getAudioMetadata(e),n=i.getAudioCustomDimensions(u.ON_DEMAND,e,t,{audioAutoplayStatus:"on"});P(c.AUDIO_AUTOPLAY_TOGGLE,n)}function U(e){var t=o.getAudioMetadata(e),n=i.getAudioCustomDimensions(u.ON_DEMAND,e,t,{audioAutoplayStatus:"off"});P(c.AUDIO_AUTOPLAY_TOGGLE,n)}function x(e,t){if(t){var n,r="";switch((0,p.getCurrentPane)(e)){case l.NEWSCAST:r="hourly news";break;case l.ON_DEMAND:var a=(0,p.getCurrentSubpane)(e);r=a===l.SUBPANE_NPR_ONE_MIX?"NPR One Mix":a===l.SUBPANE_PLAYLIST?"playlist":a===l.SUBPANE_HISTORY?"already played":"";break;case l.STREAMING:r="listen live";break;default:r=""}if(""!=(n=t.action)){var o=t.category;if(""!=o)if("player"===o){var s=i.getPlayerCustomDimensions(Object.assign({},t,{playerLocation:r})),u=d.createPlayerVars(s);d.sendGTMEvent(n,u)}else if("testing"===o){var c=i.getTestingCustomDimensions(t),f=d.createTestingVars(c);d.sendGTMEvent(n,f)}}}}function F(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={WEB_FEATURES:1,TOPIC_MAIN_PAGE:2,PROGRAM_MAIN_PAGE:4,SERIES_MAIN_PAGE:6,BIO_PAGE:7,PODCAST_PAGE:9,BLOG:13,SUB_SERIES:14,PODCAST_EPISODE:15,ARTIST:17,GENRE:18,PROGRAM_ABOUT:19,SUPERSERIES:20,COLLECTION:21,TAG:24,CATEGORY:25,PROGRAM_SEGMENT:31,PROGRAM_EPISODE:32}},function(e,t,n){"use strict";function r(e){return"string"==typeof e?e.replace(",",""):""}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getAuthors:function(){return void 0!==NPR.serverVars.byline&&null!==NPR.serverVars.byline&&NPR.serverVars.byline.constructor===Array?NPR.serverVars.byline.map(r).join(","):""},getSections:function(){var e=[];return void 0!==NPR.serverVars.topics&&null!==NPR.serverVars.topics&&(e=e.concat(NPR.serverVars.topics)),void 0!==NPR.serverVars.programId&&null!==NPR.serverVars.programId&&e.push(NPR.serverVars.programId),void 0!==NPR.serverVars.blog&&null!==NPR.serverVars.blog&&(e=e.concat(NPR.serverVars.blog)),void 0!==NPR.serverVars.exposedCollections&&null!==NPR.serverVars.exposedCollections&&(e=e.concat(NPR.serverVars.exposedCollections)),e?e.map(r).join(","):""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.track=function(e,t,n,_,E){switch(e){case o.NEWSLETTER_ACQUISITION_COMPLETED:!function(e,t){var n=(0,r.default)(e,"metricsLocation"),a="standard subscribe box";t.globalAlerts.variant===i.STICKYBAR||n===i.STICKYBAR?a=i.STICKYBAR:n===i.MODAL&&(a=i.MODAL);var o=(0,r.default)(e,"newsletterId"),s=p.getNewsletterCustomDimensions({clickType:a,clickName:o}),l=d.createNewsletterVars(s);d.sendGTMEvent(u.NEWSLETTER_SUBSCRIBE,l)}(t,_);break;case o.NEWSLETTER_ACQUISITION_FAILED:!function(e,t){var n=(0,r.default)(e,"metricsLocation"),a="newsletter standard subscribe box";t.globalAlerts.variant===i.STICKYBAR||n===i.STICKYBAR?a=i.STICKYBAR:n===i.MODAL&&(a=i.MODAL);var o=(0,r.default)(e,"newsletterId"),s=p.getNewsletterCustomDimensions({clickName:o,errorType:a}),l=d.createNewsletterVars(s);d.sendGTMEvent(u.NEWSLETTER_ERROR,l)}(t,_);break;case o.SOUNDSCAPES_BANNER_CLICKED:!function(e){var t={uid:(0,r.default)(e,"uid"),type:s.SPONSORSHIP,subtype:s.SOUNDSCAPES},n=p.getAudioCustomDimensions(s.SPONSORSHIP_SOUNDSCAPE,{},t),a=d.createAudioVars(n);d.sendGTMEvent(u.SPONSORSHIP_SOUNDSCAPE_AUDIO_BANNER,a)}(t);break;case o.STATION_SEARCH_RESULTS_LOADED:!function(e,t){if(t.site&&!t.site.currentHref.includes("/stations")){var n=(0,r.default)(e,"term"),a=(0,r.default)(e,"results").map((function(e){return t.org[e]?t.org[e].id+" | "+t.org[e].callLetters:void 0})).filter((function(e){return e})),o=f.default.getStationDonationType(t.user.org),i=p.getDonationCustomDimensions({searchTerm:n,searchType:"station search",searchResults:a.join(", "),donationStationType:o}),s=d.createDonationVars(i);d.sendGTMEvent(u.VIEW_SEARCH_RESULTS,s)}else if(t.site&&t.site.currentHref.includes("/stations")){var l=(0,r.default)(e,"term");if(l){var c=(0,r.default)(e,"results").map((function(e){return t.org[e]?t.org[e].id+" | "+t.org[e].callLetters:void 0})).filter((function(e){return e})),_=p.getMiscCustomDimensions({searchTerm:l,searchType:"station search",searchResults:c.join(", "),category:"stations"}),E=d.createMiscVars(_);d.sendGTMEvent(u.VIEW_SEARCH_RESULTS,E)}}}(t,E);break;case o.HIDE_GLOBAL_ALERTS:!function(e,t,n){var r=f.default.getStationDonationType(t.user.org);if(n.globalAlerts.variant===i.MODAL){if(m(t).includes("donation")){var o=(0,c.getModalInfo)(),s=(0,a.getVariantIDToShowOnThisPage)(t)in o?"modal":"embed modal",_=p.getDonationCustomDimensions({creativeSlot:s,donationStationType:r,clickName:"maybe later"===e?"maybe later":"close"}),E=d.createDonationVars(_);d.sendGTMEvent(u.CLOSE_PROMOTION,E)}}else if("stickybar"===n.globalAlerts.variant){var g=(0,l.getStickybarDonationInfo)(),y=(0,a.getVariantIDToShowOnThisPage)(t)in g?"stickybar":"embed stickybar",h=p.getDonationCustomDimensions({creativeSlot:y,donationStationType:r,clickName:"maybe later"===e?"maybe later":"close"}),v=d.createDonationVars(h);d.sendGTMEvent(u.CLOSE_PROMOTION,v)}}(t,E,_);break;case o.SHOW_GLOBAL_MODAL:!function(e,t){if(m(t).includes("donation")){var n=f.default.getStationDonationType(t.user.org),r=(0,c.getModalInfo)(),o=(0,a.getVariantIDToShowOnThisPage)(t)in r?"modal":"embed modal",i=p.getDonationCustomDimensions({creativeSlot:o,donationStationType:n}),s=d.createDonationVars(i);d.sendGTMEvent(u.VIEW_PROMOTION,s)}}(0,E);break;case o.SHOW_GLOBAL_STICKYBAR:!function(e,t){var n=function(e){var t=(0,l.getStickybarNewsletterInfo)(),n=(0,l.getStickybarDonationInfo)(),r=(0,l.getStickybarEmbeddedDonationInfo)(),o=(0,a.getVariantIDToShowOnThisPage)(e);if(o in t)return t[o].newsletterInfo.newsletterId;if(o in n||o in r)return o.toLowerCase().replace(/\d+|\//g,"").trim();return"none"}(t),r=f.default.getStationDonationType(t.user.org);if(n.includes("donation")){var o=(0,l.getStickybarDonationInfo)(),i=(0,a.getVariantIDToShowOnThisPage)(t)in o?"stickybar":"embed stickybar",s=p.getDonationCustomDimensions({creativeSlot:i,donationStationType:r}),c=d.createDonationVars(s);d.sendGTMEvent(u.VIEW_PROMOTION,c)}}(0,E);break;case o.HP_HIDE_STATION_CARD_MESSAGE:break;case o.NEWSLETTER_SUBSCRIPTION_OPTIONS_CLICKED:!function(e){var t=(0,r.default)(e,"metricsLocation"),n="standard subscribe box";t===i.STICKYBAR?n=i.STICKYBAR:t===i.MODAL&&(n=i.MODAL);var a=(0,r.default)(e,"newsletterId"),o=p.getNewsletterCustomDimensions({clickType:n,clickName:a}),s=d.createNewsletterVars(o);d.sendGTMEvent(u.NEWSLETTER_SUBSCRIPTION_OPTIONS,s)}(t);break;case o.CLICK_DONATE:!function(e,t){var n="donation cta - non-embed - unknown category";switch(e.metricsLocation){case"modal":n="donation modal";break;case"inline":n="donation endofstory";break;case"stickybar":n="donation stickybar"}var r=f.default.getStationDonationType(t.user.org),a=p.getDonationCustomDimensions({donationStationType:r,creativeSlot:n}),o=d.createDonationVars(a);d.sendGTMEvent(u.CLICK_DONATE,o)}(t,E);break;case o.AMOUNT_SELECTED:!function(e,t){var n="donation cta - embed - unknown category";switch(e.metricsLocation){case"modal":n="donation embed modal";break;case"inline":n="donation embed endofstory";break;case"stickybar":n="donation embed stickybar"}e.buttonPosition&&e.buttonPosition;var r=f.default.getStationDonationType(t.user.org),a=p.getDonationCustomDimensions({donationStationType:r,creativeSlot:n}),o=d.createDonationVars(a);d.sendGTMEvent(u.AMOUNT_SELECTED,o)}(t,E);break;case o.PLUS_PROMO_BUTTON_CLICKED:break;case o.DOWNLOAD_APP_PROMO_CLICKED:!function(e){var t="app - unknown category";switch(e.metricsLocation){case"modal":t="app modal";break;case"inline":t="app endofstory";break;case"stickybar":t="app stickybar"}var n=p.getMiscCustomDimensions({category:t,clickType:"click get app"}),r=d.createMiscVars(n);d.sendGTMEvent(u.DOWNLOAD_APP_PROMO_CLICKED,r)}(t);break;case o.CREATE_ACCOUNT_PROMO_CLICKED:!function(e){var t="login - unknown category";switch(e.metricsLocation){case"modal":t="login modal";break;case"inline":t="login endofstory";break;case"stickybar":t="login stickybar"}var n=p.getMiscCustomDimensions({category:t,clickType:"click create account"}),r=d.createMiscVars(n);d.sendGTMEvent(u.CREATE_ACCOUNT_PROMO_CLICKED,r)}(t);break;case o.SIGN_IN_PROMO_CLICKED:!function(e){var t="login - unknown category";switch(e.metricsLocation){case"modal":t="login modal";break;case"inline":t="login endofstory";break;case"stickybar":t="login stickybar"}var n=p.getMiscCustomDimensions({category:t,clickType:"click sign in"}),r=d.createMiscVars(n);d.sendGTMEvent(u.SIGN_IN_PROMO_CLICKED,r)}(t);break;case o.SHOW_NPR_PLUS_MODAL:g=p.getNPRPlusCustomDimensions({category:"npr plus",clickType:"modal initial click",clickName:"get npr+ today"}),y=d.createNPRPlusVars(g),d.sendGTMEvent(u.NPR_PLUS_CLICK,y)}var g,y};var r=E(n(5)),a=n(15),o=_(n(2)),i=(_(n(29)),_(n(82))),s=_(n(24)),u=_(n(38)),l=n(148),c=n(202),d=_(n(149)),p=_(n(167)),f=E(n(618));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=(0,c.getModalInfo)(),n=(0,c.getModalEmbedInfo)(),r=(0,a.getVariantIDToShowOnThisPage)(e);return r in t||r in n?r.toLowerCase().replace(/\d+|\//g,"").trim():"none"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropdowns=void 0;var r,a=n(8),o=(r=a)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(247));var s=!1;t.dropdowns=function(e){e.getState;var t=e.dispatch;return function(e){return function(n){var r=e(n);return!1===s&&(s=!0,function(e){(0,o.default)(document).on("npr:dropdownOpened",(function(){e(i.closeStationSubnavs())}))}(t)),r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStories=void 0;var r=s(n(379)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=s(n(121)),i=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}var u=o.default.getHPLocalStoriesForStation,l=t.localStories=function(e){var t=e.dispatch;return function(e){return function(n){var o=e(n);if(n.type===a.HP_LOCAL_STORIES_REQUESTED){var s=n.payload,l=s.orgId,c=s.serviceId;c?u(c).then((function(e){t(r.default.hpLocalStoriesSucceeded(l,e))})).catch((function(e){i.default.error(e),t(r.default.hpLocalStoriesFailed(l))})):l?(i.default.info("This org Id "+l+" is not eligible for local stories"),t(r.default.hpLocalStoriesFailed(c))):(i.default.error("Invalid org Id "+l+" passed to hpLocalStoriesRequested."),t(r.default.hpLocalStoriesFailed(c)))}return o}}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyMobileNative=void 0;var r=i(n(5)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=i(n(698));function i(e){return e&&e.__esModule?e:{default:e}}t.notifyMobileNative=function(){return function(e){return function(t){switch(t.type){case a.METADATAS_LOADED:if(!t.payload||!Array.isArray(t.payload))break;o.default.sendBridgeObject(o.default.Names.pageLoaded,t.payload.map((function(e){return e.uid})));break;case a.MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED:o.default.sendBridgeObject(o.default.Names.audioButtonPressed,(0,r.default)(t,"payload"));break;case a.MOBILE_NATIVE_QUEUE_BUTTON_PRESSED:o.default.sendBridgeObject(o.default.Names.playlistButtonPressed,(0,r.default)(t,"payload"))}return e(t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(5),o=(r=a)&&r.__esModule?r:{default:r};t.default={Names:{audioButtonPressed:"audioButtonPressed",playAllButtonPressed:"playAllButtonPressed",playlistButtonPressed:"playlistButtonPressed",pageLoaded:"pageLoaded",gaEvent:"gaEvent",gaScreen:"gaScreen",ga4Event:"ga4Event"},GAEvents:{pageView:"pageView"},sendBridgeObject:function(e,t){var n={name:e,attributes:t},r=JSON.stringify(n);"undefined"!=typeof webPlayerInterface&&webPlayerInterface.bridge(r),(0,o.default)(window,"webkit.messageHandlers.bridge.postMessage")&&window.webkit.messageHandlers.bridge.postMessage(r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playerPlatformInteractions=void 0;var r=p(n(5)),a=d(n(28)),o=d(n(2)),i=d(n(206)),s=n(35),u=p(n(21)),l=d(n(93)),c=n(150);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}t.playerPlatformInteractions=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(d){var p=n(),f=u.default.isMobileNativeApp((0,s.getRenderPlatform)(p)),_=(0,s.getIsPreviewMode)(p),E=d.payload,m=d.meta,g=(0,r.default)(p,"sponsorship.isPlayingSponsorship",!1),y=(0,r.default)(p,"player.userEverInvokedPlay",!1),h=(0,r.default)(p,"player.currentUid",!1);switch(d.type){case o.PLAY_PAUSE_BUTTON_PRESSED:f?t(a.mobileNativePlayPausePressed(E.uid)):_?y&&E.uid===h?t(a.togglePlay(m)):t(a.forcePlayAudioForPreview(E)):t(g?a.togglePlay(m):a.playPauseRequested(E,m));break;case o.QUEUE_BUTTON_PRESSED:f?t(i.mobileNativeQueueButtonPressed(E.uid)):_||t(l.addPlaylistItemsRequested(E.currentPlaylistId,[E.uid],E.currentPlaylistEtag));break;case o.AUDIO_PLAYED:navigator&&"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:E.title?E.title:"",artwork:[{src:"https://media.npr.org/chrome/favicon/favicon-180x180.png",sizes:"180x180",type:"image/png"}]}));case o.INITIALIZE_PLAYER_WITH_REMOTE_SERVICE:_||t(l.loadVisualPlaylistRecommendationsRequested(c.LISTENING_DEFAULT_PLAYLIST_UID,0,!1))}return e(d)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paneNavigation=void 0;O(n(168));var r=O(n(109)),a=O(n(5)),o=O(n(12)),i=S(n(2)),s=S(n(28)),u=S(n(43)),l=S(n(147)),c=S(n(24)),d=S(n(119)),p=n(110),f=S(n(152)),_=S(n(56)),E=S(n(34)),m=n(15),g=S(n(90)),y=n(171),h=n(35),v=O(n(21));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}var T=function(e,t,n,r,a){t===l.NEWSCAST?e.type===c.STREAM?n(g.paneChangeWithExpand(l.STREAMING)):n(g.paneChangeWithExpand(l.ON_DEMAND)):e.subtype!==c.SEGMENT_NEWSCAST&&(a!==E.SMALL||r?function(e,t,n){t.type===c.STREAM&&n!==l.STREAMING&&e(g.paneChangeWithExpand(l.STREAMING)),t.type!==c.STREAM&&n!==l.ON_DEMAND&&e(g.paneChangeWithExpand(l.ON_DEMAND))}(n,e,t):function(e,t,n){t.type===c.STREAM&&n!==l.STREAMING&&e(g.paneChangeDirect(l.STREAMING)),t.type!==c.STREAM&&n!==l.ON_DEMAND&&e(g.paneChangeDirect(l.ON_DEMAND))}(n,e,t))},A=function(e,t,n,r,a,o){if(e&&d.getMetadataTypeForUid(a,e)===c.STREAM)return t;var i=n.org.id;if(i&&i!==_.NPR){var s=r[i];if(s&&s.streams)return s.streams.map((function(e){return a[e]})).find((function(e){return e.primary}))}return 0===o.stations.length?f.STREAM_24_HOUR_PROGRAM_METADATA:void 0},I=function(e,t,n){return!0===e.isPlaying&&t&&d.getMetadataTypeForUid(n,t)===c.SEGMENT},b=t.paneNavigation=function(e){var t=e.dispatch,n=e.getState;return function(e){return c=regeneratorRuntime.mark((function c(d){var f,S,O,b,P,R,D,N,w,C,L,M,k,U,x,F,G,j;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return f=n(),S=e(d),O=n(),b=O.player,P=O.metadata,R=O.user,D=O.org,N=O.localStations,w=b.currentUid,C=P[w],L=(0,m.getCurrentPane)(O),M=v.default.isMobileNativeApp((0,h.getRenderPlatform)(O)),d.type===i.ON_DEMAND_PANE_SELECTED&&(t(g.paneChangeWithExpand(l.ON_DEMAND)),t(g.subpaneChangeDirect(l.SUBPANE_PLAYLIST))),d.type===i.STREAMING_PANE_SELECTED_WITH_PLAY&&(k=void 0,I(b,w,P)?(k=A(w,C,R,D,P,N),(0,r.default)(k)||t(s.togglePlay(C,{playedFrom:l.IGNORE_METRIC}))):!1===b.isPlaying&&(k=A(w,C,R,D,P,N)),(0,r.default)(k)?t(g.paneChangeWithExpand(l.STREAMING)):t(s.playPauseRequested(k,{playedFrom:"from pane listen live"}))),d.type===i.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP&&(U=d.payload,(0,p.isValidStationOrg)(R.org.id)||L===l.STREAMING?(x=P[(0,p.getNewscastUidForOrg)(U)],F=parseInt(U,10)===_.NPR?"from pane national newscast":"from pane local newscast",x?t(s.playPauseRequested(x,{playedFrom:F})):(0,y.getNewscastForOrg)(U,(0,a.default)(f,"time.now"),R,t,!0,M).then((function(e){t(u.metadataLoaded(e)),t(s.playPauseRequested(e,{playedFrom:F}))})).catch((function(e){return o.default.info(e,{orgId:U})}))):t(g.paneChangeWithExpand(l.STREAMING))),d.type===i.TOGGLE_PLAY&&(G=d.payload,f.player.isPlaying||T(G,L,t,b.env.isExpanded,b.env.breakpoint)),d.type===i.NEW_PLAY_REQUESTED&&(j=d.payload.metadata,T(j,L,t,b.env.isExpanded,b.env.breakpoint),b.env.breakpoint===E.SMALL&&t(g.collapsePane())),c.abrupt("return",S);case 14:case"end":return c.stop()}}),c,void 0)})),d=function(){var e=c.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return d.apply(this,arguments)};var c,d}};t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalAlerts=void 0;S(n(8)),S(n(5));var r=S(n(44)),a=v(n(2)),o=v(n(82)),i=v(n(29)),s=n(195),u=n(15),l=n(35),c=n(362),d=S(n(21)),p=n(108),f=n(202),_=n(148),E=S(n(121)),m=n(263),g=S(n(265)),y=n(122),h=n(34);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}var O=!1,T=function(e){var t=(0,u.getLastPaymentDate)(e);return!!t&&y.currentDay<(0,g.default)(t).add(30,"days").toISOString()},A=t.globalAlerts=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(g){var v=n(),S=e(g),A=n();if(g.type===a.PAGE_DETECTED&&(O=!1),g.type!==a.GET_LOCAL_STATIONS_SUCCEEDED&&g.type!==a.GET_LOCAL_STATIONS_FAILED&&g.type!==a.PRE_EXISTING_LOCAL_STATIONS_DETECTED&&g.type!==a.GET_LOCAL_STATIONS_SKIPPED&&g.type!==a.SPIKING_STORIES_FAILED&&g.type!==a.SPIKING_STORY_NOT_DETECTED&&g.type!==a.SPIKING_STORY_DETECTED||O||!0!==A.spikingStories.areSpikingStoriesDetermined||A.localStations.requestStatus===i.NOT_STARTED||A.localStations.requestStatus===i.PENDING||(!function(e,t,n){var a=(0,c.getIsGlobalAlertLastSeenToday)(n),i=(0,y.isBlockListed)(n.site.currentHref),p=new URLSearchParams(window.location.search),g=1===parseInt(p.get("hideAlerts"),10),v=d.default.isMobileNativeApp((0,l.getRenderPlatform)(n)),S=!1,O="render"===r.default.getUrlParameter("localizationModal")&&null!==n.plusLocalization.email;if((!a||O)&&!i&&!g&&!v){var A=(0,_.getStickybarMaxSees)(),I=(0,_.getStickyBarPlusInfo)(),b=(0,f.getModalLocalizationInfo)();if(O)for(var P in b){if((0,y.isWithinThisGlobalAlertPeriod)(b[P])){e((0,s.globalAlertVariationDetermined)(o.MODAL,P)),e((0,s.showGlobalModal)()),S=!0;break}}if(!S)for(var R in I){var D=(0,u.getNumTimesStickybarTriggered)(n,R),N=(0,_.isOnStickybarPage)(n,I[R]);if((0,y.isWithinThisGlobalAlertPeriod)(I[R])&&D<A&&N){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,R)),S=!0;break}}if(!S){var w=(0,_.getStickybarNewsletterInfo)(),C=t.user.view.data.attributes.subscriptions;for(var L in w){var M=(0,u.getNumTimesStickybarTriggered)(n,L),k=(0,_.isOnStickybarPage)(n,w[L]),U=(0,y.isWithinThisGlobalAlertPeriod)(w[L]),x=w[L].newsletterInfo===(0,_.getStickybarUsePageNewsletter)(),F=!1;!document.getElementById("newsletter-acquisition-callout-data")&&x&&(F=!0);var G=-1!==C.indexOf(w[L].newsletterInfo.newsletterID);if(U&&!G&&M<A&&k&&!F){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,L)),S=!0;break}}}if(!S&&(0,m.isEligibleForEmbeddedDonation)(n)&&!(0,m.isBlockListedForDonation)()){var j=(0,_.getStickybarEmbeddedDonationInfo)();for(var B in j){var H=(0,u.getNumTimesStickybarTriggered)(n,B),W=(0,_.isOnStickybarPage)(n,j[B]);if((0,y.isWithinThisGlobalAlertPeriod)(j[B])&&H<A&&!T(n)&&W){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,B)),e((0,s.showGlobalStickybar)()),S=!0;break}}}if(!S&&!(0,m.isBlockListedForDonation)()){var V=(0,_.getStickybarDonationInfo)();for(var Y in V){var q=(0,u.getNumTimesStickybarTriggered)(n,Y),Q=(0,_.isOnStickybarPage)(n,V[Y]);if((0,y.isWithinThisGlobalAlertPeriod)(V[Y])&&q<A&&!T(n)&&(!E.default.getStreamStationId()||n.player.env.breakpoint!==h.SMALL)&&Q){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,Y)),S=!0;break}}}if(!S){var K=(0,_.getStickybarGenericInfo)();for(var z in K){var J=(0,u.getNumTimesStickybarTriggered)(n,z),X=(0,_.isOnStickybarPage)(n,K[z]);if((0,y.isWithinThisGlobalAlertPeriod)(K[z])&&J<A&&X){e((0,s.globalAlertVariationDetermined)(o.STICKYBAR,z)),S=!0;break}}}if(!S&&(0,m.isEligibleForEmbeddedDonation)(n)&&!(0,m.isBlockListedForDonation)()){var Z=(0,f.getModalEmbedInfo)(n),$=(0,f.getModalMaxSees)();for(var ee in Z){var te=(0,u.getNumTimesModalTriggered)(n,ee),ne=(0,y.isWithinThisGlobalAlertPeriod)(Z[ee]);if(te<$&&!T(n)&&(!E.default.getStreamStationId()||n.player.env.breakpoint!==h.SMALL)&&ne){e((0,s.globalAlertVariationDetermined)(o.MODAL,ee)),e((0,s.showGlobalModal)()),S=!0;break}}}if(!S&&!(0,m.isBlockListedForDonation)()){var re=(0,f.getModalInfo)(n),ae=(0,f.getModalMaxSees)();for(var oe in re){var ie=(0,u.getNumTimesModalTriggered)(n,oe),se=(0,y.isWithinThisGlobalAlertPeriod)(re[oe]);if(ie<ae&&!T(n)&&se){e((0,s.globalAlertVariationDetermined)(o.MODAL,oe)),S=!0;break}}}}S||e((0,s.globalAlertVariationDetermined)(o.NONE,o.NONE))}(t,v,A),O=!0),g.type===a.CHECK_GLOBAL_ALERTS){var I=!1,b=1500,P=g.payload;(0,p.isMobileDevice)(A)&&(b=1e3);var R=document.body.offsetHeight-window.innerHeight,D=(0,_.getStickyBarPlusInfo)();for(var N in D)if((0,_.isOnStickybarPage)(A,D[N])&&R<1500){b=(0,p.isMobileDevice)(A)?.4*R:.6*R;break}P>=b&&(I=!0);var w=(0,u.getAlertVariant)(A),C=(0,u.getGlobalAlertAlreadyVisibleThisPage)(A);if(I&&w===o.NONE&&!C){var L=(0,u.getVariantIDToShowOnThisPage)(A),M=(0,u.getVariantTypeToShowOnThisPage)(A);if(M===o.MODAL)t((0,s.showGlobalModal)());else if(M===o.STICKYBAR){var k=(0,_.getStickybarNewsletterInfo)(),U=(0,_.getStickybarDonationInfo)(),x=(0,_.getStickybarGenericInfo)();(L in D||L in k||L in U||L in x)&&t((0,s.showGlobalStickybar)())}}}return S}}};t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googletag=void 0;var r=o(n(2)),a=o(n(172));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var i=!0,s=t.googletag=function(e){e.dispatch;var t=e.getState;return function(e){return function(n){t();var o=e(n);t();return n.type===r.PAGE_DETECTED&&(i?i=!1:a.sendPageView()),n.type!==r.GET_LOCAL_STATIONS_SUCCEEDED&&n.type!==r.GET_LOCAL_STATIONS_FAILED&&n.type!==r.PRE_EXISTING_LOCAL_STATIONS_DETECTED&&n.type!==r.GET_LOCAL_STATIONS_SKIPPED||a.sendPageView(),o}}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(12)),a=o(n(201));function o(e){return e&&e.__esModule?e:{default:e}}var i=void 0;function s(e){var t;t='{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}';var n=JSON.parse(t);for(var r in n)n.hasOwnProperty(r)&&"e"!==r&&(n[r]=n[r].replace(/\+/g," "));return n}t.default={getAuthCookieData:function(){return function(){var e=void 0;try{null!=(e=a.default.get("at"))?i=s(e):(e=a.default.get("npr-session"),i=null!=e?s(e):void 0)}catch(e){r.default.error(e)}}(),i},getStationCookieData:function(){var e=a.default.get("st");return e&&e.length?e.split(","):null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BEST_OF_NPR="best-of-npr",t.MUSIC="music",t.EMAIL_SOURCE="npr_newsletter",t.DEFAULT_NEWSLETTERS=["news","breaking-news","best-of-npr"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.musicStreams=void 0;c(n(151));var r,a=c(n(2)),o=n(121),i=(r=o)&&r.__esModule?r:{default:r},s=c(n(706)),u=c(n(707)),l=c(n(622));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=t.musicStreams=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){n();var o=e(r);n();if(r.type===a.MUSIC_STREAMS_REQUESTED){var c=function(e){var t=Object.values(s.FEATURED_STREAMS);return e.filter((function(e){for(var n=!1,r=0;r<t.length;r++)t[r].guid===e.guid&&(n=!0);return n}))},p=!0,f=[],_=[],E=[],m=[],g=[],y=[],h=[],v=[],S=[],O=u.genreRock,T=u.genreJazz,A=u.genreClassical,I=u.genreMixed,b=u.genreRb,P=u.genreHiphop,R=u.genreFolk,D=u.genreLocal;i.default.getMusicHomepageStreams().then((function(e){(function(e){for(var t in e){switch(t){case O:_=p?c(e[t]):e[t];break;case T:v=p?c(e[t]):e[t];break;case A:m=p?c(e[t]):e[t];break;case I:S=p?c(e[t]):e[t];break;case b:g=p?c(e[t]):e[t];break;case P:y=p?c(e[t]):e[t];break;case R:E=p?c(e[t]):e[t];break;case D:f=e[t]}h=[].concat(d(g),d(y))}})(e=function(e){var t=Object.values(s.FEATURED_STREAMS);for(var n in e)if(e.hasOwnProperty(n))for(var r=0;r<e[n].length;r++){var a=e[n][r];if(1==a.stations.length)a.orgId=a.stations[0].orgId,a.primaryStream=a.stations[0].primaryStream;else if(0==a.stations.length)e[n].splice(r,1);else{for(var o=!1,i=0;i<t.length;i++)if(t[i].guid===a.guid){o=!0,a.orgId=t[i].orgId;var u=!0,l=!1,c=void 0;try{for(var d,p=a.stations[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;f.orgId===t[i].orgId&&(a.primaryStream=f.primaryStream)}}catch(e){l=!0,c=e}finally{try{!u&&p.return&&p.return()}finally{if(l)throw c}}}0==o&&e[n].splice(r,1)}delete a.stations}return e}(e)),t(l.musicStreamsRequestReceived({localStreams:f,rockStreams:_,folkStreams:E,classicalStreams:m,rbStreams:g,hiphopStreams:y,rbHiphopStreams:h,jazzStreams:v,mixedStreams:S}))})).catch((function(){t(l.musicStreamsRequestFailed())}))}return o}}};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FEATURED_STREAMS={"WBGO Jazz 88.3FM":{guid:"4fcf714b0fed46aabb40d8dccfd2b653",orgId:"314"},"KMHD Jazz Radio":{guid:"4fcf715c0943492283acb61db1ffcdda",orgId:"1117"},"KUVO Jazz":{guid:"c416bd92f2cf458e827142694653b24d",orgId:"254"},"WRTI Jazz":{guid:"4fcf71670e8640288e97d8a2e62b66b1",orgId:"597"},"Eric in the Evening Jazz (WGBH)":{guid:"1272855b373b4c5481bb610c7e8a2b20",orgId:"395"},"Jazz24 (KNKX)":{guid:"4fcf713c182b4b6095b9b13837299888",orgId:"148"},"Folk Alley":{guid:"4fcf71461d0a4443ac288b01dc637734",orgId:"471"},"Folk Alley Fresh Cuts":{guid:"13f58d45350018840a8b762a3d26f26d",orgId:"471"},"Radio Heartland":{guid:"4fcf71411eb5469cbddfec74ea1afed9",orgId:"936"},"WMOT-FM 89.5":{guid:"4fcf716520a84fa994d5a8bf21dfb6d7",orgId:"508"},WNCW:{guid:"4845e6714d3f4410ae366954eb90d31a",orgId:"525"},"The Current":{guid:"4fcf714225f048d5999ee032db4ccba4",orgId:"936"},KEXP:{guid:"4fcf713d22c7435c85380a8d1fe87750",orgId:"79"},WXPN:{guid:"4fcf715317fe44b794b610e14c4fb34e",orgId:"715"},KUTX:{guid:"4fcf713f157a400ea510541bfd337134",orgId:"1280"},WFUV:{guid:"13efb13be6f0117418e906a2db1d5eb9",orgId:"393"},"Indie 102.3":{guid:"4fcf715620ac4d409ce441250528367c",orgId:"1515"},WQXR:{guid:"4fcf7151007341b7b570e4b15b3078c9",orgId:"1130"},WETA:{guid:"808eb32aba46479dad9f0a953c4a7084",orgId:"372"},"Houston Public Media Classical":{guid:"4fcf713110c243cb85bdd689887d3a2b",orgId:"220"},"CPR Classical":{guid:"4fcf7156166a453991682ff335006aed",orgId:"41"},"WDAV 89.9 Classical Public Radio":{guid:"4fcf714b18ab453dace011707e537fd3",orgId:"357"},KCRW:{guid:"ae77f58ad68b47e8aac25d9466f7f158",orgId:"55"},"New Sounds":{guid:"4fcf7150247746b988de842a0dfe0c72",orgId:"554"},KXLL:{guid:"4fcf715c22cc4aad93993390da7eb305",orgId:"1000"},KUNM:{guid:"4fcf716007484eaf83f64a4342d2d9c3",orgId:"227"},KZYX:{guid:"1c614cd30b6a4fd083b72e18247ba189",orgId:"291"},"88Nine Milwaukee":{guid:"c7d1024c2bd4445a9c031a7e1d904f5a",orgId:"921"},"The Drop":{guid:"d7900b89790d4e02aafda8745e2bca01",orgId:"254"},Vocalo:{guid:"2c295a62b7b54b5b9be902d6e8824ed1",orgId:"308"},"WMNF Soul School":{guid:"522918008c434a0eb87e50d48bd6fb39",orgId:"507"},"Classical MPR":{guid:"4fcf714123f54bc69e2913e58703bd8b",orgId:"818"},"NewGrass Valley":{guid:"4fcf714c0ce04224a0caced12ecfe7c7",orgId:"402"},"KCRW Eclectic24 All Music":{guid:"99cffd6263b24ab7aa9e9404c07171d6",orgId:"55"},"Purple Current":{guid:"8e86978fdb9d4c74a79472bf2e21f7b3",orgId:"111"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.genreRock="10001",t.genreJazz="10002",t.genreClassical="10003",t.genreHiphop="10005",t.genreMixed="853031894",t.genreRb="139998808",t.genreFolk="139999257",t.genreLocal="local"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.donations=t.getLocalStationDataByParam=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=s(n(121)),o=n(55),i=s(n(197));function s(e){return e&&e.__esModule?e:{default:e}}t.getLocalStationDataByParam=(u=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.default.getForcedLocalizationStationId();case 3:return t=e.sent,e.next=6,a.default.getNonLocalStationData(t);case 6:return t=e.sent,e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,void 0,[[0,10]])})),l=function(){var e=u.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return l.apply(this,arguments)});var u,l,c=t.donations=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){var s=n(),u=e(a),l=n();if(!s.donations.showStationPickerModal&&l.donations.showStationPickerModal)document.body.style.top="-"+window.scrollY+"px",document.body.classList.add("has-find-station-modal");else if(s.donations.showStationPickerModal&&!l.donations.showStationPickerModal){var c=document.body.style.top;document.body.classList.remove("has-find-station-modal"),document.body.style.top="",window.scrollTo(0,-1*parseInt(c||"0"))}return a.type===r.SET_SOURCE&&s.donations.source.includes(o.DONATION_EMBED)&&l.donations.source.includes(o.DONATION_EMBED)&&t(i.default.handleResetOtherAmount()),u}}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localization=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=n(710);var o=t.localization=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(o){var i=e(o);n();return o.type!==r.STATION_CHANGE_COMPLETED&&o.type!==r.STATION_AUTOLOCALIZED&&o.type!==r.DEFAULT_ORG_RESOLVED&&o.type!==r.HAS_DETERMINED_USER_IS_ALREADY_LOCALIZED||t((0,a.hasLocalizationDataReady)()),i}}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasLocalizationDataReady=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.hasLocalizationDataReady=function(){return{type:r.HAS_LOCALIZATION_DATA_READY}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.piano=void 0;var r=T(n(721)),a=O(n(2)),o=O(n(68)),i=O(n(67)),s=n(259),u=O(s),l=O(n(39)),c=T(n(42)),d=T(n(12)),p=T(n(21)),f=O(n(82)),_=T(n(197)),E=n(256),m=n(260),g=n(111),y=O(n(24)),h=O(n(381)),v=T(n(92)),S=n(371);function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var A=l.IDENTITY_HOST+"/v2/jwt",I=!1,b=!1,P=!1,R=!1,D=[],N=!1,w=!1,C=[],L=!1,M=new Map,k=[a.PIANO_INIT_SUCCEEDED,a.HAS_LOCALIZATION_DATA_READY,a.HAS_CHECKED_SPRINGBOARD_COOKIE],U=[a.PAGE_DETECTED,a.HAS_CHECKED_SPRINGBOARD_COOKIE],x=null;document.addEventListener("npr:pageLoad",(function(){N=!0})),document.addEventListener("npr:pageUnload",(function(){N=!1}));var F=t.piano=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){var l,f,O,T,F,Q=e(r),K=n(),z=p.default.getSessionInfo();if(p.default.isMobileNativeApp(z.renderPlatform))return Q;if(r.type===a.HAS_LOCALIZATION_DATA_READY&&D.push(a.HAS_LOCALIZATION_DATA_READY),function(e,t,n){return e.every((function(e){return t.includes(e)}))&&n}(k,D,K.session.init)&&!b&&R&&(b=!0,t((0,s.tpExperienceInitRequested)())),r.type===a.TP_EXPERIENCE_INIT_REQUESTED&&(l=K.donations.participatingStations,f=K.user.org.id,O=K.user.view,T=K.org,F=K.user.JWT.token,L=!0,I=!0,tp.push(["setPageURL",window.location.href]),B(),H(l,f,O,T),W(F),tp.experience.init(),t((0,s.tpExperienceInitSucceeded)())),function(e,t){return e.every((function(e){return t.includes(e)}))}(U,C)&&!w&&R&&N&&(w=!0,t((0,s.tpExperienceExecuteRequested)())),r.type===a.TP_EXPERIENCE_EXECUTE_REQUESTED&&(!function(e,t,n,r,a){L=!0,tp.push(["setPageURL",window.location.href]),B(),W(a),H(e,t,n,r),tp.experience.execute()}(K.donations.participatingStations,K.user.org.id,K.user.view,K.org,K.user.JWT.token),t((0,s.tpExperienceExecuteSucceeded)())),P||R||!0!==K.session.init||(P=!0,K.user.JWT&&K.user.JWT.expiration?1e3*K.user.JWT.expiration>Date.now()?t(u.sendJWTToPiano(K.user.JWT.token)):t(u.JWTRequested(K.user.JWT.email)):R=!0),r.type===a.PIANO_INIT_SUCCEEDED&&(D.push(a.PIANO_INIT_SUCCEEDED),j(),"undefined"!=typeof NPR_OptanonWrapper&&!0===NPR_OptanonWrapper?G():document.addEventListener("npr:DataConsentAvailable",(function(){G()})),document.addEventListener("npr:DataConsentChanged",(function(){G()})),function(e){tp.push(["addHandler","customEvent",function(t,n,r,a){var o="";switch(t.eventName){case"email-signup":var u,l,c="",d="";l=(u=JSON.parse(t.params.params)).iframeId,u.templateId,void 0!==t.params.email&&t.params.email.length>0&&(c=t.params.email),void 0!==t.params.newsletter&&t.params.newsletter.length>0&&(d=t.params.newsletter),o=q(t),c&&d&&e(i.newsletterAcquisitionRequested(c,d,l,o));break;case"see-more-subs":var p,f,m="";f=(p=JSON.parse(t.params.params)).iframeId,p.templateId,o=q(t),void 0!==t.params.newsletter&&t.params.newsletter.length>0&&(m=t.params.newsletter),m&&e(i.newsletterSubscriptionOptionsClicked(m,f,o));break;case"donations-cta":o=q(t),e(_.default.clickDonate(o));break;case"donations-streamlined-1":case"donations-streamlined-2":case"donations-streamlined-3":case"donations-streamlined-4":case"donations-streamlined-5":o=q(t),e(_.default.amountSelected(o,t.eventName));break;case"plus-click":var g="";JSON.parse(t.params.params),o=q(t),void 0!==t.params.podcast&&t.params.podcast.length>0&&(g=t.params.podcast),g&&e((0,E.plusPromoButtonClicked)(o,g));break;case"click-get-app":o=q(t),e((0,s.downloadAppPromoClicked)(o));break;case"create-account-clicked":o=q(t),e((0,s.createAccountPromoClicked)(o));break;case"sign-in-clicked":o=q(t),e((0,s.signInPromoClicked)(o))}}])}(t),tp.push(["addHandler","showTemplate",function(e){var t=e.containerSelector;if("modal"===e.displayMode&&(t="modal",(0,m.doFocusTrapPianoModal)()),M.set(e.templateId,t),"global-header-sticky"===Y(e.templateId)){document.querySelector("body").classList.add("has-global-header-sticky-cta");var n=document.querySelector("#global-header-sticky-cta-wrap");(x=new ResizeObserver(V)).observe(n)}}]),tp.push(["addHandler","checkoutClose",function(e){(0,m.removeFocusTrapPianoModal)(),"global-header-sticky"===Y(e.templateId)&&(document.querySelector("body").classList.remove("has-global-header-sticky-cta"),document.querySelector("#global-header-sticky-cta-wrap"),document.documentElement.style.removeProperty("--global-cta-body-padding"),x&&x.disconnect())}])),r.type===a.PAGE_DETECTED){var J=v.default.getCookie("npr_springboard_handoff");if(J&&o.hasConsentedTo(o.TARGETING_AND_SPONSOR)){var X,Z,$,ee=J.split(":");X=ee[0]||"",Z=ee[1]||"",($=ee[2]||"")&&""!==K.user.JWT.email&&K.user.JWT.email!==$&&S.datadogLogs.logger.info("Springboard JWT - email address user collision",{emailAddressAssociatedWithExistingJWT:K.user.JWT.email,emailAddressGivenToSpringboard:$}),t(u.JWTRequestSucceeded(X,Z,$)),v.default.clearCookie("npr_springboard_handoff",{domain:NPR.ServerConstants.cookieDomain,path:"/"})}t(u.hasCheckedSpringboardCookie())}if(r.type===a.HAS_CHECKED_SPRINGBOARD_COOKIE&&(D.push(a.HAS_CHECKED_SPRINGBOARD_COOKIE),C.push(a.HAS_CHECKED_SPRINGBOARD_COOKIE)),r.type===a.PAGE_DETECTED&&!0===I&&(w=!1,L=!1,R=!1,C.push(a.PAGE_DETECTED),K.user.JWT&&K.user.JWT.expiration&&1e3*K.user.JWT.expiration<Date.now()?t(u.JWTRequested(K.user.JWT.email)):R=!0),r.type===a.JWT_REQUESTED&&o.hasConsentedTo(o.TARGETING_AND_SPONSOR)){var te=new URL(A);r.payload.email&&te.searchParams.set("email",r.payload.email),r.payload.donationType&&r.payload.donationInterval&&(te.searchParams.set("donationType",r.payload.donationType),te.searchParams.set("donationInterval",r.payload.donationInterval)),(0,c.default)(1e4,te.href).then((function(e){return e.json()})).then((function(e){t(u.JWTRequestSucceeded(e.token,e.exp,r.payload.email?r.payload.email:""))})).catch((function(e){t(u.JWTRequestFailed(e))}))}if(r.type===a.JWT_REQUEST_FAILED&&d.default.info(r.payload.message),r.type===a.JWT_REQUEST_SUCCEEDED&&o.hasConsentedTo(o.TARGETING_AND_SPONSOR)&&t(u.sendJWTToPiano(r.payload.token)),r.type===a.SEND_JWT_TO_PIANO&&o.hasConsentedTo(o.TARGETING_AND_SPONSOR)&&(R=!0,L&&tp.api.callApi("/anon/user/get",{aid:document.getElementById("piano-aid").dataset.pianoAid,user_token:r.payload.token},(function(){return!0})),tp.push(["setExternalJWT",r.payload.token])),r.type===a.STATION_CHANGE_COMPLETED&&H(K.donations.participatingStations,K.user.org.id,K.user.view,K.org),r.type===a.AUDIO_COMPLETE&&document.dispatchEvent(new CustomEvent(h.NPR_AUDIO_COMPLETE)),r.type===a.ADD_PLAYLIST_ITEMS_SUCCEEDED&&document.dispatchEvent(new CustomEvent(h.NPR_ADD_PLAYLIST_ITEMS_SUCCEEDED)),r.type===a.AUDIO_RECEIVED){var ne=r.payload.metadata;if((0,g.isNewscastAudio)(ne))document.dispatchEvent(new CustomEvent(h.NPR_AUDIO_RECEIVED__NEWSCAST));else switch(ne.type){case y.STREAM:document.dispatchEvent(new CustomEvent(h.NPR_AUDIO_RECEIVED__STREAM));break;case y.SEGMENT:document.dispatchEvent(new CustomEvent(h.NPR_AUDIO_RECEIVED__SEGMENT));break;case y.SPONSORSHIP:}}return Q}}};function G(){o.hasConsentedTo(o.TARGETING_AND_SPONSOR)?tp&&(tp.consent.set("COMPOSER",{mode:"opt-in"}),tp.consent.set("DL",{mode:"opt-in"}),tp.consent.set("DMP",{mode:"opt-in"}),tp.consent.set("ESP",{mode:"opt-in"}),tp.consent.set("ID",{mode:"opt-in"}),tp.consent.set("PA",{mode:"opt-in"}),tp.consent.set("Social Flow",{mode:"opt-in"}),tp.consent.set("VX",{mode:"opt-in"})):j()}function j(){tp&&(tp.consent.set("COMPOSER",{mode:"opt-out"}),tp.consent.set("DL",{mode:"opt-out"}),tp.consent.set("DMP",{mode:"opt-out"}),tp.consent.set("ESP",{mode:"opt-out"}),tp.consent.set("ID",{mode:"opt-out"}),tp.consent.set("PA",{mode:"opt-out"}),tp.consent.set("Social Flow",{mode:"opt-out"}),tp.consent.set("VX",{mode:"opt-out"}))}function B(){if(!tp)return!1;NPR.serverVars.theme?tp.push(["setZone",NPR.serverVars.theme]):NPR.serverVars.storyId?tp.push(["setZone",NPR.serverVars.storyId]):tp.push(["setZone",""]),NPR.serverVars.aggIds?tp.push(["setTags",NPR.serverVars.aggIds]):tp.push(["setTags",""]),NPR.serverVars.fullPubDate?tp.push(["setContentCreated",NPR.serverVars.fullPubDate]):tp.push(["setContentCreated",""]),NPR.serverVars.primaryTopic?tp.push(["setContentSection",NPR.serverVars.primaryTopic]):tp.push(["setContentSection",""])}function H(e,t,n,r){t?tp.push(["setCustomVariable","localStation",t]):tp.push(["setCustomVariable","localStation",""]);var a=!1;for(var o in e)e[o].id===t&&(a=!0);if(tp.push(["setCustomVariable","streamlinedStation",a]),n.data.attributes.email&&tp.push(["setCustomVariable","userEmail",n.data.attributes.email]),t)for(var i in r)r[i].id===t&&(r[i].logoUrl&&tp.push(["setCustomVariable","stationLogo",r[i].logoUrl]),r[i].name&&tp.push(["setCustomVariable","displayName",r[i].name]),r[i].serviceId&&tp.push(["setCustomVariable","serviceId",r[i].serviceId]),r[i].bundle?(tp.push(["setCustomVariable","bundleStation",!0]),tp.push(["setCustomVariable","bundleLinkUrl",r[i].bundle])):tp.push(["setCustomVariable","bundleStation",!1]))}function W(e){e&&(0,r.default)(e).newsletter&&tp.push(["setCustomVariable","userState","Subscriber"])}function V(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value.contentRect.height;document.documentElement.style.setProperty("--global-cta-body-padding",i+"px")}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}function Y(e){switch(M.get(e)){case"#callout-end-of-story-mount-piano":return"inline";case"#global-stickybar-mount-piano":return f.STICKYBAR;case"modal":return"modal";case"#global-header-cta-mount":return"global-header-static";case"#global-header-sticky-cta-mount":return"global-header-sticky"}return""}function q(e){var t="";return e&&e.params.params&&(t=Y(JSON.parse(e.params.params).templateId)),t}t.default=F},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liveBlog=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=n(619),i=n(42),s=(r=i)&&r.__esModule?r:{default:r},u=n(713),l=n(39),c=n(15);var d=null,p=0,f=!0,_=t.liveBlog=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){n();var i=e(r),s=n();return"hidden"===document.visibilityState?(f=!1,d&&clearInterval(d)):"visible"!==document.visibilityState||f?document.visibilityState||(f=!0,d&&clearInterval(d)):(f=!0,t((0,u.liveBlogPostsRequested)())),f?(r.type!==a.LAYOUT_DETECTED&&r.type!==a.LIVE_BLOG_POSTS_REQUESTED||(p=0,d&&clearInterval(d),(0,c.isCurrentlyOnLiveBlog)(s)&&(E(t,s.site.currentThemeId),d=setInterval(E,45e3,t,s.site.currentThemeId))),r.type===a.LIVE_BLOG_POSTS_SUCCEEDED&&(0,o.isBlogArchived)(r.payload.archivedDateTime)&&d&&d&&clearInterval(d),r.type===a.LIVE_BLOG_POSTS_FAILED&&(3===p&&clearInterval(d),p++),i):i}}};function E(e,t){(0,s.default)(1e4,l.WEB_HOST+"/posts/latest/"+t).then((function(e){return e.json()})).then((function(t){e((0,u.liveBlogPostsSucceeded)(t))})).catch((function(t){e((0,u.liveBlogPostsFailed)(t))}))}t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liveBlogPostsFailed=t.liveBlogPostsRequested=void 0,t.liveBlogPostsSucceeded=function(e){return{type:r.LIVE_BLOG_POSTS_SUCCEEDED,payload:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));t.liveBlogPostsRequested=function(){return{type:r.LIVE_BLOG_POSTS_REQUESTED}};t.liveBlogPostsFailed=function(){return{type:r.LIVE_BLOG_POSTS_FAILED}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.plusContentBehavior=void 0;var r,a=n(5),o=(r=a)&&r.__esModule?r:{default:r},i=u(n(2)),s=u(n(194));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l=t.plusContentBehavior=function(e){var t=e.dispatch;e.getState;return function(e){return function(n){var r=e(n);if(n.type===i.PAGE_DETECTED&&NPR){var a=(0,o.default)(NPR,"serverVars.podcastEpisodeRawType",null),u=(0,o.default)(NPR,"serverVars.podcastEpisodeDerivedPlusType",null),l=(0,o.default)(NPR,"serverVars.podcastChannelParentId",null),c=(0,o.default)(NPR,"serverVars.hasPremiumPodcastChannelContent",null),d=(0,o.default)(NPR,"serverVars.podcastInitialEpisodeContentCharacteristicsList",null);t(s.initialPlusContentPropertiesForRenderedPageIngested(c,a,u,l,d))}return r}}};t.default=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r,a;r=[n(20),n(8)],void 0===(a=function(e,t){var n=e.create();n.name="agg/live-blog";function r(e){var n=t(this.hash);n.length&&(e.preventDefault(),t("html, body").animate({scrollTop:n.offset().top},1e3).promise().then((function(){if(window.location.hash=n.selector,n.focus(),n.is(":focus"))return!1;n.attr("tabindex","-1"),n.focus(),n.removeAttr("tabindex")})))}function a(){if("undefined"!=typeof nprLiveBlogTargetHash&&null!==nprLiveBlogTargetHash){var e=document.getElementById(nprLiveBlogTargetHash.substring(1)),n=e.getBoundingClientRect().top+window.scrollY;t("html, body").animate({scrollTop:n},1e3).promise().then((function(){window.history.replaceState(null,null,nprLiveBlogTargetHash),e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")}))}}n.onReady=function(){var e,n;t(".live-updates__stories a").on("click",r),t("body").hasClass("liveBlog")&&(e=Date.now(),n=setInterval((function(){var t=Date.now();0===document.querySelectorAll("blockquote.twitter-tweet").length&&(clearInterval(n),a()),t-e>2500&&(clearInterval(n),a())}),250))},n.onUnload=function(){t("body").hasClass("liveBlog")&&t(".live-updates__stories a").off("click",r)},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(106)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r,a;r=[n(8)],void 0===(a=function(e){return e.fn.clicktoggle=function(t,n){return this.each((function(){var r=!1;e(this).bind("click",(function(){return r?(r=!1,n.apply(this,arguments)):(r=!0,t.apply(this,arguments))}))}))},e}.apply(t,r))||(e.exports=a)},,,,,,,,,,,,function(e,t,n){var r,a,o;
/*!
   --------------------------------
   Infinite Scroll
   --------------------------------
   + https://github.com/paulirish/infinite-scroll
   + version 2.1.0
   + Copyright 2011/12 Paul Irish & Luke Shumard
   + Licensed under the MIT license

   + Documentation: http://infinite-scroll.com/
*/a=[n(8)],void 0===(o="function"==typeof(r=function(e,t){"use strict";e.infinitescroll=function(t,n,r){this.element=e(r),this._create(t,n)||(this.failed=!0)},e.infinitescroll.defaults={loading:{finished:t,finishedMsg:"",img:"",msg:null,msgText:"",selector:null,speed:"fast",start:t},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:t,binder:e(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:t,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:t,path:t,prefill:!1,maxPage:t},e.infinitescroll.prototype={_binding:function(e){var n=this,r=n.options;if(r.v="2.0b2.120520",r.behavior&&this["_binding_"+r.behavior]!==t)this["_binding_"+r.behavior].call(this);else{if("bind"!==e&&"unbind"!==e)return this._debug("Binding value  "+e+" not valid"),!1;"unbind"===e?this.options.binder.unbind("smartscroll.infscr."+n.options.infid):this.options.binder[e]("smartscroll.infscr."+n.options.infid,(function(){n.scroll()})),this._debug("Binding",e)}},_create:function(n,r){var a=e.extend(!0,{},e.infinitescroll.defaults,n);this.options=a;var o=e(window);if(!this._validate(n))return!1;var i=e(a.nextSelector).attr("href");if(!i)return this._debug("Navigation selector not found"),!1;a.path=a.path||this._determinepath(i),a.contentSelector=a.contentSelector||this.element,a.loading.selector=a.loading.selector||a.contentSelector,a.loading.msg=a.loading.msg||e('<div id="infscr-loading"><img alt="Loading..." src="'+a.loading.img+'" /><div>'+a.loading.msgText+"</div></div>"),(new Image).src=a.loading.img,a.pixelsFromNavToBottom===t&&(a.pixelsFromNavToBottom=e(document).height()-e(a.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+a.pixelsFromNavToBottom));var s=this;return a.loading.start=a.loading.start||function(){e(a.navSelector).hide(),a.loading.msg.appendTo(a.loading.selector).show(a.loading.speed,e.proxy((function(){this.beginAjax(a)}),s))},a.loading.finished=a.loading.finished||function(){a.state.isBeyondMaxPage||a.loading.msg.fadeOut(a.loading.speed)},a.callback=function(n,i,s){a.behavior&&n["_callback_"+a.behavior]!==t&&n["_callback_"+a.behavior].call(e(a.contentSelector)[0],i,s),r&&r.call(e(a.contentSelector)[0],i,a,s),a.prefill&&o.bind("resize.infinite-scroll",n._prefill)},n.debug&&(!Function.prototype.bind||"object"!=typeof console&&"function"!=typeof console||"object"!=typeof console.log||["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach((function(e){console[e]=this.call(console[e],console)}),Function.prototype.bind)),this._setup(),a.prefill&&this._prefill(),!0},_prefill:function(){var t=this,n=e(window);function r(){return e(t.options.contentSelector).height()<=n.height()}this._prefill=function(){r()&&t.scroll(),n.bind("resize.infinite-scroll",(function(){r()&&(n.unbind("resize.infinite-scroll"),t.scroll())}))},this._prefill()},_debug:function(){!0===this.options.debug&&("undefined"!=typeof console&&"function"==typeof console.log?1===Array.prototype.slice.call(arguments).length&&"string"==typeof Array.prototype.slice.call(arguments)[0]?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments)))},_determinepath:function(e){var n=this.options;if(n.behavior&&this["_determinepath_"+n.behavior]!==t)return this["_determinepath_"+n.behavior].call(this,e);if(n.pathParse)return this._debug("pathParse manual"),n.pathParse(e,this.options.state.currPage+1);if(e.match(/^(.*?)\b2\b(.*?$)/))e=e.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(e.match(/^(.*?)2(.*?$)/)){if(e.match(/^(.*?page=)2(\/.*|$)/))return e=e.match(/^(.*?page=)2(\/.*|$)/).slice(1);e=e.match(/^(.*?)2(.*?$)/).slice(1)}else{if(e.match(/^(.*?page=)1(\/.*|$)/))return e=e.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),n.state.isInvalidPage=!0}return this._debug("determinePath",e),e},_error:function(e){var n=this.options;n.behavior&&this["_error_"+n.behavior]!==t?this["_error_"+n.behavior].call(this,e):("destroy"!==e&&"end"!==e&&(e="unknown"),this._debug("Error",e),("end"===e||n.state.isBeyondMaxPage)&&this._showdonemsg(),n.state.isDone=!0,n.state.currPage=1,n.state.isPaused=!1,n.state.isBeyondMaxPage=!1,this._binding("unbind"))},_loadcallback:function(n,r,a){var o,i=this.options,s=this.options.callback,u=i.state.isDone?"done":i.appendCallback?"append":"no-append";if(i.behavior&&this["_loadcallback_"+i.behavior]!==t)this["_loadcallback_"+i.behavior].call(this,n,r,a);else{switch(u){case"done":return this._showdonemsg(),!1;case"no-append":if("html"===i.dataType&&(r=e(r="<div>"+r+"</div>").find(i.itemSelector)),0===r.length)return this._error("end");break;case"append":var l=n.children();if(0===l.length)return this._error("end");for(o=document.createDocumentFragment();n[0].firstChild;)o.appendChild(n[0].firstChild);this._debug("contentSelector",e(i.contentSelector)[0]),e(i.contentSelector)[0].appendChild(o),r=l.get()}if(i.loading.finished.call(e(i.contentSelector)[0],i),i.animate){var c=e(window).scrollTop()+e(i.loading.msg).height()+i.extraScrollPx+"px";e("html,body").animate({scrollTop:c},800,(function(){i.state.isDuringAjax=!1}))}i.animate||(i.state.isDuringAjax=!1),s(this,r,a),i.prefill&&this._prefill()}},_nearbottom:function(){var n=this.options,r=0+e(document).height()-n.binder.scrollTop()-e(window).height();return n.behavior&&this["_nearbottom_"+n.behavior]!==t?this["_nearbottom_"+n.behavior].call(this):(this._debug("math:",r,n.pixelsFromNavToBottom),r-n.bufferPx<n.pixelsFromNavToBottom)},_pausing:function(e){var n=this.options;if(!n.behavior||this["_pausing_"+n.behavior]===t){switch("pause"!==e&&"resume"!==e&&null!==e&&this._debug("Invalid argument. Toggling pause value instead"),e=!e||"pause"!==e&&"resume"!==e?"toggle":e){case"pause":n.state.isPaused=!0;break;case"resume":n.state.isPaused=!1;break;case"toggle":n.state.isPaused=!n.state.isPaused}return this._debug("Paused",n.state.isPaused),!1}this["_pausing_"+n.behavior].call(this,e)},_setup:function(){var e=this.options;if(!e.behavior||this["_setup_"+e.behavior]===t)return this._binding("bind"),!1;this["_setup_"+e.behavior].call(this)},_showdonemsg:function(){var n=this.options;n.behavior&&this["_showdonemsg_"+n.behavior]!==t?this["_showdonemsg_"+n.behavior].call(this):(n.loading.msg.find("img").hide().parent().find("div").html(n.loading.finishedMsg).animate({opacity:1},2e3,(function(){e(this).parent().fadeOut(n.loading.speed)})),n.errorCallback.call(e(n.contentSelector)[0],"done"))},_validate:function(t){for(var n in t)if(n.indexOf&&n.indexOf("Selector")>-1&&0===e(t[n]).length)return this._debug("Your "+n+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(n){var r,a,o,i,s=this,u=n.path;if(n.state.currPage++,n.maxPage!==t&&n.state.currPage>n.maxPage)return n.state.isBeyondMaxPage=!0,void this.destroy();switch(r=e(n.contentSelector).is("table, tbody")?e("<tbody/>"):e("<div/>"),a="function"==typeof u?u(n.state.currPage):u.join(n.state.currPage),s._debug("heading into ajax",a),o="html"===n.dataType||"json"===n.dataType?n.dataType:"html+callback",n.appendCallback&&"html"===n.dataType&&(o+="+callback"),o){case"html+callback":s._debug("Using HTML via .load() method"),r.load(a+" "+n.itemSelector,t,(function(e){s._loadcallback(r,e,a)}));break;case"html":s._debug("Using "+o.toUpperCase()+" via $.ajax() method"),e.ajax({url:a,dataType:n.dataType,complete:function(e,t){(i=void 0!==e.isResolved?e.isResolved():"success"===t||"notmodified"===t)?s._loadcallback(r,e.responseText,a):s._error("end")}});break;case"json":s._debug("Using "+o.toUpperCase()+" via $.ajax() method"),e.ajax({dataType:"json",type:"GET",url:a,success:function(e,o,u){if(i=void 0!==u.isResolved?u.isResolved():"success"===o||"notmodified"===o,n.appendCallback)if(n.template!==t){var l=n.template(e);r.append(l),i?s._loadcallback(r,l):s._error("end")}else s._debug("template must be defined."),s._error("end");else i?s._loadcallback(r,e,a):s._error("end")},error:function(){s._debug("JSON ajax request failed."),s._error("end")}})}},retrieve:function(n){n=n||null;var r=this.options;if(r.behavior&&this["retrieve_"+r.behavior]!==t)this["retrieve_"+r.behavior].call(this,n);else{if(r.state.isDestroyed)return this._debug("Instance is destroyed"),!1;r.state.isDuringAjax=!0,r.loading.start.call(e(r.contentSelector)[0],r)}},scroll:function(){var e=this.options,n=e.state;e.behavior&&this["scroll_"+e.behavior]!==t?this["scroll_"+e.behavior].call(this):n.isDuringAjax||n.isInvalidPage||n.isDone||n.isDestroyed||n.isPaused||this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))}},e.fn.infinitescroll=function(t,n){var r=typeof t;switch(r){case"string":var a=Array.prototype.slice.call(arguments,1);this.each((function(){var n=e.data(this,"infinitescroll");return!!n&&!(!e.isFunction(n[t])||"_"===t.charAt(0))&&void n[t].apply(n,a)}));break;case"object":this.each((function(){var r=e.data(this,"infinitescroll");r?r.update(t):(r=new e.infinitescroll(t,n,this)).failed||e.data(this,"infinitescroll",r)}))}return this};var n,r=e.event;r.special.smartscroll={setup:function(){e(this).bind("scroll",r.special.smartscroll.handler)},teardown:function(){e(this).unbind("scroll",r.special.smartscroll.handler)},handler:function(t,r){var a=this,o=arguments;t.type="smartscroll",n&&clearTimeout(n),n=setTimeout((function(){e(a).trigger("smartscroll",o)}),"execAsap"===r?0:100)}},e.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}})?r.apply(t,a):r)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(511));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(o(r={},a.ETHICS_SERIES,{facetName:"series",refinementValue:"NPR Ethics Handbook"}),o(r,a.MEMMOS_BLOG,{facetName:"blogs",refinementValue:"Editorial Guidance from the Managing Editor"}),o(r,a.TRAINING_BLOG,{facetName:"blogs",refinementValue:"NPR Training"}),r);t.default=i},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r,a,o;a=[n(8)],void 0===(o="function"==typeof(r=function(e){function t(t){e("li.flexMenu-viewMore.active").not(t).removeClass("active").find("> ul").hide()}var n,r=e(window).width(),a=e(window).height(),o=[];e(window).resize((function(){clearTimeout(n),n=setTimeout((function(){e(window).width()===r&&e(window).height()===a||(e(o).each((function(){e(this).flexMenu({undo:!0}).flexMenu(this.options)})),r=e(window).width(),a=e(window).height())}),200)})),e.fn.flexMenu=function(n){var r,a=e.extend({threshold:2,cutoff:2,linkText:"More",linkTitle:"View More",linkTextAll:"Menu",linkTitleAll:"Open/Close Menu",shouldApply:function(){return!0},showOnHover:!0,popupAbsolute:!0,popupClass:"",undo:!1},n);return this.options=a,(r=e.inArray(this,o))>=0?o.splice(r,1):o.push(this),this.each((function(){function n(e){return Math.ceil(e.offset().top)>=E+m}var r,o,i,s,u,l,c=e(this),d=c.find("> li"),p=d.first(),f=d.last(),_=c.find("li").length,E=Math.floor(p.offset().top),m=Math.floor(p.outerHeight(!0)),g=!1;if(n(f)&&_>a.threshold&&!a.undo&&c.is(":visible")&&a.shouldApply()){var y=e('<ul class="flexMenu-popup" style="display:none;'+(a.popupAbsolute?" position: absolute;":"")+'"></ul>');for(y.addClass(a.popupClass),l=_;l>1;l--){if(o=n(r=c.find("> li:last-child")),l-1<=a.cutoff){e(c.children().get().reverse()).appendTo(y),g=!0;break}if(!o)break;r.appendTo(y)}g?c.append('<li class="flexMenu-viewMore flexMenu-allInPopup"><a href="#" title="'+a.linkTitleAll+'">'+a.linkTextAll+"</a></li>"):c.append('<li class="flexMenu-viewMore"><a href="#" title="'+a.linkTitle+'">'+a.linkText+"</a></li>"),n(i=c.find("> li.flexMenu-viewMore"))&&c.find("> li:nth-last-child(2)").appendTo(y),y.children().each((function(e,t){y.prepend(t)})),i.append(y),c.find("> li.flexMenu-viewMore > a").click((function(e){t(i),y.toggle(),i.toggleClass("active"),e.preventDefault()})),a.showOnHover&&"undefined"!=typeof Modernizr&&!Modernizr.touch&&i.hover((function(){y.show(),e(this).addClass("active")}),(function(){y.hide(),e(this).removeClass("active")}))}else if(a.undo&&c.find("ul.flexMenu-popup")){for(s=(u=c.find("ul.flexMenu-popup")).find("li").length,l=1;l<=s;l++)u.find("> li:first-child").appendTo(c);u.remove(),c.find("> li.flexMenu-viewMore").remove()}}))}})?r.apply(t,a):r)||(e.exports=o)}]]);